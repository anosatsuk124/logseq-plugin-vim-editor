import{d as l,o as d,c as a,a as c,b as u,e as p}from"./vendor.084be912.js";const m=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}};m();const f={id:"editor"},g=l({setup(s){return d(()=>{let o=document.getElementById("editor");o.value="",a.exports.commands.save=function(n){console.log(n.doc.getValue()),alert("save"),logseq.hideMainUI()},a.exports.fromTextArea(o,{mode:"markdown",theme:"markdown",lineNumbers:!0,lineWrapping:!0,indentUnit:2,tabSize:2,indentWithTabs:!0,showCursorWhenSelecting:!0,keyMap:"vim",extraKeys:{Tab:n=>{const r=Array(n.getOption("indentUnit")+1).join(" ");n.replaceSelection(r)},Enter:"newlineAndIndentContinueMarkdownList"}})}),(o,n)=>(u(),c("textarea",f))}});function y(){return{openModel(){logseq.showMainUI()}}}function h(){logseq.setMainUIInlineStyle({position:"fixed",zIndex:11}),logseq.App.registerUIItem("toolbar",{key:"open-vim-editor",template:`
      <a class="button" data-on-click="openModel" style="font-size: 18px">
        V
      </a>
    `}),p(g).mount("#app")}logseq.ready(y()).then(h);
