var Wo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tf={exports:{}};/*! For license information please see lsplugin.user.js.LICENSE.txt */(function(a,f){(function(c,g){a.exports=g()})(self,function(){return(()=>{var c={227:(_,C,S)=>{var z=S(155);C.formatArgs=function(V){if(V[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+V[0]+(this.useColors?"%c ":" ")+"+"+_.exports.humanize(this.diff),!this.useColors)return;const D="color: "+this.color;V.splice(1,0,D,"color: inherit");let G=0,K=0;V[0].replace(/%[a-zA-Z%]/g,ge=>{ge!=="%%"&&(G++,ge==="%c"&&(K=G))}),V.splice(K,0,D)},C.save=function(V){try{V?C.storage.setItem("debug",V):C.storage.removeItem("debug")}catch{}},C.load=function(){let V;try{V=C.storage.getItem("debug")}catch{}return!V&&z!==void 0&&"env"in z&&(V=z.env.DEBUG),V},C.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer"&&!window.process.__nwjs)||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},C.storage=function(){try{return localStorage}catch{}}(),C.destroy=(()=>{let V=!1;return()=>{V||(V=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),C.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],C.log=console.debug||console.log||(()=>{}),_.exports=S(447)(C);const{formatters:H}=_.exports;H.j=function(V){try{return JSON.stringify(V)}catch(D){return"[UnexpectedJSONParseError]: "+D.message}}},447:(_,C,S)=>{_.exports=function(z){function H(G){let K,ge=null;function ae(...be){if(!ae.enabled)return;const ie=ae,Q=Number(new Date),ne=Q-(K||Q);ie.diff=ne,ie.prev=K,ie.curr=Q,K=Q,be[0]=H.coerce(be[0]),typeof be[0]!="string"&&be.unshift("%O");let pe=0;be[0]=be[0].replace(/%([a-zA-Z%])/g,(ve,E)=>{if(ve==="%%")return"%";pe++;const $=H.formatters[E];if(typeof $=="function"){const fe=be[pe];ve=$.call(ie,fe),be.splice(pe,1),pe--}return ve}),H.formatArgs.call(ie,be),(ie.log||H.log).apply(ie,be)}return ae.namespace=G,ae.useColors=H.useColors(),ae.color=H.selectColor(G),ae.extend=V,ae.destroy=H.destroy,Object.defineProperty(ae,"enabled",{enumerable:!0,configurable:!1,get:()=>ge===null?H.enabled(G):ge,set:be=>{ge=be}}),typeof H.init=="function"&&H.init(ae),ae}function V(G,K){const ge=H(this.namespace+(K===void 0?":":K)+G);return ge.log=this.log,ge}function D(G){return G.toString().substring(2,G.toString().length-2).replace(/\.\*\?$/,"*")}return H.debug=H,H.default=H,H.coerce=function(G){return G instanceof Error?G.stack||G.message:G},H.disable=function(){const G=[...H.names.map(D),...H.skips.map(D).map(K=>"-"+K)].join(",");return H.enable(""),G},H.enable=function(G){let K;H.save(G),H.names=[],H.skips=[];const ge=(typeof G=="string"?G:"").split(/[\s,]+/),ae=ge.length;for(K=0;K<ae;K++)ge[K]&&((G=ge[K].replace(/\*/g,".*?"))[0]==="-"?H.skips.push(new RegExp("^"+G.substr(1)+"$")):H.names.push(new RegExp("^"+G+"$")))},H.enabled=function(G){if(G[G.length-1]==="*")return!0;let K,ge;for(K=0,ge=H.skips.length;K<ge;K++)if(H.skips[K].test(G))return!1;for(K=0,ge=H.names.length;K<ge;K++)if(H.names[K].test(G))return!0;return!1},H.humanize=S(824),H.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(z).forEach(G=>{H[G]=z[G]}),H.names=[],H.skips=[],H.formatters={},H.selectColor=function(G){let K=0;for(let ge=0;ge<G.length;ge++)K=(K<<5)-K+G.charCodeAt(ge),K|=0;return H.colors[Math.abs(K)%H.colors.length]},H.enable(H.load()),H}},856:function(_){_.exports=function(){var C=Object.hasOwnProperty,S=Object.setPrototypeOf,z=Object.isFrozen,H=Object.getPrototypeOf,V=Object.getOwnPropertyDescriptor,D=Object.freeze,G=Object.seal,K=Object.create,ge=typeof Reflect<"u"&&Reflect,ae=ge.apply,be=ge.construct;ae||(ae=function(we,xe,ce){return we.apply(xe,ce)}),D||(D=function(we){return we}),G||(G=function(we){return we}),be||(be=function(we,xe){return new(Function.prototype.bind.apply(we,[null].concat(function(ce){if(Array.isArray(ce)){for(var F=0,de=Array(ce.length);F<ce.length;F++)de[F]=ce[F];return de}return Array.from(ce)}(xe))))});var ie,Q=J(Array.prototype.forEach),ne=J(Array.prototype.pop),pe=J(Array.prototype.push),ve=J(String.prototype.toLowerCase),E=J(String.prototype.match),$=J(String.prototype.replace),fe=J(String.prototype.indexOf),Y=J(String.prototype.trim),U=J(RegExp.prototype.test),Oe=(ie=TypeError,function(){for(var we=arguments.length,xe=Array(we),ce=0;ce<we;ce++)xe[ce]=arguments[ce];return be(ie,xe)});function J(we){return function(xe){for(var ce=arguments.length,F=Array(ce>1?ce-1:0),de=1;de<ce;de++)F[de-1]=arguments[de];return ae(we,xe,F)}}function te(we,xe){S&&S(we,null);for(var ce=xe.length;ce--;){var F=xe[ce];if(typeof F=="string"){var de=ve(F);de!==F&&(z(xe)||(xe[ce]=de),F=de)}we[F]=!0}return we}function A(we){var xe=K(null),ce=void 0;for(ce in we)ae(C,we,[ce])&&(xe[ce]=we[ce]);return xe}function Se(we,xe){for(;we!==null;){var ce=V(we,xe);if(ce){if(ce.get)return J(ce.get);if(typeof ce.value=="function")return J(ce.value)}we=H(we)}return function(F){return console.warn("fallback value for",F),null}}var ke=D(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ze=D(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ye=D(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Be=D(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Qe=D(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),W=D(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),T=D(["#text"]),je=D(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Je=D(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Fe=D(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),qe=D(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ae=G(/\{\{[\s\S]*|[\s\S]*\}\}/gm),ht=G(/<%[\s\S]*|[\s\S]*%>/gm),it=G(/^data-[\-\w.\u00B7-\uFFFF]/),$e=G(/^aria-[\-\w]+$/),nt=G(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),P=G(/^(?:\w+script|data):/i),Z=G(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),he=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we};function me(we){if(Array.isArray(we)){for(var xe=0,ce=Array(we.length);xe<we.length;xe++)ce[xe]=we[xe];return ce}return Array.from(we)}var Te=function(){return typeof window>"u"?null:window},De=function(we,xe){if((we===void 0?"undefined":he(we))!=="object"||typeof we.createPolicy!="function")return null;var ce=null,F="data-tt-policy-suffix";xe.currentScript&&xe.currentScript.hasAttribute(F)&&(ce=xe.currentScript.getAttribute(F));var de="dompurify"+(ce?"#"+ce:"");try{return we.createPolicy(de,{createHTML:function(re){return re}})}catch{return console.warn("TrustedTypes policy "+de+" could not be created."),null}};return function we(){var xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Te(),ce=function(le){return we(le)};if(ce.version="2.3.1",ce.removed=[],!xe||!xe.document||xe.document.nodeType!==9)return ce.isSupported=!1,ce;var F=xe.document,de=xe.document,re=xe.DocumentFragment,Ke=xe.HTMLTemplateElement,Ve=xe.Node,vt=xe.Element,xt=xe.NodeFilter,yt=xe.NamedNodeMap,gt=yt===void 0?xe.NamedNodeMap||xe.MozNamedAttrMap:yt,Qt=xe.Text,Jt=xe.Comment,At=xe.DOMParser,et=xe.trustedTypes,Mt=vt.prototype,kt=Se(Mt,"cloneNode"),ot=Se(Mt,"nextSibling"),Rt=Se(Mt,"childNodes"),Pt=Se(Mt,"parentNode");if(typeof Ke=="function"){var qt=de.createElement("template");qt.content&&qt.content.ownerDocument&&(de=qt.content.ownerDocument)}var rr=De(et,F),nr=rr&&Ct?rr.createHTML(""):"",zr=de,ur=zr.implementation,mn=zr.createNodeIterator,fn=zr.createDocumentFragment,It=zr.getElementsByTagName,An=F.importNode,Wt={};try{Wt=A(de).documentMode?de.documentMode:{}}catch{}var fr={};ce.isSupported=typeof Pt=="function"&&ur&&ur.createHTMLDocument!==void 0&&Wt!==9;var cn=Ae,$t=ht,Mn=it,_n=$e,Tr=P,Qr=Z,jr=nt,Dt=null,gr=te({},[].concat(me(ke),me(ze),me(ye),me(Qe),me(T))),er=null,Ir=te({},[].concat(me(je),me(Je),me(Fe),me(qe))),hn=null,Zr=null,Or=!0,wr=!0,hr=!1,Dr=!1,ir=!1,Bt=!1,at=!1,vr=!1,dn=!1,mr=!0,Ct=!1,Xt=!0,Vr=!0,Nr=!1,Ne={},w=null,B=te({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ee=null,He=te({},["audio","video","img","source","image","track"]),ft=null,St=te({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ze="http://www.w3.org/1998/Math/MathML",Kt="http://www.w3.org/2000/svg",bt="http://www.w3.org/1999/xhtml",en=bt,dr=!1,yn=null,En=de.createElement("form"),xn=function(le){yn&&yn===le||(le&&(le===void 0?"undefined":he(le))==="object"||(le={}),le=A(le),Dt="ALLOWED_TAGS"in le?te({},le.ALLOWED_TAGS):gr,er="ALLOWED_ATTR"in le?te({},le.ALLOWED_ATTR):Ir,ft="ADD_URI_SAFE_ATTR"in le?te(A(St),le.ADD_URI_SAFE_ATTR):St,Ee="ADD_DATA_URI_TAGS"in le?te(A(He),le.ADD_DATA_URI_TAGS):He,w="FORBID_CONTENTS"in le?te({},le.FORBID_CONTENTS):B,hn="FORBID_TAGS"in le?te({},le.FORBID_TAGS):{},Zr="FORBID_ATTR"in le?te({},le.FORBID_ATTR):{},Ne="USE_PROFILES"in le&&le.USE_PROFILES,Or=le.ALLOW_ARIA_ATTR!==!1,wr=le.ALLOW_DATA_ATTR!==!1,hr=le.ALLOW_UNKNOWN_PROTOCOLS||!1,Dr=le.SAFE_FOR_TEMPLATES||!1,ir=le.WHOLE_DOCUMENT||!1,vr=le.RETURN_DOM||!1,dn=le.RETURN_DOM_FRAGMENT||!1,mr=le.RETURN_DOM_IMPORT!==!1,Ct=le.RETURN_TRUSTED_TYPE||!1,at=le.FORCE_BODY||!1,Xt=le.SANITIZE_DOM!==!1,Vr=le.KEEP_CONTENT!==!1,Nr=le.IN_PLACE||!1,jr=le.ALLOWED_URI_REGEXP||jr,en=le.NAMESPACE||bt,Dr&&(wr=!1),dn&&(vr=!0),Ne&&(Dt=te({},[].concat(me(T))),er=[],Ne.html===!0&&(te(Dt,ke),te(er,je)),Ne.svg===!0&&(te(Dt,ze),te(er,Je),te(er,qe)),Ne.svgFilters===!0&&(te(Dt,ye),te(er,Je),te(er,qe)),Ne.mathMl===!0&&(te(Dt,Qe),te(er,Fe),te(er,qe))),le.ADD_TAGS&&(Dt===gr&&(Dt=A(Dt)),te(Dt,le.ADD_TAGS)),le.ADD_ATTR&&(er===Ir&&(er=A(er)),te(er,le.ADD_ATTR)),le.ADD_URI_SAFE_ATTR&&te(ft,le.ADD_URI_SAFE_ATTR),le.FORBID_CONTENTS&&(w===B&&(w=A(w)),te(w,le.FORBID_CONTENTS)),Vr&&(Dt["#text"]=!0),ir&&te(Dt,["html","head","body"]),Dt.table&&(te(Dt,["tbody"]),delete hn.tbody),D&&D(le),yn=le)},bn=te({},["mi","mo","mn","ms","mtext"]),Pr=te({},["foreignobject","desc","title","annotation-xml"]),Wr=te({},ze);te(Wr,ye),te(Wr,Be);var Nn=te({},Qe);te(Nn,W);var wn=function(le){var ut=Pt(le);ut&&ut.tagName||(ut={namespaceURI:bt,tagName:"template"});var lt=ve(le.tagName),Et=ve(ut.tagName);if(le.namespaceURI===Kt)return ut.namespaceURI===bt?lt==="svg":ut.namespaceURI===Ze?lt==="svg"&&(Et==="annotation-xml"||bn[Et]):Boolean(Wr[lt]);if(le.namespaceURI===Ze)return ut.namespaceURI===bt?lt==="math":ut.namespaceURI===Kt?lt==="math"&&Pr[Et]:Boolean(Nn[lt]);if(le.namespaceURI===bt){if(ut.namespaceURI===Kt&&!Pr[Et]||ut.namespaceURI===Ze&&!bn[Et])return!1;var Ht=te({},["title","style","font","a","script"]);return!Nn[lt]&&(Ht[lt]||!Wr[lt])}return!1},Kr=function(le){pe(ce.removed,{element:le});try{le.parentNode.removeChild(le)}catch{try{le.outerHTML=nr}catch{le.remove()}}},kn=function(le,ut){try{pe(ce.removed,{attribute:ut.getAttributeNode(le),from:ut})}catch{pe(ce.removed,{attribute:null,from:ut})}if(ut.removeAttribute(le),le==="is"&&!er[le])if(vr||dn)try{Kr(ut)}catch{}else try{ut.setAttribute(le,"")}catch{}},$n=function(le){var ut=void 0,lt=void 0;if(at)le="<remove></remove>"+le;else{var Et=E(le,/^[\r\n\t ]+/);lt=Et&&Et[0]}var Ht=rr?rr.createHTML(le):le;if(en===bt)try{ut=new At().parseFromString(Ht,"text/html")}catch{}if(!ut||!ut.documentElement){ut=ur.createDocument(en,"template",null);try{ut.documentElement.innerHTML=dr?"":Ht}catch{}}var I=ut.body||ut.documentElement;return le&&lt&&I.insertBefore(de.createTextNode(lt),I.childNodes[0]||null),en===bt?It.call(ut,ir?"html":"body")[0]:ir?ut.documentElement:I},Xn=function(le){return mn.call(le.ownerDocument||le,le,xt.SHOW_ELEMENT|xt.SHOW_COMMENT|xt.SHOW_TEXT,null,!1)},Yn=function(le){return!(le instanceof Qt||le instanceof Jt||typeof le.nodeName=="string"&&typeof le.textContent=="string"&&typeof le.removeChild=="function"&&le.attributes instanceof gt&&typeof le.removeAttribute=="function"&&typeof le.setAttribute=="function"&&typeof le.namespaceURI=="string"&&typeof le.insertBefore=="function")},yr=function(le){return(Ve===void 0?"undefined":he(Ve))==="object"?le instanceof Ve:le&&(le===void 0?"undefined":he(le))==="object"&&typeof le.nodeType=="number"&&typeof le.nodeName=="string"},or=function(le,ut,lt){fr[le]&&Q(fr[le],function(Et){Et.call(ce,ut,lt,yn)})},oi=function(le){var ut=void 0;if(or("beforeSanitizeElements",le,null),Yn(le)||E(le.nodeName,/[\u0080-\uFFFF]/))return Kr(le),!0;var lt=ve(le.nodeName);if(or("uponSanitizeElement",le,{tagName:lt,allowedTags:Dt}),!yr(le.firstElementChild)&&(!yr(le.content)||!yr(le.content.firstElementChild))&&U(/<[/\w]/g,le.innerHTML)&&U(/<[/\w]/g,le.textContent)||lt==="select"&&U(/<template/i,le.innerHTML))return Kr(le),!0;if(!Dt[lt]||hn[lt]){if(Vr&&!w[lt]){var Et=Pt(le)||le.parentNode,Ht=Rt(le)||le.childNodes;if(Ht&&Et)for(var I=Ht.length-1;I>=0;--I)Et.insertBefore(kt(Ht[I],!0),ot(le))}return Kr(le),!0}return le instanceof vt&&!wn(le)?(Kr(le),!0):lt!=="noscript"&&lt!=="noembed"||!U(/<\/no(script|embed)/i,le.innerHTML)?(Dr&&le.nodeType===3&&(ut=le.textContent,ut=$(ut,cn," "),ut=$(ut,$t," "),le.textContent!==ut&&(pe(ce.removed,{element:le.cloneNode()}),le.textContent=ut)),or("afterSanitizeElements",le,null),!1):(Kr(le),!0)},tn=function(le,ut,lt){if(Xt&&(ut==="id"||ut==="name")&&(lt in de||lt in En))return!1;if(!(wr&&!Zr[ut]&&U(Mn,ut))){if(!(Or&&U(_n,ut))){if(!er[ut]||Zr[ut])return!1;if(!ft[ut]){if(!U(jr,$(lt,Qr,""))){if((ut!=="src"&&ut!=="xlink:href"&&ut!=="href"||le==="script"||fe(lt,"data:")!==0||!Ee[le])&&!(hr&&!U(Tr,$(lt,Qr,"")))){if(lt)return!1}}}}}return!0},Ur=function(le){var ut=void 0,lt=void 0,Et=void 0,Ht=void 0;or("beforeSanitizeAttributes",le,null);var I=le.attributes;if(I){var L={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:er};for(Ht=I.length;Ht--;){var q=ut=I[Ht],ue=q.name,Pe=q.namespaceURI;if(lt=Y(ut.value),Et=ve(ue),L.attrName=Et,L.attrValue=lt,L.keepAttr=!0,L.forceKeepAttr=void 0,or("uponSanitizeAttribute",le,L),lt=L.attrValue,!L.forceKeepAttr&&(kn(ue,le),L.keepAttr))if(U(/\/>/i,lt))kn(ue,le);else{Dr&&(lt=$(lt,cn," "),lt=$(lt,$t," "));var We=le.nodeName.toLowerCase();if(tn(We,Et,lt))try{Pe?le.setAttributeNS(Pe,ue,lt):le.setAttribute(ue,lt),ne(ce.removed)}catch{}}}or("afterSanitizeAttributes",le,null)}},wi=function le(ut){var lt=void 0,Et=Xn(ut);for(or("beforeSanitizeShadowDOM",ut,null);lt=Et.nextNode();)or("uponSanitizeShadowNode",lt,null),oi(lt)||(lt.content instanceof re&&le(lt.content),Ur(lt));or("afterSanitizeShadowDOM",ut,null)};return ce.sanitize=function(le,ut){var lt=void 0,Et=void 0,Ht=void 0,I=void 0,L=void 0;if((dr=!le)&&(le="<!-->"),typeof le!="string"&&!yr(le)){if(typeof le.toString!="function")throw Oe("toString is not a function");if(typeof(le=le.toString())!="string")throw Oe("dirty is not a string, aborting")}if(!ce.isSupported){if(he(xe.toStaticHTML)==="object"||typeof xe.toStaticHTML=="function"){if(typeof le=="string")return xe.toStaticHTML(le);if(yr(le))return xe.toStaticHTML(le.outerHTML)}return le}if(Bt||xn(ut),ce.removed=[],typeof le=="string"&&(Nr=!1),!Nr)if(le instanceof Ve)(Et=(lt=$n("<!---->")).ownerDocument.importNode(le,!0)).nodeType===1&&Et.nodeName==="BODY"||Et.nodeName==="HTML"?lt=Et:lt.appendChild(Et);else{if(!vr&&!Dr&&!ir&&le.indexOf("<")===-1)return rr&&Ct?rr.createHTML(le):le;if(!(lt=$n(le)))return vr?null:nr}lt&&at&&Kr(lt.firstChild);for(var q=Xn(Nr?le:lt);Ht=q.nextNode();)Ht.nodeType===3&&Ht===I||oi(Ht)||(Ht.content instanceof re&&wi(Ht.content),Ur(Ht),I=Ht);if(I=null,Nr)return le;if(vr){if(dn)for(L=fn.call(lt.ownerDocument);lt.firstChild;)L.appendChild(lt.firstChild);else L=lt;return mr&&(L=An.call(F,L,!0)),L}var ue=ir?lt.outerHTML:lt.innerHTML;return Dr&&(ue=$(ue,cn," "),ue=$(ue,$t," ")),rr&&Ct?rr.createHTML(ue):ue},ce.setConfig=function(le){xn(le),Bt=!0},ce.clearConfig=function(){yn=null,Bt=!1},ce.isValidAttribute=function(le,ut,lt){yn||xn({});var Et=ve(le),Ht=ve(ut);return tn(Et,Ht,lt)},ce.addHook=function(le,ut){typeof ut=="function"&&(fr[le]=fr[le]||[],pe(fr[le],ut))},ce.removeHook=function(le){fr[le]&&ne(fr[le])},ce.removeHooks=function(le){fr[le]&&(fr[le]=[])},ce.removeAllHooks=function(){fr={}},ce}()}()},729:_=>{var C=Object.prototype.hasOwnProperty,S="~";function z(){}function H(K,ge,ae){this.fn=K,this.context=ge,this.once=ae||!1}function V(K,ge,ae,be,ie){if(typeof ae!="function")throw new TypeError("The listener must be a function");var Q=new H(ae,be||K,ie),ne=S?S+ge:ge;return K._events[ne]?K._events[ne].fn?K._events[ne]=[K._events[ne],Q]:K._events[ne].push(Q):(K._events[ne]=Q,K._eventsCount++),K}function D(K,ge){--K._eventsCount==0?K._events=new z:delete K._events[ge]}function G(){this._events=new z,this._eventsCount=0}Object.create&&(z.prototype=Object.create(null),new z().__proto__||(S=!1)),G.prototype.eventNames=function(){var K,ge,ae=[];if(this._eventsCount===0)return ae;for(ge in K=this._events)C.call(K,ge)&&ae.push(S?ge.slice(1):ge);return Object.getOwnPropertySymbols?ae.concat(Object.getOwnPropertySymbols(K)):ae},G.prototype.listeners=function(K){var ge=S?S+K:K,ae=this._events[ge];if(!ae)return[];if(ae.fn)return[ae.fn];for(var be=0,ie=ae.length,Q=new Array(ie);be<ie;be++)Q[be]=ae[be].fn;return Q},G.prototype.listenerCount=function(K){var ge=S?S+K:K,ae=this._events[ge];return ae?ae.fn?1:ae.length:0},G.prototype.emit=function(K,ge,ae,be,ie,Q){var ne=S?S+K:K;if(!this._events[ne])return!1;var pe,ve,E=this._events[ne],$=arguments.length;if(E.fn){switch(E.once&&this.removeListener(K,E.fn,void 0,!0),$){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,ge),!0;case 3:return E.fn.call(E.context,ge,ae),!0;case 4:return E.fn.call(E.context,ge,ae,be),!0;case 5:return E.fn.call(E.context,ge,ae,be,ie),!0;case 6:return E.fn.call(E.context,ge,ae,be,ie,Q),!0}for(ve=1,pe=new Array($-1);ve<$;ve++)pe[ve-1]=arguments[ve];E.fn.apply(E.context,pe)}else{var fe,Y=E.length;for(ve=0;ve<Y;ve++)switch(E[ve].once&&this.removeListener(K,E[ve].fn,void 0,!0),$){case 1:E[ve].fn.call(E[ve].context);break;case 2:E[ve].fn.call(E[ve].context,ge);break;case 3:E[ve].fn.call(E[ve].context,ge,ae);break;case 4:E[ve].fn.call(E[ve].context,ge,ae,be);break;default:if(!pe)for(fe=1,pe=new Array($-1);fe<$;fe++)pe[fe-1]=arguments[fe];E[ve].fn.apply(E[ve].context,pe)}}return!0},G.prototype.on=function(K,ge,ae){return V(this,K,ge,ae,!1)},G.prototype.once=function(K,ge,ae){return V(this,K,ge,ae,!0)},G.prototype.removeListener=function(K,ge,ae,be){var ie=S?S+K:K;if(!this._events[ie])return this;if(!ge)return D(this,ie),this;var Q=this._events[ie];if(Q.fn)Q.fn!==ge||be&&!Q.once||ae&&Q.context!==ae||D(this,ie);else{for(var ne=0,pe=[],ve=Q.length;ne<ve;ne++)(Q[ne].fn!==ge||be&&!Q[ne].once||ae&&Q[ne].context!==ae)&&pe.push(Q[ne]);pe.length?this._events[ie]=pe.length===1?pe[0]:pe:D(this,ie)}return this},G.prototype.removeAllListeners=function(K){var ge;return K?(ge=S?S+K:K,this._events[ge]&&D(this,ge)):(this._events=new z,this._eventsCount=0),this},G.prototype.off=G.prototype.removeListener,G.prototype.addListener=G.prototype.on,G.prefixed=S,G.EventEmitter=G,_.exports=G},717:_=>{typeof Object.create=="function"?_.exports=function(C,S){C.super_=S,C.prototype=Object.create(S.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}})}:_.exports=function(C,S){C.super_=S;var z=function(){};z.prototype=S.prototype,C.prototype=new z,C.prototype.constructor=C}},824:_=>{var C=1e3,S=60*C,z=60*S,H=24*z;function V(D,G,K,ge){var ae=G>=1.5*K;return Math.round(D/K)+" "+ge+(ae?"s":"")}_.exports=function(D,G){G=G||{};var K,ge,ae=typeof D;if(ae==="string"&&D.length>0)return function(be){if(!((be=String(be)).length>100)){var ie=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(be);if(ie){var Q=parseFloat(ie[1]);switch((ie[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*Q;case"weeks":case"week":case"w":return 6048e5*Q;case"days":case"day":case"d":return Q*H;case"hours":case"hour":case"hrs":case"hr":case"h":return Q*z;case"minutes":case"minute":case"mins":case"min":case"m":return Q*S;case"seconds":case"second":case"secs":case"sec":case"s":return Q*C;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return Q;default:return}}}}(D);if(ae==="number"&&isFinite(D))return G.long?(K=D,(ge=Math.abs(K))>=H?V(K,ge,H,"day"):ge>=z?V(K,ge,z,"hour"):ge>=S?V(K,ge,S,"minute"):ge>=C?V(K,ge,C,"second"):K+" ms"):function(be){var ie=Math.abs(be);return ie>=H?Math.round(be/H)+"d":ie>=z?Math.round(be/z)+"h":ie>=S?Math.round(be/S)+"m":ie>=C?Math.round(be/C)+"s":be+"ms"}(D);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(D))}},520:(_,C,S)=>{var z=S(155),H=z.platform==="win32",V=S(539);function D(E,$){for(var fe=[],Y=0;Y<E.length;Y++){var U=E[Y];U&&U!=="."&&(U===".."?fe.length&&fe[fe.length-1]!==".."?fe.pop():$&&fe.push(".."):fe.push(U))}return fe}function G(E){for(var $=E.length-1,fe=0;fe<=$&&!E[fe];fe++);for(var Y=$;Y>=0&&!E[Y];Y--);return fe===0&&Y===$?E:fe>Y?[]:E.slice(fe,Y+1)}var K=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,ge=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,ae={};function be(E){var $=K.exec(E),fe=($[1]||"")+($[2]||""),Y=$[3]||"",U=ge.exec(Y);return[fe,U[1],U[2],U[3]]}function ie(E){var $=K.exec(E),fe=$[1]||"",Y=!!fe&&fe[1]!==":";return{device:fe,isUnc:Y,isAbsolute:Y||!!$[2],tail:$[3]}}function Q(E){return"\\\\"+E.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}ae.resolve=function(){for(var E="",$="",fe=!1,Y=arguments.length-1;Y>=-1;Y--){var U;if(Y>=0?U=arguments[Y]:E?(U=z.env["="+E])&&U.substr(0,3).toLowerCase()===E.toLowerCase()+"\\"||(U=E+"\\"):U=z.cwd(),!V.isString(U))throw new TypeError("Arguments to path.resolve must be strings");if(U){var Oe=ie(U),J=Oe.device,te=Oe.isUnc,A=Oe.isAbsolute,Se=Oe.tail;if((!J||!E||J.toLowerCase()===E.toLowerCase())&&(E||(E=J),fe||($=Se+"\\"+$,fe=A),E&&fe))break}}return te&&(E=Q(E)),E+(fe?"\\":"")+($=D($.split(/[\\\/]+/),!fe).join("\\"))||"."},ae.normalize=function(E){var $=ie(E),fe=$.device,Y=$.isUnc,U=$.isAbsolute,Oe=$.tail,J=/[\\\/]$/.test(Oe);return(Oe=D(Oe.split(/[\\\/]+/),!U).join("\\"))||U||(Oe="."),Oe&&J&&(Oe+="\\"),Y&&(fe=Q(fe)),fe+(U?"\\":"")+Oe},ae.isAbsolute=function(E){return ie(E).isAbsolute},ae.join=function(){for(var E=[],$=0;$<arguments.length;$++){var fe=arguments[$];if(!V.isString(fe))throw new TypeError("Arguments to path.join must be strings");fe&&E.push(fe)}var Y=E.join("\\");return/^[\\\/]{2}[^\\\/]/.test(E[0])||(Y=Y.replace(/^[\\\/]{2,}/,"\\")),ae.normalize(Y)},ae.relative=function(E,$){E=ae.resolve(E),$=ae.resolve($);for(var fe=E.toLowerCase(),Y=$.toLowerCase(),U=G($.split("\\")),Oe=G(fe.split("\\")),J=G(Y.split("\\")),te=Math.min(Oe.length,J.length),A=te,Se=0;Se<te;Se++)if(Oe[Se]!==J[Se]){A=Se;break}if(A==0)return $;var ke=[];for(Se=A;Se<Oe.length;Se++)ke.push("..");return(ke=ke.concat(U.slice(A))).join("\\")},ae._makeLong=function(E){if(!V.isString(E))return E;if(!E)return"";var $=ae.resolve(E);return/^[a-zA-Z]\:\\/.test($)?"\\\\?\\"+$:/^\\\\[^?.]/.test($)?"\\\\?\\UNC\\"+$.substring(2):E},ae.dirname=function(E){var $=be(E),fe=$[0],Y=$[1];return fe||Y?(Y&&(Y=Y.substr(0,Y.length-1)),fe+Y):"."},ae.basename=function(E,$){var fe=be(E)[2];return $&&fe.substr(-1*$.length)===$&&(fe=fe.substr(0,fe.length-$.length)),fe},ae.extname=function(E){return be(E)[3]},ae.format=function(E){if(!V.isObject(E))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof E);var $=E.root||"";if(!V.isString($))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof E.root);var fe=E.dir,Y=E.base||"";return fe?fe[fe.length-1]===ae.sep?fe+Y:fe+ae.sep+Y:Y},ae.parse=function(E){if(!V.isString(E))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof E);var $=be(E);if(!$||$.length!==4)throw new TypeError("Invalid path '"+E+"'");return{root:$[0],dir:$[0]+$[1].slice(0,-1),base:$[2],ext:$[3],name:$[2].slice(0,$[2].length-$[3].length)}},ae.sep="\\",ae.delimiter=";";var ne=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,pe={};function ve(E){return ne.exec(E).slice(1)}pe.resolve=function(){for(var E="",$=!1,fe=arguments.length-1;fe>=-1&&!$;fe--){var Y=fe>=0?arguments[fe]:z.cwd();if(!V.isString(Y))throw new TypeError("Arguments to path.resolve must be strings");Y&&(E=Y+"/"+E,$=Y[0]==="/")}return($?"/":"")+(E=D(E.split("/"),!$).join("/"))||"."},pe.normalize=function(E){var $=pe.isAbsolute(E),fe=E&&E[E.length-1]==="/";return(E=D(E.split("/"),!$).join("/"))||$||(E="."),E&&fe&&(E+="/"),($?"/":"")+E},pe.isAbsolute=function(E){return E.charAt(0)==="/"},pe.join=function(){for(var E="",$=0;$<arguments.length;$++){var fe=arguments[$];if(!V.isString(fe))throw new TypeError("Arguments to path.join must be strings");fe&&(E+=E?"/"+fe:fe)}return pe.normalize(E)},pe.relative=function(E,$){E=pe.resolve(E).substr(1),$=pe.resolve($).substr(1);for(var fe=G(E.split("/")),Y=G($.split("/")),U=Math.min(fe.length,Y.length),Oe=U,J=0;J<U;J++)if(fe[J]!==Y[J]){Oe=J;break}var te=[];for(J=Oe;J<fe.length;J++)te.push("..");return(te=te.concat(Y.slice(Oe))).join("/")},pe._makeLong=function(E){return E},pe.dirname=function(E){var $=ve(E),fe=$[0],Y=$[1];return fe||Y?(Y&&(Y=Y.substr(0,Y.length-1)),fe+Y):"."},pe.basename=function(E,$){var fe=ve(E)[2];return $&&fe.substr(-1*$.length)===$&&(fe=fe.substr(0,fe.length-$.length)),fe},pe.extname=function(E){return ve(E)[3]},pe.format=function(E){if(!V.isObject(E))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof E);var $=E.root||"";if(!V.isString($))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof E.root);return(E.dir?E.dir+pe.sep:"")+(E.base||"")},pe.parse=function(E){if(!V.isString(E))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof E);var $=ve(E);if(!$||$.length!==4)throw new TypeError("Invalid path '"+E+"'");return $[1]=$[1]||"",$[2]=$[2]||"",$[3]=$[3]||"",{root:$[0],dir:$[0]+$[1].slice(0,-1),base:$[2],ext:$[3],name:$[2].slice(0,$[2].length-$[3].length)}},pe.sep="/",pe.delimiter=":",_.exports=H?ae:pe,_.exports.posix=pe,_.exports.win32=ae},155:_=>{var C,S,z=_.exports={};function H(){throw new Error("setTimeout has not been defined")}function V(){throw new Error("clearTimeout has not been defined")}function D(pe){if(C===setTimeout)return setTimeout(pe,0);if((C===H||!C)&&setTimeout)return C=setTimeout,setTimeout(pe,0);try{return C(pe,0)}catch{try{return C.call(null,pe,0)}catch{return C.call(this,pe,0)}}}(function(){try{C=typeof setTimeout=="function"?setTimeout:H}catch{C=H}try{S=typeof clearTimeout=="function"?clearTimeout:V}catch{S=V}})();var G,K=[],ge=!1,ae=-1;function be(){ge&&G&&(ge=!1,G.length?K=G.concat(K):ae=-1,K.length&&ie())}function ie(){if(!ge){var pe=D(be);ge=!0;for(var ve=K.length;ve;){for(G=K,K=[];++ae<ve;)G&&G[ae].run();ae=-1,ve=K.length}G=null,ge=!1,function(E){if(S===clearTimeout)return clearTimeout(E);if((S===V||!S)&&clearTimeout)return S=clearTimeout,clearTimeout(E);try{S(E)}catch{try{return S.call(null,E)}catch{return S.call(this,E)}}}(pe)}}function Q(pe,ve){this.fun=pe,this.array=ve}function ne(){}z.nextTick=function(pe){var ve=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)ve[E-1]=arguments[E];K.push(new Q(pe,ve)),K.length!==1||ge||D(ie)},Q.prototype.run=function(){this.fun.apply(null,this.array)},z.title="browser",z.browser=!0,z.env={},z.argv=[],z.version="",z.versions={},z.on=ne,z.addListener=ne,z.once=ne,z.off=ne,z.removeListener=ne,z.removeAllListeners=ne,z.emit=ne,z.prependListener=ne,z.prependOnceListener=ne,z.listeners=function(pe){return[]},z.binding=function(pe){throw new Error("process.binding is not supported")},z.cwd=function(){return"/"},z.chdir=function(pe){throw new Error("process.chdir is not supported")},z.umask=function(){return 0}},384:_=>{_.exports=function(C){return C&&typeof C=="object"&&typeof C.copy=="function"&&typeof C.fill=="function"&&typeof C.readUInt8=="function"}},539:(_,C,S)=>{var z=S(155),H=/%[sdj%]/g;C.format=function(ye){if(!E(ye)){for(var Be=[],Qe=0;Qe<arguments.length;Qe++)Be.push(G(arguments[Qe]));return Be.join(" ")}Qe=1;for(var W=arguments,T=W.length,je=String(ye).replace(H,function(Fe){if(Fe==="%%")return"%";if(Qe>=T)return Fe;switch(Fe){case"%s":return String(W[Qe++]);case"%d":return Number(W[Qe++]);case"%j":try{return JSON.stringify(W[Qe++])}catch{return"[Circular]"}default:return Fe}}),Je=W[Qe];Qe<T;Je=W[++Qe])pe(Je)||!Y(Je)?je+=" "+Je:je+=" "+G(Je);return je},C.deprecate=function(ye,Be){if($(S.g.process))return function(){return C.deprecate(ye,Be).apply(this,arguments)};if(z.noDeprecation===!0)return ye;var Qe=!1;return function(){if(!Qe){if(z.throwDeprecation)throw new Error(Be);z.traceDeprecation?console.trace(Be):console.error(Be),Qe=!0}return ye.apply(this,arguments)}};var V,D={};function G(ye,Be){var Qe={seen:[],stylize:ge};return arguments.length>=3&&(Qe.depth=arguments[2]),arguments.length>=4&&(Qe.colors=arguments[3]),ne(Be)?Qe.showHidden=Be:Be&&C._extend(Qe,Be),$(Qe.showHidden)&&(Qe.showHidden=!1),$(Qe.depth)&&(Qe.depth=2),$(Qe.colors)&&(Qe.colors=!1),$(Qe.customInspect)&&(Qe.customInspect=!0),Qe.colors&&(Qe.stylize=K),ae(Qe,ye,Qe.depth)}function K(ye,Be){var Qe=G.styles[Be];return Qe?"\x1B["+G.colors[Qe][0]+"m"+ye+"\x1B["+G.colors[Qe][1]+"m":ye}function ge(ye,Be){return ye}function ae(ye,Be,Qe){if(ye.customInspect&&Be&&J(Be.inspect)&&Be.inspect!==C.inspect&&(!Be.constructor||Be.constructor.prototype!==Be)){var W=Be.inspect(Qe,ye);return E(W)||(W=ae(ye,W,Qe)),W}var T=function($e,nt){if($(nt))return $e.stylize("undefined","undefined");if(E(nt)){var P="'"+JSON.stringify(nt).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return $e.stylize(P,"string")}return ve(nt)?$e.stylize(""+nt,"number"):ne(nt)?$e.stylize(""+nt,"boolean"):pe(nt)?$e.stylize("null","null"):void 0}(ye,Be);if(T)return T;var je=Object.keys(Be),Je=function($e){var nt={};return $e.forEach(function(P,Z){nt[P]=!0}),nt}(je);if(ye.showHidden&&(je=Object.getOwnPropertyNames(Be)),Oe(Be)&&(je.indexOf("message")>=0||je.indexOf("description")>=0))return be(Be);if(je.length===0){if(J(Be)){var Fe=Be.name?": "+Be.name:"";return ye.stylize("[Function"+Fe+"]","special")}if(fe(Be))return ye.stylize(RegExp.prototype.toString.call(Be),"regexp");if(U(Be))return ye.stylize(Date.prototype.toString.call(Be),"date");if(Oe(Be))return be(Be)}var qe,Ae="",ht=!1,it=["{","}"];return Q(Be)&&(ht=!0,it=["[","]"]),J(Be)&&(Ae=" [Function"+(Be.name?": "+Be.name:"")+"]"),fe(Be)&&(Ae=" "+RegExp.prototype.toString.call(Be)),U(Be)&&(Ae=" "+Date.prototype.toUTCString.call(Be)),Oe(Be)&&(Ae=" "+be(Be)),je.length!==0||ht&&Be.length!=0?Qe<0?fe(Be)?ye.stylize(RegExp.prototype.toString.call(Be),"regexp"):ye.stylize("[Object]","special"):(ye.seen.push(Be),qe=ht?function($e,nt,P,Z,he){for(var me=[],Te=0,De=nt.length;Te<De;++Te)ze(nt,String(Te))?me.push(ie($e,nt,P,Z,String(Te),!0)):me.push("");return he.forEach(function(we){we.match(/^\d+$/)||me.push(ie($e,nt,P,Z,we,!0))}),me}(ye,Be,Qe,Je,je):je.map(function($e){return ie(ye,Be,Qe,Je,$e,ht)}),ye.seen.pop(),function($e,nt,P){return $e.reduce(function(Z,he){return he.indexOf(`
`),Z+he.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?P[0]+(nt===""?"":nt+`
 `)+" "+$e.join(`,
  `)+" "+P[1]:P[0]+nt+" "+$e.join(", ")+" "+P[1]}(qe,Ae,it)):it[0]+Ae+it[1]}function be(ye){return"["+Error.prototype.toString.call(ye)+"]"}function ie(ye,Be,Qe,W,T,je){var Je,Fe,qe;if((qe=Object.getOwnPropertyDescriptor(Be,T)||{value:Be[T]}).get?Fe=qe.set?ye.stylize("[Getter/Setter]","special"):ye.stylize("[Getter]","special"):qe.set&&(Fe=ye.stylize("[Setter]","special")),ze(W,T)||(Je="["+T+"]"),Fe||(ye.seen.indexOf(qe.value)<0?(Fe=pe(Qe)?ae(ye,qe.value,null):ae(ye,qe.value,Qe-1)).indexOf(`
`)>-1&&(Fe=je?Fe.split(`
`).map(function(Ae){return"  "+Ae}).join(`
`).substr(2):`
`+Fe.split(`
`).map(function(Ae){return"   "+Ae}).join(`
`)):Fe=ye.stylize("[Circular]","special")),$(Je)){if(je&&T.match(/^\d+$/))return Fe;(Je=JSON.stringify(""+T)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Je=Je.substr(1,Je.length-2),Je=ye.stylize(Je,"name")):(Je=Je.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Je=ye.stylize(Je,"string"))}return Je+": "+Fe}function Q(ye){return Array.isArray(ye)}function ne(ye){return typeof ye=="boolean"}function pe(ye){return ye===null}function ve(ye){return typeof ye=="number"}function E(ye){return typeof ye=="string"}function $(ye){return ye===void 0}function fe(ye){return Y(ye)&&te(ye)==="[object RegExp]"}function Y(ye){return typeof ye=="object"&&ye!==null}function U(ye){return Y(ye)&&te(ye)==="[object Date]"}function Oe(ye){return Y(ye)&&(te(ye)==="[object Error]"||ye instanceof Error)}function J(ye){return typeof ye=="function"}function te(ye){return Object.prototype.toString.call(ye)}function A(ye){return ye<10?"0"+ye.toString(10):ye.toString(10)}C.debuglog=function(ye){if($(V)&&(V=z.env.NODE_DEBUG||""),ye=ye.toUpperCase(),!D[ye])if(new RegExp("\\b"+ye+"\\b","i").test(V)){var Be=z.pid;D[ye]=function(){var Qe=C.format.apply(C,arguments);console.error("%s %d: %s",ye,Be,Qe)}}else D[ye]=function(){};return D[ye]},C.inspect=G,G.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},G.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},C.isArray=Q,C.isBoolean=ne,C.isNull=pe,C.isNullOrUndefined=function(ye){return ye==null},C.isNumber=ve,C.isString=E,C.isSymbol=function(ye){return typeof ye=="symbol"},C.isUndefined=$,C.isRegExp=fe,C.isObject=Y,C.isDate=U,C.isError=Oe,C.isFunction=J,C.isPrimitive=function(ye){return ye===null||typeof ye=="boolean"||typeof ye=="number"||typeof ye=="string"||typeof ye=="symbol"||ye===void 0},C.isBuffer=S(384);var Se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ke(){var ye=new Date,Be=[A(ye.getHours()),A(ye.getMinutes()),A(ye.getSeconds())].join(":");return[ye.getDate(),Se[ye.getMonth()],Be].join(" ")}function ze(ye,Be){return Object.prototype.hasOwnProperty.call(ye,Be)}C.log=function(){console.log("%s - %s",ke(),C.format.apply(C,arguments))},C.inherits=S(717),C._extend=function(ye,Be){if(!Be||!Y(Be))return ye;for(var Qe=Object.keys(Be),W=Qe.length;W--;)ye[Qe[W]]=Be[Qe[W]];return ye}}},g={};function x(_){var C=g[_];if(C!==void 0)return C.exports;var S=g[_]={exports:{}};return c[_].call(S.exports,S,S.exports,x),S.exports}x.n=_=>{var C=_&&_.__esModule?()=>_.default:()=>_;return x.d(C,{a:C}),C},x.d=(_,C)=>{for(var S in C)x.o(C,S)&&!x.o(_,S)&&Object.defineProperty(_,S,{enumerable:!0,get:C[S]})},x.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),x.o=(_,C)=>Object.prototype.hasOwnProperty.call(_,C),x.r=_=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})};var k={};return(()=>{x.r(k),x.d(k,{LSPluginUser:()=>Et,setupPluginUserInstance:()=>Ht});var _=x(520);x(856);const C=function(I,L){return I===L||I!=I&&L!=L},S=function(I,L){for(var q=I.length;q--;)if(C(I[q][0],L))return q;return-1};var z=Array.prototype.splice;function H(I){var L=-1,q=I==null?0:I.length;for(this.clear();++L<q;){var ue=I[L];this.set(ue[0],ue[1])}}H.prototype.clear=function(){this.__data__=[],this.size=0},H.prototype.delete=function(I){var L=this.__data__,q=S(L,I);return!(q<0||(q==L.length-1?L.pop():z.call(L,q,1),--this.size,0))},H.prototype.get=function(I){var L=this.__data__,q=S(L,I);return q<0?void 0:L[q][1]},H.prototype.has=function(I){return S(this.__data__,I)>-1},H.prototype.set=function(I,L){var q=this.__data__,ue=S(q,I);return ue<0?(++this.size,q.push([I,L])):q[ue][1]=L,this};const V=H,D=typeof Wo=="object"&&Wo&&Wo.Object===Object&&Wo;var G=typeof self=="object"&&self&&self.Object===Object&&self;const K=D||G||Function("return this")(),ge=K.Symbol;var ae=Object.prototype,be=ae.hasOwnProperty,ie=ae.toString,Q=ge?ge.toStringTag:void 0,ne=Object.prototype.toString,pe=ge?ge.toStringTag:void 0;const ve=function(I){return I==null?I===void 0?"[object Undefined]":"[object Null]":pe&&pe in Object(I)?function(L){var q=be.call(L,Q),ue=L[Q];try{L[Q]=void 0;var Pe=!0}catch{}var We=ie.call(L);return Pe&&(q?L[Q]=ue:delete L[Q]),We}(I):function(L){return ne.call(L)}(I)},E=function(I){var L=typeof I;return I!=null&&(L=="object"||L=="function")},$=function(I){if(!E(I))return!1;var L=ve(I);return L=="[object Function]"||L=="[object GeneratorFunction]"||L=="[object AsyncFunction]"||L=="[object Proxy]"},fe=K["__core-js_shared__"];var Y,U=(Y=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||""))?"Symbol(src)_1."+Y:"",Oe=Function.prototype.toString,J=/^\[object .+?Constructor\]$/,te=Function.prototype,A=Object.prototype,Se=te.toString,ke=A.hasOwnProperty,ze=RegExp("^"+Se.call(ke).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ye=function(I){return!(!E(I)||(L=I,U&&U in L))&&($(I)?ze:J).test(function(q){if(q!=null){try{return Oe.call(q)}catch{}try{return q+""}catch{}}return""}(I));var L},Be=function(I,L){var q=function(ue,Pe){return ue==null?void 0:ue[Pe]}(I,L);return ye(q)?q:void 0},Qe=Be(K,"Map"),W=Be(Object,"create");var T=Object.prototype.hasOwnProperty,je=Object.prototype.hasOwnProperty;function Je(I){var L=-1,q=I==null?0:I.length;for(this.clear();++L<q;){var ue=I[L];this.set(ue[0],ue[1])}}Je.prototype.clear=function(){this.__data__=W?W(null):{},this.size=0},Je.prototype.delete=function(I){var L=this.has(I)&&delete this.__data__[I];return this.size-=L?1:0,L},Je.prototype.get=function(I){var L=this.__data__;if(W){var q=L[I];return q==="__lodash_hash_undefined__"?void 0:q}return T.call(L,I)?L[I]:void 0},Je.prototype.has=function(I){var L=this.__data__;return W?L[I]!==void 0:je.call(L,I)},Je.prototype.set=function(I,L){var q=this.__data__;return this.size+=this.has(I)?0:1,q[I]=W&&L===void 0?"__lodash_hash_undefined__":L,this};const Fe=Je,qe=function(I,L){var q,ue,Pe=I.__data__;return((ue=typeof(q=L))=="string"||ue=="number"||ue=="symbol"||ue=="boolean"?q!=="__proto__":q===null)?Pe[typeof L=="string"?"string":"hash"]:Pe.map};function Ae(I){var L=-1,q=I==null?0:I.length;for(this.clear();++L<q;){var ue=I[L];this.set(ue[0],ue[1])}}Ae.prototype.clear=function(){this.size=0,this.__data__={hash:new Fe,map:new(Qe||V),string:new Fe}},Ae.prototype.delete=function(I){var L=qe(this,I).delete(I);return this.size-=L?1:0,L},Ae.prototype.get=function(I){return qe(this,I).get(I)},Ae.prototype.has=function(I){return qe(this,I).has(I)},Ae.prototype.set=function(I,L){var q=qe(this,I),ue=q.size;return q.set(I,L),this.size+=q.size==ue?0:1,this};const ht=Ae;function it(I){var L=this.__data__=new V(I);this.size=L.size}it.prototype.clear=function(){this.__data__=new V,this.size=0},it.prototype.delete=function(I){var L=this.__data__,q=L.delete(I);return this.size=L.size,q},it.prototype.get=function(I){return this.__data__.get(I)},it.prototype.has=function(I){return this.__data__.has(I)},it.prototype.set=function(I,L){var q=this.__data__;if(q instanceof V){var ue=q.__data__;if(!Qe||ue.length<199)return ue.push([I,L]),this.size=++q.size,this;q=this.__data__=new ht(ue)}return q.set(I,L),this.size=q.size,this};const $e=it,nt=function(){try{var I=Be(Object,"defineProperty");return I({},"",{}),I}catch{}}(),P=function(I,L,q){L=="__proto__"&&nt?nt(I,L,{configurable:!0,enumerable:!0,value:q,writable:!0}):I[L]=q},Z=function(I,L,q){(q!==void 0&&!C(I[L],q)||q===void 0&&!(L in I))&&P(I,L,q)},he=function(I,L,q){for(var ue=-1,Pe=Object(I),We=q(I),o=We.length;o--;){var s=We[++ue];if(L(Pe[s],s,Pe)===!1)break}return I};var me=f&&!f.nodeType&&f,Te=me&&!0&&a&&!a.nodeType&&a,De=Te&&Te.exports===me?K.Buffer:void 0,we=De?De.allocUnsafe:void 0;const xe=K.Uint8Array,ce=function(I,L){var q,ue,Pe=L?(q=I.buffer,ue=new q.constructor(q.byteLength),new xe(ue).set(new xe(q)),ue):I.buffer;return new I.constructor(Pe,I.byteOffset,I.length)};var F=Object.create;const de=function(){function I(){}return function(L){if(!E(L))return{};if(F)return F(L);I.prototype=L;var q=new I;return I.prototype=void 0,q}}(),re=(Ke=Object.getPrototypeOf,Ve=Object,function(I){return Ke(Ve(I))});var Ke,Ve,vt=Object.prototype;const xt=function(I){var L=I&&I.constructor;return I===(typeof L=="function"&&L.prototype||vt)},yt=function(I){return I!=null&&typeof I=="object"},gt=function(I){return yt(I)&&ve(I)=="[object Arguments]"};var Qt=Object.prototype,Jt=Qt.hasOwnProperty,At=Qt.propertyIsEnumerable;const et=gt(function(){return arguments}())?gt:function(I){return yt(I)&&Jt.call(I,"callee")&&!At.call(I,"callee")},Mt=Array.isArray,kt=function(I){return typeof I=="number"&&I>-1&&I%1==0&&I<=9007199254740991},ot=function(I){return I!=null&&kt(I.length)&&!$(I)};var Rt=f&&!f.nodeType&&f,Pt=Rt&&!0&&a&&!a.nodeType&&a,qt=Pt&&Pt.exports===Rt?K.Buffer:void 0;const rr=(qt?qt.isBuffer:void 0)||function(){return!1};var nr=Function.prototype,zr=Object.prototype,ur=nr.toString,mn=zr.hasOwnProperty,fn=ur.call(Object),It={};It["[object Float32Array]"]=It["[object Float64Array]"]=It["[object Int8Array]"]=It["[object Int16Array]"]=It["[object Int32Array]"]=It["[object Uint8Array]"]=It["[object Uint8ClampedArray]"]=It["[object Uint16Array]"]=It["[object Uint32Array]"]=!0,It["[object Arguments]"]=It["[object Array]"]=It["[object ArrayBuffer]"]=It["[object Boolean]"]=It["[object DataView]"]=It["[object Date]"]=It["[object Error]"]=It["[object Function]"]=It["[object Map]"]=It["[object Number]"]=It["[object Object]"]=It["[object RegExp]"]=It["[object Set]"]=It["[object String]"]=It["[object WeakMap]"]=!1;var An=f&&!f.nodeType&&f,Wt=An&&!0&&a&&!a.nodeType&&a,fr=Wt&&Wt.exports===An&&D.process,cn=function(){try{return Wt&&Wt.require&&Wt.require("util").types||fr&&fr.binding&&fr.binding("util")}catch{}}(),$t=cn&&cn.isTypedArray;const Mn=$t?function(I){return function(L){return I(L)}}($t):function(I){return yt(I)&&kt(I.length)&&!!It[ve(I)]},_n=function(I,L){if((L!=="constructor"||typeof I[L]!="function")&&L!="__proto__")return I[L]};var Tr=Object.prototype.hasOwnProperty;const Qr=function(I,L,q){var ue=I[L];Tr.call(I,L)&&C(ue,q)&&(q!==void 0||L in I)||P(I,L,q)};var jr=/^(?:0|[1-9]\d*)$/;const Dt=function(I,L){var q=typeof I;return!!(L=L??9007199254740991)&&(q=="number"||q!="symbol"&&jr.test(I))&&I>-1&&I%1==0&&I<L};var gr=Object.prototype.hasOwnProperty;const er=function(I,L){var q=Mt(I),ue=!q&&et(I),Pe=!q&&!ue&&rr(I),We=!q&&!ue&&!Pe&&Mn(I),o=q||ue||Pe||We,s=o?function(v,m){for(var M=-1,R=Array(v);++M<v;)R[M]=m(M);return R}(I.length,String):[],u=s.length;for(var d in I)!L&&!gr.call(I,d)||o&&(d=="length"||Pe&&(d=="offset"||d=="parent")||We&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Dt(d,u))||s.push(d);return s};var Ir=Object.prototype.hasOwnProperty;const hn=function(I){if(!E(I))return function(Pe){var We=[];if(Pe!=null)for(var o in Object(Pe))We.push(o);return We}(I);var L=xt(I),q=[];for(var ue in I)(ue!="constructor"||!L&&Ir.call(I,ue))&&q.push(ue);return q},Zr=function(I){return ot(I)?er(I,!0):hn(I)},Or=function(I){return function(L,q,ue,Pe){var We=!ue;ue||(ue={});for(var o=-1,s=q.length;++o<s;){var u=q[o],d=Pe?Pe(ue[u],L[u],u,ue,L):void 0;d===void 0&&(d=L[u]),We?P(ue,u,d):Qr(ue,u,d)}return ue}(I,Zr(I))},wr=function(I,L,q,ue,Pe,We,o){var s,u=_n(I,q),d=_n(L,q),v=o.get(d);if(v)Z(I,q,v);else{var m=We?We(u,d,q+"",I,L,o):void 0,M=m===void 0;if(M){var R=Mt(d),N=!R&&rr(d),ee=!R&&!N&&Mn(d);m=d,R||N||ee?Mt(u)?m=u:yt(s=u)&&ot(s)?m=function(X,Me){var _e=-1,Ce=X.length;for(Me||(Me=Array(Ce));++_e<Ce;)Me[_e]=X[_e];return Me}(u):N?(M=!1,m=function(X,Me){if(Me)return X.slice();var _e=X.length,Ce=we?we(_e):new X.constructor(_e);return X.copy(Ce),Ce}(d,!0)):ee?(M=!1,m=ce(d,!0)):m=[]:function(X){if(!yt(X)||ve(X)!="[object Object]")return!1;var Me=re(X);if(Me===null)return!0;var _e=mn.call(Me,"constructor")&&Me.constructor;return typeof _e=="function"&&_e instanceof _e&&ur.call(_e)==fn}(d)||et(d)?(m=u,et(u)?m=Or(u):E(u)&&!$(u)||(m=function(X){return typeof X.constructor!="function"||xt(X)?{}:de(re(X))}(d))):M=!1}M&&(o.set(d,m),Pe(m,d,ue,We,o),o.delete(d)),Z(I,q,m)}},hr=function I(L,q,ue,Pe,We){L!==q&&he(q,function(o,s){if(We||(We=new $e),E(o))wr(L,q,s,ue,I,Pe,We);else{var u=Pe?Pe(_n(L,s),o,s+"",L,q,We):void 0;u===void 0&&(u=o),Z(L,s,u)}},Zr)},Dr=function(I){return I},ir=function(I,L,q){switch(q.length){case 0:return I.call(L);case 1:return I.call(L,q[0]);case 2:return I.call(L,q[0],q[1]);case 3:return I.call(L,q[0],q[1],q[2])}return I.apply(L,q)};var Bt=Math.max;const at=nt?function(I,L){return nt(I,"toString",{configurable:!0,enumerable:!1,value:(q=L,function(){return q}),writable:!0});var q}:Dr;var vr=Date.now;const dn=function(I){var L=0,q=0;return function(){var ue=vr(),Pe=16-(ue-q);if(q=ue,Pe>0){if(++L>=800)return arguments[0]}else L=0;return I.apply(void 0,arguments)}}(at),mr=(Xt=function(I,L,q){hr(I,L,q)},function(I,L){return dn(function(q,ue,Pe){return ue=Bt(ue===void 0?q.length-1:ue,0),function(){for(var We=arguments,o=-1,s=Bt(We.length-ue,0),u=Array(s);++o<s;)u[o]=We[ue+o];o=-1;for(var d=Array(ue+1);++o<ue;)d[o]=We[o];return d[ue]=Pe(u),ir(q,this,d)}}(I,L,Dr),I+"")}(function(I,L){var q=-1,ue=L.length,Pe=ue>1?L[ue-1]:void 0,We=ue>2?L[2]:void 0;for(Pe=Xt.length>3&&typeof Pe=="function"?(ue--,Pe):void 0,We&&function(s,u,d){if(!E(d))return!1;var v=typeof u;return!!(v=="number"?ot(d)&&Dt(u,d.length):v=="string"&&u in d)&&C(d[u],s)}(L[0],L[1],We)&&(Pe=ue<3?void 0:Pe,ue=1),I=Object(I);++q<ue;){var o=L[q];o&&Xt(I,o,q)}return I})),Ct=navigator.platform.toLowerCase()==="win32"?_.win32:_.posix;var Xt;const Vr=mr;function Nr(I,L){let q,ue,Pe=!1;const We=s=>u=>{I&&clearTimeout(I),s(u),Pe=!0},o=new Promise((s,u)=>{q=We(s),ue=We(u),I&&(I=setTimeout(()=>ue(new Error(`[deferred timeout] ${L}`)),I))});return{created:Date.now(),setTag:s=>L=s,resolve:q,reject:ue,promise:o,get settled(){return Pe}}}var Ne=x(227),w=x.n(Ne);const B="application/x-postmate-v1+json";let Ee=0;const He={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},ft=(I,L)=>!(typeof L=="string"&&I.origin!==L||!I.data||typeof I.data=="object"&&!("postmate"in I.data)||I.data.type!==B||!He[I.data.postmate]);class St{parent;frame;child;events={};childOrigin;listener;constructor(L){this.parent=L.parent,this.frame=L.frame,this.child=L.child,this.childOrigin=L.childOrigin,this.listener=q=>{if(!ft(q,this.childOrigin))return!1;const{data:ue,name:Pe}=((q||{}).data||{}).value||{};q.data.postmate==="emit"&&Pe in this.events&&this.events[Pe].forEach(We=>{We.call(this,ue)})},this.parent.addEventListener("message",this.listener,!1)}get(L){return new Promise(q=>{const ue=++Ee,Pe=We=>{We.data.uid===ue&&We.data.postmate==="reply"&&(this.parent.removeEventListener("message",Pe,!1),q(We.data.value))};this.parent.addEventListener("message",Pe,!1),this.child.postMessage({postmate:"request",type:B,property:L,uid:ue},this.childOrigin)})}call(L,q){this.child.postMessage({postmate:"call",type:B,property:L,data:q},this.childOrigin)}on(L,q){this.events[L]||(this.events[L]=[]),this.events[L].push(q)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class Ze{model;parent;parentOrigin;child;constructor(L){this.model=L.model,this.parent=L.parent,this.parentOrigin=L.parentOrigin,this.child=L.child,this.child.addEventListener("message",q=>{if(!ft(q,this.parentOrigin))return;const{property:ue,uid:Pe,data:We}=q.data;q.data.postmate!=="call"?((o,s)=>{const u=typeof o[s]=="function"?o[s]():o[s];return Promise.resolve(u)})(this.model,ue).then(o=>{q.source.postMessage({property:ue,postmate:"reply",type:B,uid:Pe,value:o},q.origin)}):ue in this.model&&typeof this.model[ue]=="function"&&this.model[ue](We)})}emit(L,q){this.parent.postMessage({postmate:"emit",type:B,value:{name:L,data:q}},this.parentOrigin)}}class Kt{static debug=!1;container;parent;frame;child;childOrigin;url;model;static Model;constructor(L){this.container=L.container,this.url=L.url,this.parent=window,this.frame=document.createElement("iframe"),L.id&&(this.frame.id=L.id),L.name&&(this.frame.name=L.name),this.frame.classList.add.apply(this.frame.classList,L.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=L.model||{}}sendHandshake(L){const q=(We=>{const o=document.createElement("a");o.href=We;const s=o.protocol.length>4?o.protocol:window.location.protocol,u=o.host.length?o.port==="80"||o.port==="443"?o.hostname:o.host:window.location.host;return o.origin||`${s}//${u}`})(L=L||this.url);let ue,Pe=0;return new Promise((We,o)=>{const s=d=>!!ft(d,q)&&(d.data.postmate==="handshake-reply"?(clearInterval(ue),this.parent.removeEventListener("message",s,!1),this.childOrigin=d.origin,We(new St(this))):o("Failed handshake"));this.parent.addEventListener("message",s,!1);const u=()=>{Pe++,this.child.postMessage({postmate:"handshake",type:B,model:this.model},q),Pe===5&&clearInterval(ue)};this.frame.addEventListener("load",()=>{u(),ue=setInterval(u,500)}),this.frame.src=L})}}class bt{child;model;parent;parentOrigin;constructor(L){this.child=window,this.model=L,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((L,q)=>{const ue=Pe=>{if(Pe.data.postmate){if(Pe.data.postmate==="handshake"){this.child.removeEventListener("message",ue,!1),Pe.source.postMessage({postmate:"handshake-reply",type:B},Pe.origin),this.parentOrigin=Pe.origin;const We=Pe.data.model;return We&&Object.keys(We).forEach(o=>{this.model[o]=We[o]}),L(new Ze(this))}return q("Handshake Reply Failed")}};this.child.addEventListener("message",ue,!1)})}}var en=x(729),dr=x.n(en);const{importHTML:yn,createSandboxContainer:En}=window.QSandbox||{};function xn(I,L){return I.startsWith("http")?fetch(I,L):(I=I.replace("file://",""),new Promise(async(q,ue)=>{try{const Pe=await window.apis.doAction(["readFile",I]);q({text:()=>Pe})}catch(Pe){console.error(Pe),ue(Pe)}}))}class bn extends dr(){_pluginLocal;_frame;_root;_loaded=!1;_unmountFns=[];constructor(L){super(),this._pluginLocal=L,L._dispose(()=>{this._unmount()})}async load(){const{name:L,entry:q}=this._pluginLocal.options;if(this.loaded||!q)return;const{template:ue,execScripts:Pe}=await yn(q,{fetch:xn});this._mount(ue,document.body);const We=En(L,{elementGetter:()=>this._root?.firstChild}).instance.proxy;We.__shadow_mode__=!0,We.LSPluginLocal=this._pluginLocal,We.LSPluginShadow=this,We.LSPluginUser=We.logseq=new Et(this._pluginLocal.toJSON(),this._pluginLocal.caller);const o=await Pe(We,!0);this._unmountFns.push(o.unmount),this._loaded=!0}_mount(L,q){const ue=this._frame=document.createElement("div");ue.classList.add("lsp-shadow-sandbox"),ue.id=this._pluginLocal.id,this._root=ue.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${L}</div>`,q.appendChild(ue),this.emit("mounted")}_unmount(){for(const L of this._unmountFns)L&&L.call(null)}destroy(){this.frame?.parentNode?.removeChild(this.frame)}get loaded(){return this._loaded}get document(){return this._root?.firstChild}get frame(){return this._frame}}const Pr=w()("LSPlugin:caller"),Wr="#await#response#",Nn="#lspmsg#error#",wn=I=>`#lspmsg#${I}`;class Kr extends dr(){_pluginLocal;_connected=!1;_parent;_child;_shadow;_status;_userModel={};_call;_callUserModel;_debugTag="";constructor(L){super(),this._pluginLocal=L,L&&(this._debugTag=L.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:L}=this._pluginLocal;L?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(L={}){if(this._connected)return;const q=this,ue=this._pluginLocal!=null;let Pe=0;const We=new Map,o=Nr(5e3),s=this._extendUserModel({"#lspmsg#ready#":async d=>{s[wn(d?.pid)]=({type:v,payload:m})=>{Pr(`[call from host (_call)] ${this._debugTag}`,v,m),q.emit(v,m)},await o.resolve()},"#lspmsg#beforeunload#":async d=>{const v=Nr(1e4);q.emit("beforeunload",Object.assign({actor:v},d)),await v.promise},"#lspmsg#settings#":async({type:d,payload:v})=>{q.emit("settings:changed",v)},"#lspmsg#":async({ns:d,type:v,payload:m})=>{Pr(`[call from host (async)] ${this._debugTag}`,d,v,m),d&&d.startsWith("hook")?q.emit(`${d}:${v}`,m):q.emit(v,m)},"#lspmsg#reply#":({_sync:d,result:v})=>{if(Pr(`[sync reply] #${d}`,v),We.has(d)){const m=We.get(d);m&&(v?.hasOwnProperty(Nn)?m.reject(v[Nn]):m.resolve(v),We.delete(d))}},...L});if(ue)return await o.promise,JSON.parse(JSON.stringify(this._pluginLocal?.toJSON()));const u=new bt(s).sendHandshakeReply();return this._status="pending",await u.then(d=>{this._child=d,this._connected=!0,this._call=async(v,m={},M)=>{if(M){const R=++Pe;We.set(R,M),m._sync=R,M.setTag(`async call #${R}`),Pr("async call #",R)}return d.emit(wn(s.baseInfo.id),{type:v,payload:m}),M?.promise},this._callUserModel=async(v,m)=>{try{s[v](m)}catch{Pr(`[model method] #${v} not existed`)}},setInterval(()=>{if(We.size>100)for(const[v,m]of We)m.settled&&We.delete(v)},18e5)}).finally(()=>{this._status=void 0}),await o.promise,s.baseInfo}async call(L,q={}){return this._call?.call(this,L,q)}async callAsync(L,q={}){const ue=Nr(1e4);return this._call?.call(this,L,q,ue)}async callUserModel(L,q={}){return this._callUserModel?.call(this,L,q)}async _setupIframeSandbox(){const L=this._pluginLocal,q=L.id,ue=new URL(L.options.entry);ue.searchParams.set("__v__",L.options.version);const Pe=document.querySelector(`#${q}`);Pe&&Pe.parentElement.removeChild(Pe);const We=document.createElement("div");We.classList.add("lsp-iframe-sandbox-container"),We.id=q;try{const u=(await this._pluginLocal._loadLayoutsData())?.$$0;if(u){We.dataset.inited_layout="true";const{width:d,height:v,left:m,top:M}=u;Object.assign(We.style,{width:d+"px",height:v+"px",left:m+"px",top:M+"px"})}}catch(u){console.error("[Restore Layout Error]",u)}document.body.appendChild(We);let o,s=new Kt({id:q+"_iframe",container:We,url:ue.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(L.toJSON()))}}).sendHandshake();return this._status="pending",new Promise((u,d)=>{o=setTimeout(()=>{d(new Error("handshake Timeout"))},3e3),s.then(v=>{this._parent=v,this._connected=!0,this.emit("connected"),v.on(wn(L.id),({type:m,payload:M})=>{Pr("[call from plugin] ",m,M),this._pluginLocal?.emit(m,M||{})}),this._call=async(...m)=>{await v.call(wn(L.id),{type:m[0],payload:Object.assign(m[1]||{},{$$pid:L.id})})},this._callUserModel=async(m,M)=>{if(m.startsWith(Wr))return await v.get(m.replace(Wr,""));v.call(m,M)},u(null)}).catch(v=>{d(v)}).finally(()=>{clearTimeout(o)})}).catch(u=>{throw Pr("[iframe sandbox] error",u),u}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const L=this._pluginLocal,q=this._shadow=new bn(L);try{this._status="pending",await q.load(),this._connected=!0,this.emit("connected"),this._call=async(ue,Pe={},We)=>(We&&(Pe.actor=We),this._pluginLocal?.emit(ue,Object.assign(Pe,{$$pid:L.id})),We?.promise),this._callUserModel=async(...ue)=>{let Pe=ue[0];Pe?.startsWith(Wr)&&(Pe=Pe.replace(Wr,""));const We=ue[1]||{},o=this._userModel[Pe];typeof o=="function"&&await o.call(null,We)}}catch(ue){throw Pr("[shadow sandbox] error",ue),ue}finally{this._status=void 0}}_extendUserModel(L){return Object.assign(this._userModel,L)}_getSandboxIframeContainer(){return this._parent?.frame.parentNode}_getSandboxShadowContainer(){return this._shadow?.frame.parentNode}_getSandboxIframeRoot(){return this._parent?.frame}_getSandboxShadowRoot(){return this._shadow?.frame}set debugTag(L){this._debugTag=L}async destroy(){let L=null;this._parent&&(L=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(L=this._getSandboxShadowContainer(),this._shadow.destroy()),L?.parentNode.removeChild(L)}}var kn=function(){return(kn=Object.assign||function(I){for(var L,q=1,ue=arguments.length;q<ue;q++)for(var Pe in L=arguments[q])Object.prototype.hasOwnProperty.call(L,Pe)&&(I[Pe]=L[Pe]);return I}).apply(this,arguments)};function $n(I){return I.toLowerCase()}var Xn=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Yn=/[^A-Z0-9]+/gi;function yr(I,L,q){return L instanceof RegExp?I.replace(L,q):L.reduce(function(ue,Pe){return ue.replace(Pe,q)},I)}class or{ctx;constructor(L){this.ctx=L}get ctxId(){return this.ctx.baseInfo.id}setItem(L,q){return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,L,q]})}getItem(L){return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,L]})}removeItem(L){return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,L]})}clear(){return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId]})}hasItem(L){return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,L]})}}const oi=Symbol.for("proxy-continue"),tn=w()("LSPlugin:user");function Ur(I,L,q){if(typeof q!="function")return!1;const{key:ue,label:Pe,desc:We,palette:o,keybinding:s}=L,u=`SimpleCommandHook${ue}${++le}`;this.Editor["on"+u](q),this.caller?.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:ue,label:Pe,type:I,desc:We,keybinding:s},["editor/hook",u]],o]})}const wi={registerCommand:Ur,registerCommandPalette(I,L){const{key:q,label:ue,keybinding:Pe}=I;return Ur.call(this,"global-palette-command",{key:q,label:ue,palette:!0,keybinding:Pe},L)},registerUIItem(I,L){const q=this.baseInfo.id;this.caller?.call("api:call",{method:"register-plugin-ui-item",args:[q,I,L]})},registerPageMenuItem(I,L){if(typeof L!="function")return!1;const q=I+"_"+this.baseInfo.id,ue=I;Ur.call(this,"page-menu-item",{key:q,label:ue},L)},setFullScreen(I){const L=(...q)=>this._callWin("setFullScreen",...q);I==="toggle"?this._callWin("isFullScreen").then(q=>{q?L():L(!0)}):I?L(!0):L()}};let le=0;const ut={registerSlashCommand(I,L){tn("Register slash command #",this.baseInfo.id,I,L),typeof L=="function"&&(L=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",L]]),L=L.map(q=>{const[ue,...Pe]=q;switch(ue){case"editor/hook":let We=Pe[0],o=()=>{this.caller?.callUserModel(We)};typeof We=="function"&&(o=We);const s=`SlashCommandHook${ue}${++le}`;q[1]=s,this.Editor["on"+s](o)}return q}),this.caller?.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[I,L]]})},registerBlockContextMenuItem(I,L){if(typeof L!="function")return!1;const q=I+"_"+this.baseInfo.id,ue=I;Ur.call(this,"block-context-menu-item",{key:q,label:ue},L)},scrollToBlockInPage(I,L){const q="block-content-"+L;this.App.pushState("page",{name:I},{anchor:q})}},lt={};class Et extends dr(){_baseInfo;_caller;_settingsSchema;_connected=!1;_ui=new Map;_fileStorage;_beforeunloadCallback;constructor(L,q){super(),this._baseInfo=L,this._caller=q,q.on("sys:ui:visible",ue=>{ue?.toggle&&this.toggleMainUI()}),q.on("settings:changed",ue=>{const Pe=Object.assign({},this.settings),We=Object.assign(this._baseInfo.settings,ue);this.emit("settings:changed",{...We},Pe)}),q.on("beforeunload",async ue=>{const{actor:Pe,...We}=ue,o=this._beforeunloadCallback;try{o&&await o(We),Pe?.resolve(null)}catch(s){console.debug(`${q.debugTag} [beforeunload] `,s),Pe?.reject(s)}}),this._fileStorage=new or(this)}async ready(L,q){if(!this._connected)try{typeof L=="function"&&(q=L,L={});let ue=await this._caller.connectToParent(L);this._connected=!0,ue=Vr(this._baseInfo,ue),this._settingsSchema&&(ue.settings=function(Pe,We){const o=(We||[]).reduce((s,u)=>("default"in u&&(s[u.key]=u.default),s),{});return Object.assign(o,Pe)}(ue.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema)),ue?.id&&(this._caller.debugTag=`#${ue.id} [${ue.name}]`),q&&q.call(this,ue)}catch(ue){console.error("[LSPlugin Ready Error]",ue)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(L){typeof L=="function"&&(this._beforeunloadCallback=L)}provideModel(L){return this.caller._extendUserModel(L),this}provideTheme(L){return this.caller.call("provider:theme",L),this}provideStyle(L){return this.caller.call("provider:style",L),this}provideUI(L){return this.caller.call("provider:ui",L),this}useSettingsSchema(L){return this.connected&&this.caller.call("settings:schema",{schema:L,isSync:!0}),this._settingsSchema=L,this}updateSettings(L){this.caller.call("settings:update",L)}onSettingsChanged(L){const q="settings:changed";return this.on(q,L),()=>this.off(q,L)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(L){this.caller.call("main-ui:attrs",L)}setMainUIInlineStyle(L){this.caller.call("main-ui:style",L)}hideMainUI(L){const q={key:0,visible:!1,cursor:L?.restoreEditingCursor};this.caller.call("main-ui:visible",q),this.emit("ui:visible:changed",q),this._ui.set(q.key,q)}showMainUI(L){const q={key:0,visible:!0,autoFocus:L?.autoFocus};this.caller.call("main-ui:visible",q),this.emit("ui:visible:changed",q),this._ui.set(q.key,q)}toggleMainUI(){const L=this._ui.get(0);L&&L.visible?this.hideMainUI():this.showMainUI()}get isMainUIVisible(){const L=this._ui.get(0);return Boolean(L&&L.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get settings(){return this.baseInfo?.settings}get caller(){return this._caller}resolveResourceFullUrl(L){if(this.ensureConnected(),L)return L=L.replace(/^[.\\/]+/,""),function(q,...ue){try{const Pe=new URL(q);if(!Pe.origin)throw new Error(null);const We=Ct.join(q.substr(Pe.origin.length),...ue);return Pe.origin+We}catch{return Ct.join(q,...ue)}}(this._baseInfo.lsr,L)}_makeUserProxy(L,q){const ue=this,Pe=this.caller;return new Proxy(L,{get(We,o,s){const u=We[o];return function(...d){if(!u||u.apply(ue,d)===oi){if(q){const M=o.toString().match(/^(once|off|on)/i);if(M!=null){const R=M[0].toLowerCase(),N=M.input.slice(R.length),ee=`hook:${q}:${v=N,m===void 0&&(m={}),function(Me,_e){return _e===void 0&&(_e={}),function(Ce,Re){Re===void 0&&(Re={});for(var tt=Re.splitRegexp,Ue=tt===void 0?Xn:tt,dt=Re.stripRegexp,wt=dt===void 0?Yn:dt,mt=Re.transform,Ot=mt===void 0?$n:mt,ar=Re.delimiter,Zt=ar===void 0?" ":ar,lr=yr(yr(Ce,Ue,"$1\0$2"),wt,"\0"),Nt=0,Tt=lr.length;lr.charAt(Nt)==="\0";)Nt++;for(;lr.charAt(Tt-1)==="\0";)Tt--;return lr.slice(Nt,Tt).split("\0").map(Ot).join(Zt)}(Me,kn({delimiter:"."},_e))}(v,kn({delimiter:"_"},m))}`,X=d[0];return Pe[R](ee,X),R!=="off"?()=>Pe.off(ee,X):void 0}}var v,m;return Pe.callAsync("api:call",{tag:q,method:o,args:d})}}}})}_callWin(...L){return this._caller.callAsync("api:call",{method:"_callMainWin",args:L})}get App(){return this._makeUserProxy(wi,"app")}get Editor(){return this._makeUserProxy(ut,"editor")}get DB(){return this._makeUserProxy(lt)}get FileStorage(){return this._fileStorage}}function Ht(I,L){return new Et(I,L)}if(window.__LSP__HOST__==null){const I=new Kr(null);window.logseq=Ht({},I)}})(),k})()})})(tf,tf.exports);function Vl(a,f){const c=Object.create(null),g=a.split(",");for(let x=0;x<g.length;x++)c[g[x]]=!0;return f?x=>!!c[x.toLowerCase()]:x=>!!c[x]}const ed="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",td=Vl(ed);function _f(a){return!!a||a===""}function es(a){if(_t(a)){const f={};for(let c=0;c<a.length;c++){const g=a[c],x=Yr(g)?id(g):es(g);if(x)for(const k in x)f[k]=x[k]}return f}else{if(Yr(a))return a;if(un(a))return a}}const rd=/;(?![^(]*\))/g,nd=/:(.+)/;function id(a){const f={};return a.split(rd).forEach(c=>{if(c){const g=c.split(nd);g.length>1&&(f[g[0].trim()]=g[1].trim())}}),f}function ts(a){let f="";if(Yr(a))f=a;else if(_t(a))for(let c=0;c<a.length;c++){const g=ts(a[c]);g&&(f+=g+" ")}else if(un(a))for(const c in a)a[c]&&(f+=c+" ");return f.trim()}const Vt={},lo=[],Hn=()=>{},od=()=>!1,ad=/^on[^a-z]/,Pa=a=>ad.test(a),rs=a=>a.startsWith("onUpdate:"),Xr=Object.assign,ns=(a,f)=>{const c=a.indexOf(f);c>-1&&a.splice(c,1)},ld=Object.prototype.hasOwnProperty,jt=(a,f)=>ld.call(a,f),_t=Array.isArray,qo=a=>Ra(a)==="[object Map]",sd=a=>Ra(a)==="[object Set]",Ft=a=>typeof a=="function",Yr=a=>typeof a=="string",is=a=>typeof a=="symbol",un=a=>a!==null&&typeof a=="object",Ef=a=>un(a)&&Ft(a.then)&&Ft(a.catch),ud=Object.prototype.toString,Ra=a=>ud.call(a),fd=a=>Ra(a).slice(8,-1),cd=a=>Ra(a)==="[object Object]",os=a=>Yr(a)&&a!=="NaN"&&a[0]!=="-"&&""+parseInt(a,10)===a,La=Vl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ba=a=>{const f=Object.create(null);return c=>f[c]||(f[c]=a(c))},hd=/-(\w)/g,uo=Ba(a=>a.replace(hd,(f,c)=>c?c.toUpperCase():"")),dd=/\B([A-Z])/g,ho=Ba(a=>a.replace(dd,"-$1").toLowerCase()),Of=Ba(a=>a.charAt(0).toUpperCase()+a.slice(1)),_l=Ba(a=>a?`on${Of(a)}`:""),Ma=(a,f)=>!Object.is(a,f),El=(a,f)=>{for(let c=0;c<a.length;c++)a[c](f)},_a=(a,f,c)=>{Object.defineProperty(a,f,{configurable:!0,enumerable:!1,value:c})},pd=a=>{const f=parseFloat(a);return isNaN(f)?a:f};let rf;const gd=()=>rf||(rf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let ti;class vd{constructor(f=!1){this.active=!0,this.effects=[],this.cleanups=[],!f&&ti&&(this.parent=ti,this.index=(ti.scopes||(ti.scopes=[])).push(this)-1)}run(f){if(this.active)try{return ti=this,f()}finally{ti=this.parent}}on(){ti=this}off(){ti=this.parent}stop(f){if(this.active){let c,g;for(c=0,g=this.effects.length;c<g;c++)this.effects[c].stop();for(c=0,g=this.cleanups.length;c<g;c++)this.cleanups[c]();if(this.scopes)for(c=0,g=this.scopes.length;c<g;c++)this.scopes[c].stop(!0);if(this.parent&&!f){const x=this.parent.scopes.pop();x&&x!==this&&(this.parent.scopes[this.index]=x,x.index=this.index)}this.active=!1}}}function md(a,f=ti){f&&f.active&&f.effects.push(a)}const as=a=>{const f=new Set(a);return f.w=0,f.n=0,f},Ff=a=>(a.w&xi)>0,If=a=>(a.n&xi)>0,yd=({deps:a})=>{if(a.length)for(let f=0;f<a.length;f++)a[f].w|=xi},xd=a=>{const{deps:f}=a;if(f.length){let c=0;for(let g=0;g<f.length;g++){const x=f[g];Ff(x)&&!If(x)?x.delete(a):f[c++]=x,x.w&=~xi,x.n&=~xi}f.length=c}},Rl=new WeakMap;let Ko=0,xi=1;const Bl=30;let Gn;const Ri=Symbol(""),Hl=Symbol("");class ls{constructor(f,c=null,g){this.fn=f,this.scheduler=c,this.active=!0,this.deps=[],this.parent=void 0,md(this,g)}run(){if(!this.active)return this.fn();let f=Gn,c=mi;for(;f;){if(f===this)return;f=f.parent}try{return this.parent=Gn,Gn=this,mi=!0,xi=1<<++Ko,Ko<=Bl?yd(this):nf(this),this.fn()}finally{Ko<=Bl&&xd(this),xi=1<<--Ko,Gn=this.parent,mi=c,this.parent=void 0}}stop(){this.active&&(nf(this),this.onStop&&this.onStop(),this.active=!1)}}function nf(a){const{deps:f}=a;if(f.length){for(let c=0;c<f.length;c++)f[c].delete(a);f.length=0}}let mi=!0;const Df=[];function po(){Df.push(mi),mi=!1}function go(){const a=Df.pop();mi=a===void 0?!0:a}function Tn(a,f,c){if(mi&&Gn){let g=Rl.get(a);g||Rl.set(a,g=new Map);let x=g.get(c);x||g.set(c,x=as()),Nf(x)}}function Nf(a,f){let c=!1;Ko<=Bl?If(a)||(a.n|=xi,c=!Ff(a)):c=!a.has(Gn),c&&(a.add(Gn),Gn.deps.push(a))}function ni(a,f,c,g,x,k){const _=Rl.get(a);if(!_)return;let C=[];if(f==="clear")C=[..._.values()];else if(c==="length"&&_t(a))_.forEach((S,z)=>{(z==="length"||z>=g)&&C.push(S)});else switch(c!==void 0&&C.push(_.get(c)),f){case"add":_t(a)?os(c)&&C.push(_.get("length")):(C.push(_.get(Ri)),qo(a)&&C.push(_.get(Hl)));break;case"delete":_t(a)||(C.push(_.get(Ri)),qo(a)&&C.push(_.get(Hl)));break;case"set":qo(a)&&C.push(_.get(Ri));break}if(C.length===1)C[0]&&zl(C[0]);else{const S=[];for(const z of C)z&&S.push(...z);zl(as(S))}}function zl(a,f){for(const c of _t(a)?a:[...a])(c!==Gn||c.allowRecurse)&&(c.scheduler?c.scheduler():c.run())}const bd=Vl("__proto__,__v_isRef,__isVue"),Pf=new Set(Object.getOwnPropertyNames(Symbol).map(a=>Symbol[a]).filter(is)),wd=ss(),kd=ss(!1,!0),Cd=ss(!0),of=Sd();function Sd(){const a={};return["includes","indexOf","lastIndexOf"].forEach(f=>{a[f]=function(...c){const g=Gt(this);for(let k=0,_=this.length;k<_;k++)Tn(g,"get",k+"");const x=g[f](...c);return x===-1||x===!1?g[f](...c.map(Gt)):x}}),["push","pop","shift","unshift","splice"].forEach(f=>{a[f]=function(...c){po();const g=Gt(this)[f].apply(this,c);return go(),g}}),a}function ss(a=!1,f=!1){return function(g,x,k){if(x==="__v_isReactive")return!a;if(x==="__v_isReadonly")return a;if(x==="__v_isShallow")return f;if(x==="__v_raw"&&k===(a?f?zd:jf:f?zf:Hf).get(g))return g;const _=_t(g);if(!a&&_&&jt(of,x))return Reflect.get(of,x,k);const C=Reflect.get(g,x,k);return(is(x)?Pf.has(x):bd(x))||(a||Tn(g,"get",x),f)?C:$r(C)?!_||!os(x)?C.value:C:un(C)?a?Wf(C):cs(C):C}}const Td=Rf(),Ld=Rf(!0);function Rf(a=!1){return function(c,g,x,k){let _=c[g];if(Xo(_)&&$r(_)&&!$r(x))return!1;if(!a&&!Xo(x)&&(Kf(x)||(x=Gt(x),_=Gt(_)),!_t(c)&&$r(_)&&!$r(x)))return _.value=x,!0;const C=_t(c)&&os(g)?Number(g)<c.length:jt(c,g),S=Reflect.set(c,g,x,k);return c===Gt(k)&&(C?Ma(x,_)&&ni(c,"set",g,x):ni(c,"add",g,x)),S}}function Ad(a,f){const c=jt(a,f);a[f];const g=Reflect.deleteProperty(a,f);return g&&c&&ni(a,"delete",f,void 0),g}function Md(a,f){const c=Reflect.has(a,f);return(!is(f)||!Pf.has(f))&&Tn(a,"has",f),c}function _d(a){return Tn(a,"iterate",_t(a)?"length":Ri),Reflect.ownKeys(a)}const Bf={get:wd,set:Td,deleteProperty:Ad,has:Md,ownKeys:_d},Ed={get:Cd,set(a,f){return!0},deleteProperty(a,f){return!0}},Od=Xr({},Bf,{get:kd,set:Ld}),us=a=>a,Ha=a=>Reflect.getPrototypeOf(a);function wa(a,f,c=!1,g=!1){a=a.__v_raw;const x=Gt(a),k=Gt(f);f!==k&&!c&&Tn(x,"get",f),!c&&Tn(x,"get",k);const{has:_}=Ha(x),C=g?us:c?ps:ds;if(_.call(x,f))return C(a.get(f));if(_.call(x,k))return C(a.get(k));a!==x&&a.get(f)}function ka(a,f=!1){const c=this.__v_raw,g=Gt(c),x=Gt(a);return a!==x&&!f&&Tn(g,"has",a),!f&&Tn(g,"has",x),a===x?c.has(a):c.has(a)||c.has(x)}function Ca(a,f=!1){return a=a.__v_raw,!f&&Tn(Gt(a),"iterate",Ri),Reflect.get(a,"size",a)}function af(a){a=Gt(a);const f=Gt(this);return Ha(f).has.call(f,a)||(f.add(a),ni(f,"add",a,a)),this}function lf(a,f){f=Gt(f);const c=Gt(this),{has:g,get:x}=Ha(c);let k=g.call(c,a);k||(a=Gt(a),k=g.call(c,a));const _=x.call(c,a);return c.set(a,f),k?Ma(f,_)&&ni(c,"set",a,f):ni(c,"add",a,f),this}function sf(a){const f=Gt(this),{has:c,get:g}=Ha(f);let x=c.call(f,a);x||(a=Gt(a),x=c.call(f,a)),g&&g.call(f,a);const k=f.delete(a);return x&&ni(f,"delete",a,void 0),k}function uf(){const a=Gt(this),f=a.size!==0,c=a.clear();return f&&ni(a,"clear",void 0,void 0),c}function Sa(a,f){return function(g,x){const k=this,_=k.__v_raw,C=Gt(_),S=f?us:a?ps:ds;return!a&&Tn(C,"iterate",Ri),_.forEach((z,H)=>g.call(x,S(z),S(H),k))}}function Ta(a,f,c){return function(...g){const x=this.__v_raw,k=Gt(x),_=qo(k),C=a==="entries"||a===Symbol.iterator&&_,S=a==="keys"&&_,z=x[a](...g),H=c?us:f?ps:ds;return!f&&Tn(k,"iterate",S?Hl:Ri),{next(){const{value:V,done:D}=z.next();return D?{value:V,done:D}:{value:C?[H(V[0]),H(V[1])]:H(V),done:D}},[Symbol.iterator](){return this}}}}function pi(a){return function(...f){return a==="delete"?!1:this}}function Fd(){const a={get(k){return wa(this,k)},get size(){return Ca(this)},has:ka,add:af,set:lf,delete:sf,clear:uf,forEach:Sa(!1,!1)},f={get(k){return wa(this,k,!1,!0)},get size(){return Ca(this)},has:ka,add:af,set:lf,delete:sf,clear:uf,forEach:Sa(!1,!0)},c={get(k){return wa(this,k,!0)},get size(){return Ca(this,!0)},has(k){return ka.call(this,k,!0)},add:pi("add"),set:pi("set"),delete:pi("delete"),clear:pi("clear"),forEach:Sa(!0,!1)},g={get(k){return wa(this,k,!0,!0)},get size(){return Ca(this,!0)},has(k){return ka.call(this,k,!0)},add:pi("add"),set:pi("set"),delete:pi("delete"),clear:pi("clear"),forEach:Sa(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(k=>{a[k]=Ta(k,!1,!1),c[k]=Ta(k,!0,!1),f[k]=Ta(k,!1,!0),g[k]=Ta(k,!0,!0)}),[a,c,f,g]}const[Id,Dd,Nd,Pd]=Fd();function fs(a,f){const c=f?a?Pd:Nd:a?Dd:Id;return(g,x,k)=>x==="__v_isReactive"?!a:x==="__v_isReadonly"?a:x==="__v_raw"?g:Reflect.get(jt(c,x)&&x in g?c:g,x,k)}const Rd={get:fs(!1,!1)},Bd={get:fs(!1,!0)},Hd={get:fs(!0,!1)},Hf=new WeakMap,zf=new WeakMap,jf=new WeakMap,zd=new WeakMap;function jd(a){switch(a){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Wd(a){return a.__v_skip||!Object.isExtensible(a)?0:jd(fd(a))}function cs(a){return Xo(a)?a:hs(a,!1,Bf,Rd,Hf)}function Kd(a){return hs(a,!1,Od,Bd,zf)}function Wf(a){return hs(a,!0,Ed,Hd,jf)}function hs(a,f,c,g,x){if(!un(a)||a.__v_raw&&!(f&&a.__v_isReactive))return a;const k=x.get(a);if(k)return k;const _=Wd(a);if(_===0)return a;const C=new Proxy(a,_===2?g:c);return x.set(a,C),C}function so(a){return Xo(a)?so(a.__v_raw):!!(a&&a.__v_isReactive)}function Xo(a){return!!(a&&a.__v_isReadonly)}function Kf(a){return!!(a&&a.__v_isShallow)}function Uf(a){return so(a)||Xo(a)}function Gt(a){const f=a&&a.__v_raw;return f?Gt(f):a}function qf(a){return _a(a,"__v_skip",!0),a}const ds=a=>un(a)?cs(a):a,ps=a=>un(a)?Wf(a):a;function Ud(a){mi&&Gn&&(a=Gt(a),Nf(a.dep||(a.dep=as())))}function qd(a,f){a=Gt(a),a.dep&&zl(a.dep)}function $r(a){return!!(a&&a.__v_isRef===!0)}function Gd(a){return $r(a)?a.value:a}const Jd={get:(a,f,c)=>Gd(Reflect.get(a,f,c)),set:(a,f,c,g)=>{const x=a[f];return $r(x)&&!$r(c)?(x.value=c,!0):Reflect.set(a,f,c,g)}};function Gf(a){return so(a)?a:new Proxy(a,Jd)}class $d{constructor(f,c,g,x){this._setter=c,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ls(f,()=>{this._dirty||(this._dirty=!0,qd(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!x,this.__v_isReadonly=g}get value(){const f=Gt(this);return Ud(f),(f._dirty||!f._cacheable)&&(f._dirty=!1,f._value=f.effect.run()),f._value}set value(f){this._setter(f)}}function Xd(a,f,c=!1){let g,x;const k=Ft(a);return k?(g=a,x=Hn):(g=a.get,x=a.set),new $d(g,x,k||!x,c)}Promise.resolve();function yi(a,f,c,g){let x;try{x=g?a(...g):a()}catch(k){za(k,f,c)}return x}function Dn(a,f,c,g){if(Ft(a)){const k=yi(a,f,c,g);return k&&Ef(k)&&k.catch(_=>{za(_,f,c)}),k}const x=[];for(let k=0;k<a.length;k++)x.push(Dn(a[k],f,c,g));return x}function za(a,f,c,g=!0){const x=f?f.vnode:null;if(f){let k=f.parent;const _=f.proxy,C=c;for(;k;){const z=k.ec;if(z){for(let H=0;H<z.length;H++)if(z[H](a,_,C)===!1)return}k=k.parent}const S=f.appContext.config.errorHandler;if(S){yi(S,null,10,[a,_,C]);return}}Yd(a,c,x,g)}function Yd(a,f,c,g=!0){console.error(a)}let Ea=!1,jl=!1;const Sn=[];let ri=0;const Go=[];let Uo=null,io=0;const Jo=[];let gi=null,oo=0;const Jf=Promise.resolve();let gs=null,Wl=null;function Qd(a){const f=gs||Jf;return a?f.then(this?a.bind(this):a):f}function Zd(a){let f=ri+1,c=Sn.length;for(;f<c;){const g=f+c>>>1;Yo(Sn[g])<a?f=g+1:c=g}return f}function $f(a){(!Sn.length||!Sn.includes(a,Ea&&a.allowRecurse?ri+1:ri))&&a!==Wl&&(a.id==null?Sn.push(a):Sn.splice(Zd(a.id),0,a),Xf())}function Xf(){!Ea&&!jl&&(jl=!0,gs=Jf.then(Zf))}function Vd(a){const f=Sn.indexOf(a);f>ri&&Sn.splice(f,1)}function Yf(a,f,c,g){_t(a)?c.push(...a):(!f||!f.includes(a,a.allowRecurse?g+1:g))&&c.push(a),Xf()}function ep(a){Yf(a,Uo,Go,io)}function tp(a){Yf(a,gi,Jo,oo)}function vs(a,f=null){if(Go.length){for(Wl=f,Uo=[...new Set(Go)],Go.length=0,io=0;io<Uo.length;io++)Uo[io]();Uo=null,io=0,Wl=null,vs(a,f)}}function Qf(a){if(Jo.length){const f=[...new Set(Jo)];if(Jo.length=0,gi){gi.push(...f);return}for(gi=f,gi.sort((c,g)=>Yo(c)-Yo(g)),oo=0;oo<gi.length;oo++)gi[oo]();gi=null,oo=0}}const Yo=a=>a.id==null?1/0:a.id;function Zf(a){jl=!1,Ea=!0,vs(a),Sn.sort((c,g)=>Yo(c)-Yo(g));const f=Hn;try{for(ri=0;ri<Sn.length;ri++){const c=Sn[ri];c&&c.active!==!1&&yi(c,null,14)}}finally{ri=0,Sn.length=0,Qf(),Ea=!1,gs=null,(Sn.length||Go.length||Jo.length)&&Zf(a)}}function rp(a,f,...c){const g=a.vnode.props||Vt;let x=c;const k=f.startsWith("update:"),_=k&&f.slice(7);if(_&&_ in g){const H=`${_==="modelValue"?"model":_}Modifiers`,{number:V,trim:D}=g[H]||Vt;D?x=c.map(G=>G.trim()):V&&(x=c.map(pd))}let C,S=g[C=_l(f)]||g[C=_l(uo(f))];!S&&k&&(S=g[C=_l(ho(f))]),S&&Dn(S,a,6,x);const z=g[C+"Once"];if(z){if(!a.emitted)a.emitted={};else if(a.emitted[C])return;a.emitted[C]=!0,Dn(z,a,6,x)}}function Vf(a,f,c=!1){const g=f.emitsCache,x=g.get(a);if(x!==void 0)return x;const k=a.emits;let _={},C=!1;if(!Ft(a)){const S=z=>{const H=Vf(z,f,!0);H&&(C=!0,Xr(_,H))};!c&&f.mixins.length&&f.mixins.forEach(S),a.extends&&S(a.extends),a.mixins&&a.mixins.forEach(S)}return!k&&!C?(g.set(a,null),null):(_t(k)?k.forEach(S=>_[S]=null):Xr(_,k),g.set(a,_),_)}function ms(a,f){return!a||!Pa(f)?!1:(f=f.slice(2).replace(/Once$/,""),jt(a,f[0].toLowerCase()+f.slice(1))||jt(a,ho(f))||jt(a,f))}let Jn=null,ec=null;function Oa(a){const f=Jn;return Jn=a,ec=a&&a.type.__scopeId||null,f}function np(a,f=Jn,c){if(!f||a._n)return a;const g=(...x)=>{g._d&&xf(-1);const k=Oa(f),_=a(...x);return Oa(k),g._d&&xf(1),_};return g._n=!0,g._c=!0,g._d=!0,g}function Ol(a){const{type:f,vnode:c,proxy:g,withProxy:x,props:k,propsOptions:[_],slots:C,attrs:S,emit:z,render:H,renderCache:V,data:D,setupState:G,ctx:K,inheritAttrs:ge}=a;let ae,be;const ie=Oa(a);try{if(c.shapeFlag&4){const ne=x||g;ae=qn(H.call(ne,ne,V,k,G,D,K)),be=S}else{const ne=f;ae=qn(ne.length>1?ne(k,{attrs:S,slots:C,emit:z}):ne(k,null)),be=f.props?S:ip(S)}}catch(ne){$o.length=0,za(ne,a,1),ae=Hi(bi)}let Q=ae;if(be&&ge!==!1){const ne=Object.keys(be),{shapeFlag:pe}=Q;ne.length&&pe&7&&(_&&ne.some(rs)&&(be=op(be,_)),Q=fo(Q,be))}return c.dirs&&(Q.dirs=Q.dirs?Q.dirs.concat(c.dirs):c.dirs),c.transition&&(Q.transition=c.transition),ae=Q,Oa(ie),ae}const ip=a=>{let f;for(const c in a)(c==="class"||c==="style"||Pa(c))&&((f||(f={}))[c]=a[c]);return f},op=(a,f)=>{const c={};for(const g in a)(!rs(g)||!(g.slice(9)in f))&&(c[g]=a[g]);return c};function ap(a,f,c){const{props:g,children:x,component:k}=a,{props:_,children:C,patchFlag:S}=f,z=k.emitsOptions;if(f.dirs||f.transition)return!0;if(c&&S>=0){if(S&1024)return!0;if(S&16)return g?ff(g,_,z):!!_;if(S&8){const H=f.dynamicProps;for(let V=0;V<H.length;V++){const D=H[V];if(_[D]!==g[D]&&!ms(z,D))return!0}}}else return(x||C)&&(!C||!C.$stable)?!0:g===_?!1:g?_?ff(g,_,z):!0:!!_;return!1}function ff(a,f,c){const g=Object.keys(f);if(g.length!==Object.keys(a).length)return!0;for(let x=0;x<g.length;x++){const k=g[x];if(f[k]!==a[k]&&!ms(c,k))return!0}return!1}function lp({vnode:a,parent:f},c){for(;f&&f.subTree===a;)(a=f.vnode).el=c,f=f.parent}const sp=a=>a.__isSuspense;function up(a,f){f&&f.pendingBranch?_t(a)?f.effects.push(...a):f.effects.push(a):tp(a)}function fp(a,f){if(Hr){let c=Hr.provides;const g=Hr.parent&&Hr.parent.provides;g===c&&(c=Hr.provides=Object.create(g)),c[a]=f}}function Fl(a,f,c=!1){const g=Hr||Jn;if(g){const x=g.parent==null?g.vnode.appContext&&g.vnode.appContext.provides:g.parent.provides;if(x&&a in x)return x[a];if(arguments.length>1)return c&&Ft(f)?f.call(g.proxy):f}}const cf={};function Il(a,f,c){return tc(a,f,c)}function tc(a,f,{immediate:c,deep:g,flush:x,onTrack:k,onTrigger:_}=Vt){const C=Hr;let S,z=!1,H=!1;if($r(a)?(S=()=>a.value,z=Kf(a)):so(a)?(S=()=>a,g=!0):_t(a)?(H=!0,z=a.some(so),S=()=>a.map(be=>{if($r(be))return be.value;if(so(be))return ao(be);if(Ft(be))return yi(be,C,2)})):Ft(a)?f?S=()=>yi(a,C,2):S=()=>{if(!(C&&C.isUnmounted))return V&&V(),Dn(a,C,3,[D])}:S=Hn,f&&g){const be=S;S=()=>ao(be())}let V,D=be=>{V=ae.onStop=()=>{yi(be,C,4)}};if(Qo)return D=Hn,f?c&&Dn(f,C,3,[S(),H?[]:void 0,D]):S(),Hn;let G=H?[]:cf;const K=()=>{if(!!ae.active)if(f){const be=ae.run();(g||z||(H?be.some((ie,Q)=>Ma(ie,G[Q])):Ma(be,G)))&&(V&&V(),Dn(f,C,3,[be,G===cf?void 0:G,D]),G=be)}else ae.run()};K.allowRecurse=!!f;let ge;x==="sync"?ge=K:x==="post"?ge=()=>vn(K,C&&C.suspense):ge=()=>{!C||C.isMounted?ep(K):K()};const ae=new ls(S,ge);return f?c?K():G=ae.run():x==="post"?vn(ae.run.bind(ae),C&&C.suspense):ae.run(),()=>{ae.stop(),C&&C.scope&&ns(C.scope.effects,ae)}}function cp(a,f,c){const g=this.proxy,x=Yr(a)?a.includes(".")?rc(g,a):()=>g[a]:a.bind(g,g);let k;Ft(f)?k=f:(k=f.handler,c=f);const _=Hr;co(this);const C=tc(x,k.bind(g),c);return _?co(_):zi(),C}function rc(a,f){const c=f.split(".");return()=>{let g=a;for(let x=0;x<c.length&&g;x++)g=g[c[x]];return g}}function ao(a,f){if(!un(a)||a.__v_skip||(f=f||new Set,f.has(a)))return a;if(f.add(a),$r(a))ao(a.value,f);else if(_t(a))for(let c=0;c<a.length;c++)ao(a[c],f);else if(sd(a)||qo(a))a.forEach(c=>{ao(c,f)});else if(cd(a))for(const c in a)ao(a[c],f);return a}function hp(){const a={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ac(()=>{a.isMounted=!0}),lc(()=>{a.isUnmounting=!0}),a}const In=[Function,Array],dp={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:In,onEnter:In,onAfterEnter:In,onEnterCancelled:In,onBeforeLeave:In,onLeave:In,onAfterLeave:In,onLeaveCancelled:In,onBeforeAppear:In,onAppear:In,onAfterAppear:In,onAppearCancelled:In},setup(a,{slots:f}){const c=Vp(),g=hp();let x;return()=>{const k=f.default&&ic(f.default(),!0);if(!k||!k.length)return;const _=Gt(a),{mode:C}=_,S=k[0];if(g.isLeaving)return Dl(S);const z=hf(S);if(!z)return Dl(S);const H=Kl(z,_,g,c);Ul(z,H);const V=c.subTree,D=V&&hf(V);let G=!1;const{getTransitionKey:K}=z.type;if(K){const ge=K();x===void 0?x=ge:ge!==x&&(x=ge,G=!0)}if(D&&D.type!==bi&&(!Ni(z,D)||G)){const ge=Kl(D,_,g,c);if(Ul(D,ge),C==="out-in")return g.isLeaving=!0,ge.afterLeave=()=>{g.isLeaving=!1,c.update()},Dl(S);C==="in-out"&&z.type!==bi&&(ge.delayLeave=(ae,be,ie)=>{const Q=nc(g,D);Q[String(D.key)]=D,ae._leaveCb=()=>{be(),ae._leaveCb=void 0,delete H.delayedLeave},H.delayedLeave=ie})}return S}}},pp=dp;function nc(a,f){const{leavingVNodes:c}=a;let g=c.get(f.type);return g||(g=Object.create(null),c.set(f.type,g)),g}function Kl(a,f,c,g){const{appear:x,mode:k,persisted:_=!1,onBeforeEnter:C,onEnter:S,onAfterEnter:z,onEnterCancelled:H,onBeforeLeave:V,onLeave:D,onAfterLeave:G,onLeaveCancelled:K,onBeforeAppear:ge,onAppear:ae,onAfterAppear:be,onAppearCancelled:ie}=f,Q=String(a.key),ne=nc(c,a),pe=(E,$)=>{E&&Dn(E,g,9,$)},ve={mode:k,persisted:_,beforeEnter(E){let $=C;if(!c.isMounted)if(x)$=ge||C;else return;E._leaveCb&&E._leaveCb(!0);const fe=ne[Q];fe&&Ni(a,fe)&&fe.el._leaveCb&&fe.el._leaveCb(),pe($,[E])},enter(E){let $=S,fe=z,Y=H;if(!c.isMounted)if(x)$=ae||S,fe=be||z,Y=ie||H;else return;let U=!1;const Oe=E._enterCb=J=>{U||(U=!0,J?pe(Y,[E]):pe(fe,[E]),ve.delayedLeave&&ve.delayedLeave(),E._enterCb=void 0)};$?($(E,Oe),$.length<=1&&Oe()):Oe()},leave(E,$){const fe=String(a.key);if(E._enterCb&&E._enterCb(!0),c.isUnmounting)return $();pe(V,[E]);let Y=!1;const U=E._leaveCb=Oe=>{Y||(Y=!0,$(),Oe?pe(K,[E]):pe(G,[E]),E._leaveCb=void 0,ne[fe]===a&&delete ne[fe])};ne[fe]=a,D?(D(E,U),D.length<=1&&U()):U()},clone(E){return Kl(E,f,c,g)}};return ve}function Dl(a){if(ja(a))return a=fo(a),a.children=null,a}function hf(a){return ja(a)?a.children?a.children[0]:void 0:a}function Ul(a,f){a.shapeFlag&6&&a.component?Ul(a.component.subTree,f):a.shapeFlag&128?(a.ssContent.transition=f.clone(a.ssContent),a.ssFallback.transition=f.clone(a.ssFallback)):a.transition=f}function ic(a,f=!1){let c=[],g=0;for(let x=0;x<a.length;x++){const k=a[x];k.type===Un?(k.patchFlag&128&&g++,c=c.concat(ic(k.children,f))):(f||k.type!==bi)&&c.push(k)}if(g>1)for(let x=0;x<c.length;x++)c[x].patchFlag=-2;return c}function Ng(a){return Ft(a)?{setup:a,name:a.name}:a}const ql=a=>!!a.type.__asyncLoader,ja=a=>a.type.__isKeepAlive;function gp(a,f){oc(a,"a",f)}function vp(a,f){oc(a,"da",f)}function oc(a,f,c=Hr){const g=a.__wdc||(a.__wdc=()=>{let x=c;for(;x;){if(x.isDeactivated)return;x=x.parent}return a()});if(Wa(f,g,c),c){let x=c.parent;for(;x&&x.parent;)ja(x.parent.vnode)&&mp(g,f,c,x),x=x.parent}}function mp(a,f,c,g){const x=Wa(f,a,g,!0);sc(()=>{ns(g[f],x)},c)}function Wa(a,f,c=Hr,g=!1){if(c){const x=c[a]||(c[a]=[]),k=f.__weh||(f.__weh=(..._)=>{if(c.isUnmounted)return;po(),co(c);const C=Dn(f,c,a,_);return zi(),go(),C});return g?x.unshift(k):x.push(k),k}}const ii=a=>(f,c=Hr)=>(!Qo||a==="sp")&&Wa(a,f,c),yp=ii("bm"),ac=ii("m"),xp=ii("bu"),bp=ii("u"),lc=ii("bum"),sc=ii("um"),wp=ii("sp"),kp=ii("rtg"),Cp=ii("rtc");function Sp(a,f=Hr){Wa("ec",a,f)}let Gl=!0;function Tp(a){const f=fc(a),c=a.proxy,g=a.ctx;Gl=!1,f.beforeCreate&&df(f.beforeCreate,a,"bc");const{data:x,computed:k,methods:_,watch:C,provide:S,inject:z,created:H,beforeMount:V,mounted:D,beforeUpdate:G,updated:K,activated:ge,deactivated:ae,beforeDestroy:be,beforeUnmount:ie,destroyed:Q,unmounted:ne,render:pe,renderTracked:ve,renderTriggered:E,errorCaptured:$,serverPrefetch:fe,expose:Y,inheritAttrs:U,components:Oe,directives:J,filters:te}=f;if(z&&Lp(z,g,null,a.appContext.config.unwrapInjectedRef),_)for(const ke in _){const ze=_[ke];Ft(ze)&&(g[ke]=ze.bind(c))}if(x){const ke=x.call(c,c);un(ke)&&(a.data=cs(ke))}if(Gl=!0,k)for(const ke in k){const ze=k[ke],ye=Ft(ze)?ze.bind(c,c):Ft(ze.get)?ze.get.bind(c,c):Hn,Be=!Ft(ze)&&Ft(ze.set)?ze.set.bind(c):Hn,Qe=og({get:ye,set:Be});Object.defineProperty(g,ke,{enumerable:!0,configurable:!0,get:()=>Qe.value,set:W=>Qe.value=W})}if(C)for(const ke in C)uc(C[ke],g,c,ke);if(S){const ke=Ft(S)?S.call(c):S;Reflect.ownKeys(ke).forEach(ze=>{fp(ze,ke[ze])})}H&&df(H,a,"c");function Se(ke,ze){_t(ze)?ze.forEach(ye=>ke(ye.bind(c))):ze&&ke(ze.bind(c))}if(Se(yp,V),Se(ac,D),Se(xp,G),Se(bp,K),Se(gp,ge),Se(vp,ae),Se(Sp,$),Se(Cp,ve),Se(kp,E),Se(lc,ie),Se(sc,ne),Se(wp,fe),_t(Y))if(Y.length){const ke=a.exposed||(a.exposed={});Y.forEach(ze=>{Object.defineProperty(ke,ze,{get:()=>c[ze],set:ye=>c[ze]=ye})})}else a.exposed||(a.exposed={});pe&&a.render===Hn&&(a.render=pe),U!=null&&(a.inheritAttrs=U),Oe&&(a.components=Oe),J&&(a.directives=J)}function Lp(a,f,c=Hn,g=!1){_t(a)&&(a=Jl(a));for(const x in a){const k=a[x];let _;un(k)?"default"in k?_=Fl(k.from||x,k.default,!0):_=Fl(k.from||x):_=Fl(k),$r(_)&&g?Object.defineProperty(f,x,{enumerable:!0,configurable:!0,get:()=>_.value,set:C=>_.value=C}):f[x]=_}}function df(a,f,c){Dn(_t(a)?a.map(g=>g.bind(f.proxy)):a.bind(f.proxy),f,c)}function uc(a,f,c,g){const x=g.includes(".")?rc(c,g):()=>c[g];if(Yr(a)){const k=f[a];Ft(k)&&Il(x,k)}else if(Ft(a))Il(x,a.bind(c));else if(un(a))if(_t(a))a.forEach(k=>uc(k,f,c,g));else{const k=Ft(a.handler)?a.handler.bind(c):f[a.handler];Ft(k)&&Il(x,k,a)}}function fc(a){const f=a.type,{mixins:c,extends:g}=f,{mixins:x,optionsCache:k,config:{optionMergeStrategies:_}}=a.appContext,C=k.get(f);let S;return C?S=C:!x.length&&!c&&!g?S=f:(S={},x.length&&x.forEach(z=>Fa(S,z,_,!0)),Fa(S,f,_)),k.set(f,S),S}function Fa(a,f,c,g=!1){const{mixins:x,extends:k}=f;k&&Fa(a,k,c,!0),x&&x.forEach(_=>Fa(a,_,c,!0));for(const _ in f)if(!(g&&_==="expose")){const C=Ap[_]||c&&c[_];a[_]=C?C(a[_],f[_]):f[_]}return a}const Ap={data:pf,props:Di,emits:Di,methods:Di,computed:Di,beforeCreate:sn,created:sn,beforeMount:sn,mounted:sn,beforeUpdate:sn,updated:sn,beforeDestroy:sn,beforeUnmount:sn,destroyed:sn,unmounted:sn,activated:sn,deactivated:sn,errorCaptured:sn,serverPrefetch:sn,components:Di,directives:Di,watch:_p,provide:pf,inject:Mp};function pf(a,f){return f?a?function(){return Xr(Ft(a)?a.call(this,this):a,Ft(f)?f.call(this,this):f)}:f:a}function Mp(a,f){return Di(Jl(a),Jl(f))}function Jl(a){if(_t(a)){const f={};for(let c=0;c<a.length;c++)f[a[c]]=a[c];return f}return a}function sn(a,f){return a?[...new Set([].concat(a,f))]:f}function Di(a,f){return a?Xr(Xr(Object.create(null),a),f):f}function _p(a,f){if(!a)return f;if(!f)return a;const c=Xr(Object.create(null),a);for(const g in f)c[g]=sn(a[g],f[g]);return c}function Ep(a,f,c,g=!1){const x={},k={};_a(k,Ka,1),a.propsDefaults=Object.create(null),cc(a,f,x,k);for(const _ in a.propsOptions[0])_ in x||(x[_]=void 0);c?a.props=g?x:Kd(x):a.type.props?a.props=x:a.props=k,a.attrs=k}function Op(a,f,c,g){const{props:x,attrs:k,vnode:{patchFlag:_}}=a,C=Gt(x),[S]=a.propsOptions;let z=!1;if((g||_>0)&&!(_&16)){if(_&8){const H=a.vnode.dynamicProps;for(let V=0;V<H.length;V++){let D=H[V];const G=f[D];if(S)if(jt(k,D))G!==k[D]&&(k[D]=G,z=!0);else{const K=uo(D);x[K]=$l(S,C,K,G,a,!1)}else G!==k[D]&&(k[D]=G,z=!0)}}}else{cc(a,f,x,k)&&(z=!0);let H;for(const V in C)(!f||!jt(f,V)&&((H=ho(V))===V||!jt(f,H)))&&(S?c&&(c[V]!==void 0||c[H]!==void 0)&&(x[V]=$l(S,C,V,void 0,a,!0)):delete x[V]);if(k!==C)for(const V in k)(!f||!jt(f,V)&&!0)&&(delete k[V],z=!0)}z&&ni(a,"set","$attrs")}function cc(a,f,c,g){const[x,k]=a.propsOptions;let _=!1,C;if(f)for(let S in f){if(La(S))continue;const z=f[S];let H;x&&jt(x,H=uo(S))?!k||!k.includes(H)?c[H]=z:(C||(C={}))[H]=z:ms(a.emitsOptions,S)||(!(S in g)||z!==g[S])&&(g[S]=z,_=!0)}if(k){const S=Gt(c),z=C||Vt;for(let H=0;H<k.length;H++){const V=k[H];c[V]=$l(x,S,V,z[V],a,!jt(z,V))}}return _}function $l(a,f,c,g,x,k){const _=a[c];if(_!=null){const C=jt(_,"default");if(C&&g===void 0){const S=_.default;if(_.type!==Function&&Ft(S)){const{propsDefaults:z}=x;c in z?g=z[c]:(co(x),g=z[c]=S.call(null,f),zi())}else g=S}_[0]&&(k&&!C?g=!1:_[1]&&(g===""||g===ho(c))&&(g=!0))}return g}function hc(a,f,c=!1){const g=f.propsCache,x=g.get(a);if(x)return x;const k=a.props,_={},C=[];let S=!1;if(!Ft(a)){const H=V=>{S=!0;const[D,G]=hc(V,f,!0);Xr(_,D),G&&C.push(...G)};!c&&f.mixins.length&&f.mixins.forEach(H),a.extends&&H(a.extends),a.mixins&&a.mixins.forEach(H)}if(!k&&!S)return g.set(a,lo),lo;if(_t(k))for(let H=0;H<k.length;H++){const V=uo(k[H]);gf(V)&&(_[V]=Vt)}else if(k)for(const H in k){const V=uo(H);if(gf(V)){const D=k[H],G=_[V]=_t(D)||Ft(D)?{type:D}:D;if(G){const K=yf(Boolean,G.type),ge=yf(String,G.type);G[0]=K>-1,G[1]=ge<0||K<ge,(K>-1||jt(G,"default"))&&C.push(V)}}}const z=[_,C];return g.set(a,z),z}function gf(a){return a[0]!=="$"}function vf(a){const f=a&&a.toString().match(/^\s*function (\w+)/);return f?f[1]:a===null?"null":""}function mf(a,f){return vf(a)===vf(f)}function yf(a,f){return _t(f)?f.findIndex(c=>mf(c,a)):Ft(f)&&mf(f,a)?0:-1}const dc=a=>a[0]==="_"||a==="$stable",ys=a=>_t(a)?a.map(qn):[qn(a)],Fp=(a,f,c)=>{const g=np((...x)=>ys(f(...x)),c);return g._c=!1,g},pc=(a,f,c)=>{const g=a._ctx;for(const x in a){if(dc(x))continue;const k=a[x];if(Ft(k))f[x]=Fp(x,k,g);else if(k!=null){const _=ys(k);f[x]=()=>_}}},gc=(a,f)=>{const c=ys(f);a.slots.default=()=>c},Ip=(a,f)=>{if(a.vnode.shapeFlag&32){const c=f._;c?(a.slots=Gt(f),_a(f,"_",c)):pc(f,a.slots={})}else a.slots={},f&&gc(a,f);_a(a.slots,Ka,1)},Dp=(a,f,c)=>{const{vnode:g,slots:x}=a;let k=!0,_=Vt;if(g.shapeFlag&32){const C=f._;C?c&&C===1?k=!1:(Xr(x,f),!c&&C===1&&delete x._):(k=!f.$stable,pc(f,x)),_=f}else f&&(gc(a,f),_={default:1});if(k)for(const C in x)!dc(C)&&!(C in _)&&delete x[C]};function Fi(a,f,c,g){const x=a.dirs,k=f&&f.dirs;for(let _=0;_<x.length;_++){const C=x[_];k&&(C.oldValue=k[_].value);let S=C.dir[g];S&&(po(),Dn(S,c,8,[a.el,C,a,f]),go())}}function vc(){return{app:null,config:{isNativeTag:od,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Np=0;function Pp(a,f){return function(g,x=null){x!=null&&!un(x)&&(x=null);const k=vc(),_=new Set;let C=!1;const S=k.app={_uid:Np++,_component:g,_props:x,_container:null,_context:k,_instance:null,version:ag,get config(){return k.config},set config(z){},use(z,...H){return _.has(z)||(z&&Ft(z.install)?(_.add(z),z.install(S,...H)):Ft(z)&&(_.add(z),z(S,...H))),S},mixin(z){return k.mixins.includes(z)||k.mixins.push(z),S},component(z,H){return H?(k.components[z]=H,S):k.components[z]},directive(z,H){return H?(k.directives[z]=H,S):k.directives[z]},mount(z,H,V){if(!C){const D=Hi(g,x);return D.appContext=k,H&&f?f(D,z):a(D,z,V),C=!0,S._container=z,z.__vue_app__=S,ws(D.component)||D.component.proxy}},unmount(){C&&(a(null,S._container),delete S._container.__vue_app__)},provide(z,H){return k.provides[z]=H,S}};return S}}function Xl(a,f,c,g,x=!1){if(_t(a)){a.forEach((D,G)=>Xl(D,f&&(_t(f)?f[G]:f),c,g,x));return}if(ql(g)&&!x)return;const k=g.shapeFlag&4?ws(g.component)||g.component.proxy:g.el,_=x?null:k,{i:C,r:S}=a,z=f&&f.r,H=C.refs===Vt?C.refs={}:C.refs,V=C.setupState;if(z!=null&&z!==S&&(Yr(z)?(H[z]=null,jt(V,z)&&(V[z]=null)):$r(z)&&(z.value=null)),Ft(S))yi(S,C,12,[_,H]);else{const D=Yr(S),G=$r(S);if(D||G){const K=()=>{if(a.f){const ge=D?H[S]:S.value;x?_t(ge)&&ns(ge,k):_t(ge)?ge.includes(k)||ge.push(k):D?H[S]=[k]:(S.value=[k],a.k&&(H[a.k]=S.value))}else D?(H[S]=_,jt(V,S)&&(V[S]=_)):$r(S)&&(S.value=_,a.k&&(H[a.k]=_))};_?(K.id=-1,vn(K,c)):K()}}}const vn=up;function Rp(a){return Bp(a)}function Bp(a,f){const c=gd();c.__VUE__=!0;const{insert:g,remove:x,patchProp:k,createElement:_,createText:C,createComment:S,setText:z,setElementText:H,parentNode:V,nextSibling:D,setScopeId:G=Hn,cloneNode:K,insertStaticContent:ge}=a,ae=(P,Z,he,me=null,Te=null,De=null,we=!1,xe=null,ce=!!Z.dynamicChildren)=>{if(P===Z)return;P&&!Ni(P,Z)&&(me=Ae(P),T(P,Te,De,!0),P=null),Z.patchFlag===-2&&(ce=!1,Z.dynamicChildren=null);const{type:F,ref:de,shapeFlag:re}=Z;switch(F){case xs:be(P,Z,he,me);break;case bi:ie(P,Z,he,me);break;case Nl:P==null&&Q(Z,he,me,we);break;case Un:J(P,Z,he,me,Te,De,we,xe,ce);break;default:re&1?ve(P,Z,he,me,Te,De,we,xe,ce):re&6?te(P,Z,he,me,Te,De,we,xe,ce):(re&64||re&128)&&F.process(P,Z,he,me,Te,De,we,xe,ce,it)}de!=null&&Te&&Xl(de,P&&P.ref,De,Z||P,!Z)},be=(P,Z,he,me)=>{if(P==null)g(Z.el=C(Z.children),he,me);else{const Te=Z.el=P.el;Z.children!==P.children&&z(Te,Z.children)}},ie=(P,Z,he,me)=>{P==null?g(Z.el=S(Z.children||""),he,me):Z.el=P.el},Q=(P,Z,he,me)=>{[P.el,P.anchor]=ge(P.children,Z,he,me,P.el,P.anchor)},ne=({el:P,anchor:Z},he,me)=>{let Te;for(;P&&P!==Z;)Te=D(P),g(P,he,me),P=Te;g(Z,he,me)},pe=({el:P,anchor:Z})=>{let he;for(;P&&P!==Z;)he=D(P),x(P),P=he;x(Z)},ve=(P,Z,he,me,Te,De,we,xe,ce)=>{we=we||Z.type==="svg",P==null?E(Z,he,me,Te,De,we,xe,ce):Y(P,Z,Te,De,we,xe,ce)},E=(P,Z,he,me,Te,De,we,xe)=>{let ce,F;const{type:de,props:re,shapeFlag:Ke,transition:Ve,patchFlag:vt,dirs:xt}=P;if(P.el&&K!==void 0&&vt===-1)ce=P.el=K(P.el);else{if(ce=P.el=_(P.type,De,re&&re.is,re),Ke&8?H(ce,P.children):Ke&16&&fe(P.children,ce,null,me,Te,De&&de!=="foreignObject",we,xe),xt&&Fi(P,null,me,"created"),re){for(const gt in re)gt!=="value"&&!La(gt)&&k(ce,gt,null,re[gt],De,P.children,me,Te,qe);"value"in re&&k(ce,"value",null,re.value),(F=re.onVnodeBeforeMount)&&Kn(F,me,P)}$(ce,P,P.scopeId,we,me)}xt&&Fi(P,null,me,"beforeMount");const yt=(!Te||Te&&!Te.pendingBranch)&&Ve&&!Ve.persisted;yt&&Ve.beforeEnter(ce),g(ce,Z,he),((F=re&&re.onVnodeMounted)||yt||xt)&&vn(()=>{F&&Kn(F,me,P),yt&&Ve.enter(ce),xt&&Fi(P,null,me,"mounted")},Te)},$=(P,Z,he,me,Te)=>{if(he&&G(P,he),me)for(let De=0;De<me.length;De++)G(P,me[De]);if(Te){let De=Te.subTree;if(Z===De){const we=Te.vnode;$(P,we,we.scopeId,we.slotScopeIds,Te.parent)}}},fe=(P,Z,he,me,Te,De,we,xe,ce=0)=>{for(let F=ce;F<P.length;F++){const de=P[F]=xe?vi(P[F]):qn(P[F]);ae(null,de,Z,he,me,Te,De,we,xe)}},Y=(P,Z,he,me,Te,De,we)=>{const xe=Z.el=P.el;let{patchFlag:ce,dynamicChildren:F,dirs:de}=Z;ce|=P.patchFlag&16;const re=P.props||Vt,Ke=Z.props||Vt;let Ve;he&&Ii(he,!1),(Ve=Ke.onVnodeBeforeUpdate)&&Kn(Ve,he,Z,P),de&&Fi(Z,P,he,"beforeUpdate"),he&&Ii(he,!0);const vt=Te&&Z.type!=="foreignObject";if(F?U(P.dynamicChildren,F,xe,he,me,vt,De):we||ye(P,Z,xe,null,he,me,vt,De,!1),ce>0){if(ce&16)Oe(xe,Z,re,Ke,he,me,Te);else if(ce&2&&re.class!==Ke.class&&k(xe,"class",null,Ke.class,Te),ce&4&&k(xe,"style",re.style,Ke.style,Te),ce&8){const xt=Z.dynamicProps;for(let yt=0;yt<xt.length;yt++){const gt=xt[yt],Qt=re[gt],Jt=Ke[gt];(Jt!==Qt||gt==="value")&&k(xe,gt,Qt,Jt,Te,P.children,he,me,qe)}}ce&1&&P.children!==Z.children&&H(xe,Z.children)}else!we&&F==null&&Oe(xe,Z,re,Ke,he,me,Te);((Ve=Ke.onVnodeUpdated)||de)&&vn(()=>{Ve&&Kn(Ve,he,Z,P),de&&Fi(Z,P,he,"updated")},me)},U=(P,Z,he,me,Te,De,we)=>{for(let xe=0;xe<Z.length;xe++){const ce=P[xe],F=Z[xe],de=ce.el&&(ce.type===Un||!Ni(ce,F)||ce.shapeFlag&70)?V(ce.el):he;ae(ce,F,de,null,me,Te,De,we,!0)}},Oe=(P,Z,he,me,Te,De,we)=>{if(he!==me){for(const xe in me){if(La(xe))continue;const ce=me[xe],F=he[xe];ce!==F&&xe!=="value"&&k(P,xe,F,ce,we,Z.children,Te,De,qe)}if(he!==Vt)for(const xe in he)!La(xe)&&!(xe in me)&&k(P,xe,he[xe],null,we,Z.children,Te,De,qe);"value"in me&&k(P,"value",he.value,me.value)}},J=(P,Z,he,me,Te,De,we,xe,ce)=>{const F=Z.el=P?P.el:C(""),de=Z.anchor=P?P.anchor:C("");let{patchFlag:re,dynamicChildren:Ke,slotScopeIds:Ve}=Z;Ve&&(xe=xe?xe.concat(Ve):Ve),P==null?(g(F,he,me),g(de,he,me),fe(Z.children,he,de,Te,De,we,xe,ce)):re>0&&re&64&&Ke&&P.dynamicChildren?(U(P.dynamicChildren,Ke,he,Te,De,we,xe),(Z.key!=null||Te&&Z===Te.subTree)&&mc(P,Z,!0)):ye(P,Z,he,de,Te,De,we,xe,ce)},te=(P,Z,he,me,Te,De,we,xe,ce)=>{Z.slotScopeIds=xe,P==null?Z.shapeFlag&512?Te.ctx.activate(Z,he,me,we,ce):A(Z,he,me,Te,De,we,ce):Se(P,Z,ce)},A=(P,Z,he,me,Te,De,we)=>{const xe=P.component=Zp(P,me,Te);if(ja(P)&&(xe.ctx.renderer=it),eg(xe),xe.asyncDep){if(Te&&Te.registerDep(xe,ke),!P.el){const ce=xe.subTree=Hi(bi);ie(null,ce,Z,he)}return}ke(xe,P,Z,he,Te,De,we)},Se=(P,Z,he)=>{const me=Z.component=P.component;if(ap(P,Z,he))if(me.asyncDep&&!me.asyncResolved){ze(me,Z,he);return}else me.next=Z,Vd(me.update),me.update();else Z.component=P.component,Z.el=P.el,me.vnode=Z},ke=(P,Z,he,me,Te,De,we)=>{const xe=()=>{if(P.isMounted){let{next:de,bu:re,u:Ke,parent:Ve,vnode:vt}=P,xt=de,yt;Ii(P,!1),de?(de.el=vt.el,ze(P,de,we)):de=vt,re&&El(re),(yt=de.props&&de.props.onVnodeBeforeUpdate)&&Kn(yt,Ve,de,vt),Ii(P,!0);const gt=Ol(P),Qt=P.subTree;P.subTree=gt,ae(Qt,gt,V(Qt.el),Ae(Qt),P,Te,De),de.el=gt.el,xt===null&&lp(P,gt.el),Ke&&vn(Ke,Te),(yt=de.props&&de.props.onVnodeUpdated)&&vn(()=>Kn(yt,Ve,de,vt),Te)}else{let de;const{el:re,props:Ke}=Z,{bm:Ve,m:vt,parent:xt}=P,yt=ql(Z);if(Ii(P,!1),Ve&&El(Ve),!yt&&(de=Ke&&Ke.onVnodeBeforeMount)&&Kn(de,xt,Z),Ii(P,!0),re&&nt){const gt=()=>{P.subTree=Ol(P),nt(re,P.subTree,P,Te,null)};yt?Z.type.__asyncLoader().then(()=>!P.isUnmounted&&gt()):gt()}else{const gt=P.subTree=Ol(P);ae(null,gt,he,me,P,Te,De),Z.el=gt.el}if(vt&&vn(vt,Te),!yt&&(de=Ke&&Ke.onVnodeMounted)){const gt=Z;vn(()=>Kn(de,xt,gt),Te)}Z.shapeFlag&256&&P.a&&vn(P.a,Te),P.isMounted=!0,Z=he=me=null}},ce=P.effect=new ls(xe,()=>$f(P.update),P.scope),F=P.update=ce.run.bind(ce);F.id=P.uid,Ii(P,!0),F()},ze=(P,Z,he)=>{Z.component=P;const me=P.vnode.props;P.vnode=Z,P.next=null,Op(P,Z.props,me,he),Dp(P,Z.children,he),po(),vs(void 0,P.update),go()},ye=(P,Z,he,me,Te,De,we,xe,ce=!1)=>{const F=P&&P.children,de=P?P.shapeFlag:0,re=Z.children,{patchFlag:Ke,shapeFlag:Ve}=Z;if(Ke>0){if(Ke&128){Qe(F,re,he,me,Te,De,we,xe,ce);return}else if(Ke&256){Be(F,re,he,me,Te,De,we,xe,ce);return}}Ve&8?(de&16&&qe(F,Te,De),re!==F&&H(he,re)):de&16?Ve&16?Qe(F,re,he,me,Te,De,we,xe,ce):qe(F,Te,De,!0):(de&8&&H(he,""),Ve&16&&fe(re,he,me,Te,De,we,xe,ce))},Be=(P,Z,he,me,Te,De,we,xe,ce)=>{P=P||lo,Z=Z||lo;const F=P.length,de=Z.length,re=Math.min(F,de);let Ke;for(Ke=0;Ke<re;Ke++){const Ve=Z[Ke]=ce?vi(Z[Ke]):qn(Z[Ke]);ae(P[Ke],Ve,he,null,Te,De,we,xe,ce)}F>de?qe(P,Te,De,!0,!1,re):fe(Z,he,me,Te,De,we,xe,ce,re)},Qe=(P,Z,he,me,Te,De,we,xe,ce)=>{let F=0;const de=Z.length;let re=P.length-1,Ke=de-1;for(;F<=re&&F<=Ke;){const Ve=P[F],vt=Z[F]=ce?vi(Z[F]):qn(Z[F]);if(Ni(Ve,vt))ae(Ve,vt,he,null,Te,De,we,xe,ce);else break;F++}for(;F<=re&&F<=Ke;){const Ve=P[re],vt=Z[Ke]=ce?vi(Z[Ke]):qn(Z[Ke]);if(Ni(Ve,vt))ae(Ve,vt,he,null,Te,De,we,xe,ce);else break;re--,Ke--}if(F>re){if(F<=Ke){const Ve=Ke+1,vt=Ve<de?Z[Ve].el:me;for(;F<=Ke;)ae(null,Z[F]=ce?vi(Z[F]):qn(Z[F]),he,vt,Te,De,we,xe,ce),F++}}else if(F>Ke)for(;F<=re;)T(P[F],Te,De,!0),F++;else{const Ve=F,vt=F,xt=new Map;for(F=vt;F<=Ke;F++){const kt=Z[F]=ce?vi(Z[F]):qn(Z[F]);kt.key!=null&&xt.set(kt.key,F)}let yt,gt=0;const Qt=Ke-vt+1;let Jt=!1,At=0;const et=new Array(Qt);for(F=0;F<Qt;F++)et[F]=0;for(F=Ve;F<=re;F++){const kt=P[F];if(gt>=Qt){T(kt,Te,De,!0);continue}let ot;if(kt.key!=null)ot=xt.get(kt.key);else for(yt=vt;yt<=Ke;yt++)if(et[yt-vt]===0&&Ni(kt,Z[yt])){ot=yt;break}ot===void 0?T(kt,Te,De,!0):(et[ot-vt]=F+1,ot>=At?At=ot:Jt=!0,ae(kt,Z[ot],he,null,Te,De,we,xe,ce),gt++)}const Mt=Jt?Hp(et):lo;for(yt=Mt.length-1,F=Qt-1;F>=0;F--){const kt=vt+F,ot=Z[kt],Rt=kt+1<de?Z[kt+1].el:me;et[F]===0?ae(null,ot,he,Rt,Te,De,we,xe,ce):Jt&&(yt<0||F!==Mt[yt]?W(ot,he,Rt,2):yt--)}}},W=(P,Z,he,me,Te=null)=>{const{el:De,type:we,transition:xe,children:ce,shapeFlag:F}=P;if(F&6){W(P.component.subTree,Z,he,me);return}if(F&128){P.suspense.move(Z,he,me);return}if(F&64){we.move(P,Z,he,it);return}if(we===Un){g(De,Z,he);for(let re=0;re<ce.length;re++)W(ce[re],Z,he,me);g(P.anchor,Z,he);return}if(we===Nl){ne(P,Z,he);return}if(me!==2&&F&1&&xe)if(me===0)xe.beforeEnter(De),g(De,Z,he),vn(()=>xe.enter(De),Te);else{const{leave:re,delayLeave:Ke,afterLeave:Ve}=xe,vt=()=>g(De,Z,he),xt=()=>{re(De,()=>{vt(),Ve&&Ve()})};Ke?Ke(De,vt,xt):xt()}else g(De,Z,he)},T=(P,Z,he,me=!1,Te=!1)=>{const{type:De,props:we,ref:xe,children:ce,dynamicChildren:F,shapeFlag:de,patchFlag:re,dirs:Ke}=P;if(xe!=null&&Xl(xe,null,he,P,!0),de&256){Z.ctx.deactivate(P);return}const Ve=de&1&&Ke,vt=!ql(P);let xt;if(vt&&(xt=we&&we.onVnodeBeforeUnmount)&&Kn(xt,Z,P),de&6)Fe(P.component,he,me);else{if(de&128){P.suspense.unmount(he,me);return}Ve&&Fi(P,null,Z,"beforeUnmount"),de&64?P.type.remove(P,Z,he,Te,it,me):F&&(De!==Un||re>0&&re&64)?qe(F,Z,he,!1,!0):(De===Un&&re&384||!Te&&de&16)&&qe(ce,Z,he),me&&je(P)}(vt&&(xt=we&&we.onVnodeUnmounted)||Ve)&&vn(()=>{xt&&Kn(xt,Z,P),Ve&&Fi(P,null,Z,"unmounted")},he)},je=P=>{const{type:Z,el:he,anchor:me,transition:Te}=P;if(Z===Un){Je(he,me);return}if(Z===Nl){pe(P);return}const De=()=>{x(he),Te&&!Te.persisted&&Te.afterLeave&&Te.afterLeave()};if(P.shapeFlag&1&&Te&&!Te.persisted){const{leave:we,delayLeave:xe}=Te,ce=()=>we(he,De);xe?xe(P.el,De,ce):ce()}else De()},Je=(P,Z)=>{let he;for(;P!==Z;)he=D(P),x(P),P=he;x(Z)},Fe=(P,Z,he)=>{const{bum:me,scope:Te,update:De,subTree:we,um:xe}=P;me&&El(me),Te.stop(),De&&(De.active=!1,T(we,P,Z,he)),xe&&vn(xe,Z),vn(()=>{P.isUnmounted=!0},Z),Z&&Z.pendingBranch&&!Z.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===Z.pendingId&&(Z.deps--,Z.deps===0&&Z.resolve())},qe=(P,Z,he,me=!1,Te=!1,De=0)=>{for(let we=De;we<P.length;we++)T(P[we],Z,he,me,Te)},Ae=P=>P.shapeFlag&6?Ae(P.component.subTree):P.shapeFlag&128?P.suspense.next():D(P.anchor||P.el),ht=(P,Z,he)=>{P==null?Z._vnode&&T(Z._vnode,null,null,!0):ae(Z._vnode||null,P,Z,null,null,null,he),Qf(),Z._vnode=P},it={p:ae,um:T,m:W,r:je,mt:A,mc:fe,pc:ye,pbc:U,n:Ae,o:a};let $e,nt;return f&&([$e,nt]=f(it)),{render:ht,hydrate:$e,createApp:Pp(ht,$e)}}function Ii({effect:a,update:f},c){a.allowRecurse=f.allowRecurse=c}function mc(a,f,c=!1){const g=a.children,x=f.children;if(_t(g)&&_t(x))for(let k=0;k<g.length;k++){const _=g[k];let C=x[k];C.shapeFlag&1&&!C.dynamicChildren&&((C.patchFlag<=0||C.patchFlag===32)&&(C=x[k]=vi(x[k]),C.el=_.el),c||mc(_,C))}}function Hp(a){const f=a.slice(),c=[0];let g,x,k,_,C;const S=a.length;for(g=0;g<S;g++){const z=a[g];if(z!==0){if(x=c[c.length-1],a[x]<z){f[g]=x,c.push(g);continue}for(k=0,_=c.length-1;k<_;)C=k+_>>1,a[c[C]]<z?k=C+1:_=C;z<a[c[k]]&&(k>0&&(f[g]=c[k-1]),c[k]=g)}}for(k=c.length,_=c[k-1];k-- >0;)c[k]=_,_=f[_];return c}const zp=a=>a.__isTeleport,jp=Symbol(),Un=Symbol(void 0),xs=Symbol(void 0),bi=Symbol(void 0),Nl=Symbol(void 0),$o=[];let Bi=null;function Pg(a=!1){$o.push(Bi=a?null:[])}function Wp(){$o.pop(),Bi=$o[$o.length-1]||null}let Ia=1;function xf(a){Ia+=a}function Kp(a){return a.dynamicChildren=Ia>0?Bi||lo:null,Wp(),Ia>0&&Bi&&Bi.push(a),a}function Rg(a,f,c,g,x,k){return Kp(xc(a,f,c,g,x,k,!0))}function Up(a){return a?a.__v_isVNode===!0:!1}function Ni(a,f){return a.type===f.type&&a.key===f.key}const Ka="__vInternal",yc=({key:a})=>a??null,Aa=({ref:a,ref_key:f,ref_for:c})=>a!=null?Yr(a)||$r(a)||Ft(a)?{i:Jn,r:a,k:f,f:!!c}:a:null;function xc(a,f=null,c=null,g=0,x=null,k=a===Un?0:1,_=!1,C=!1){const S={__v_isVNode:!0,__v_skip:!0,type:a,props:f,key:f&&yc(f),ref:f&&Aa(f),scopeId:ec,slotScopeIds:null,children:c,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:k,patchFlag:g,dynamicProps:x,dynamicChildren:null,appContext:null};return C?(bs(S,c),k&128&&a.normalize(S)):c&&(S.shapeFlag|=Yr(c)?8:16),Ia>0&&!_&&Bi&&(S.patchFlag>0||k&6)&&S.patchFlag!==32&&Bi.push(S),S}const Hi=qp;function qp(a,f=null,c=null,g=0,x=null,k=!1){if((!a||a===jp)&&(a=bi),Up(a)){const C=fo(a,f,!0);return c&&bs(C,c),C}if(ig(a)&&(a=a.__vccOpts),f){f=Gp(f);let{class:C,style:S}=f;C&&!Yr(C)&&(f.class=ts(C)),un(S)&&(Uf(S)&&!_t(S)&&(S=Xr({},S)),f.style=es(S))}const _=Yr(a)?1:sp(a)?128:zp(a)?64:un(a)?4:Ft(a)?2:0;return xc(a,f,c,g,x,_,k,!0)}function Gp(a){return a?Uf(a)||Ka in a?Xr({},a):a:null}function fo(a,f,c=!1){const{props:g,ref:x,patchFlag:k,children:_}=a,C=f?$p(g||{},f):g;return{__v_isVNode:!0,__v_skip:!0,type:a.type,props:C,key:C&&yc(C),ref:f&&f.ref?c&&x?_t(x)?x.concat(Aa(f)):[x,Aa(f)]:Aa(f):x,scopeId:a.scopeId,slotScopeIds:a.slotScopeIds,children:_,target:a.target,targetAnchor:a.targetAnchor,staticCount:a.staticCount,shapeFlag:a.shapeFlag,patchFlag:f&&a.type!==Un?k===-1?16:k|16:k,dynamicProps:a.dynamicProps,dynamicChildren:a.dynamicChildren,appContext:a.appContext,dirs:a.dirs,transition:a.transition,component:a.component,suspense:a.suspense,ssContent:a.ssContent&&fo(a.ssContent),ssFallback:a.ssFallback&&fo(a.ssFallback),el:a.el,anchor:a.anchor}}function Jp(a=" ",f=0){return Hi(xs,null,a,f)}function qn(a){return a==null||typeof a=="boolean"?Hi(bi):_t(a)?Hi(Un,null,a.slice()):typeof a=="object"?vi(a):Hi(xs,null,String(a))}function vi(a){return a.el===null||a.memo?a:fo(a)}function bs(a,f){let c=0;const{shapeFlag:g}=a;if(f==null)f=null;else if(_t(f))c=16;else if(typeof f=="object")if(g&65){const x=f.default;x&&(x._c&&(x._d=!1),bs(a,x()),x._c&&(x._d=!0));return}else{c=32;const x=f._;!x&&!(Ka in f)?f._ctx=Jn:x===3&&Jn&&(Jn.slots._===1?f._=1:(f._=2,a.patchFlag|=1024))}else Ft(f)?(f={default:f,_ctx:Jn},c=32):(f=String(f),g&64?(c=16,f=[Jp(f)]):c=8);a.children=f,a.shapeFlag|=c}function $p(...a){const f={};for(let c=0;c<a.length;c++){const g=a[c];for(const x in g)if(x==="class")f.class!==g.class&&(f.class=ts([f.class,g.class]));else if(x==="style")f.style=es([f.style,g.style]);else if(Pa(x)){const k=f[x],_=g[x];_&&k!==_&&!(_t(k)&&k.includes(_))&&(f[x]=k?[].concat(k,_):_)}else x!==""&&(f[x]=g[x])}return f}function Kn(a,f,c,g=null){Dn(a,f,7,[c,g])}const Yl=a=>a?bc(a)?ws(a)||a.proxy:Yl(a.parent):null,Da=Xr(Object.create(null),{$:a=>a,$el:a=>a.vnode.el,$data:a=>a.data,$props:a=>a.props,$attrs:a=>a.attrs,$slots:a=>a.slots,$refs:a=>a.refs,$parent:a=>Yl(a.parent),$root:a=>Yl(a.root),$emit:a=>a.emit,$options:a=>fc(a),$forceUpdate:a=>()=>$f(a.update),$nextTick:a=>Qd.bind(a.proxy),$watch:a=>cp.bind(a)}),Xp={get({_:a},f){const{ctx:c,setupState:g,data:x,props:k,accessCache:_,type:C,appContext:S}=a;let z;if(f[0]!=="$"){const G=_[f];if(G!==void 0)switch(G){case 1:return g[f];case 2:return x[f];case 4:return c[f];case 3:return k[f]}else{if(g!==Vt&&jt(g,f))return _[f]=1,g[f];if(x!==Vt&&jt(x,f))return _[f]=2,x[f];if((z=a.propsOptions[0])&&jt(z,f))return _[f]=3,k[f];if(c!==Vt&&jt(c,f))return _[f]=4,c[f];Gl&&(_[f]=0)}}const H=Da[f];let V,D;if(H)return f==="$attrs"&&Tn(a,"get",f),H(a);if((V=C.__cssModules)&&(V=V[f]))return V;if(c!==Vt&&jt(c,f))return _[f]=4,c[f];if(D=S.config.globalProperties,jt(D,f))return D[f]},set({_:a},f,c){const{data:g,setupState:x,ctx:k}=a;if(x!==Vt&&jt(x,f))x[f]=c;else if(g!==Vt&&jt(g,f))g[f]=c;else if(jt(a.props,f))return!1;return f[0]==="$"&&f.slice(1)in a?!1:(k[f]=c,!0)},has({_:{data:a,setupState:f,accessCache:c,ctx:g,appContext:x,propsOptions:k}},_){let C;return!!c[_]||a!==Vt&&jt(a,_)||f!==Vt&&jt(f,_)||(C=k[0])&&jt(C,_)||jt(g,_)||jt(Da,_)||jt(x.config.globalProperties,_)}},Yp=vc();let Qp=0;function Zp(a,f,c){const g=a.type,x=(f?f.appContext:a.appContext)||Yp,k={uid:Qp++,vnode:a,type:g,parent:f,appContext:x,root:null,next:null,subTree:null,effect:null,update:null,scope:new vd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:f?f.provides:Object.create(x.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hc(g,x),emitsOptions:Vf(g,x),emit:null,emitted:null,propsDefaults:Vt,inheritAttrs:g.inheritAttrs,ctx:Vt,data:Vt,props:Vt,attrs:Vt,slots:Vt,refs:Vt,setupState:Vt,setupContext:null,suspense:c,suspenseId:c?c.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return k.ctx={_:k},k.root=f?f.root:k,k.emit=rp.bind(null,k),a.ce&&a.ce(k),k}let Hr=null;const Vp=()=>Hr||Jn,co=a=>{Hr=a,a.scope.on()},zi=()=>{Hr&&Hr.scope.off(),Hr=null};function bc(a){return a.vnode.shapeFlag&4}let Qo=!1;function eg(a,f=!1){Qo=f;const{props:c,children:g}=a.vnode,x=bc(a);Ep(a,c,x,f),Ip(a,g);const k=x?tg(a,f):void 0;return Qo=!1,k}function tg(a,f){const c=a.type;a.accessCache=Object.create(null),a.proxy=qf(new Proxy(a.ctx,Xp));const{setup:g}=c;if(g){const x=a.setupContext=g.length>1?ng(a):null;co(a),po();const k=yi(g,a,0,[a.props,x]);if(go(),zi(),Ef(k)){if(k.then(zi,zi),f)return k.then(_=>{bf(a,_,f)}).catch(_=>{za(_,a,0)});a.asyncDep=k}else bf(a,k,f)}else wc(a,f)}function bf(a,f,c){Ft(f)?a.type.__ssrInlineRender?a.ssrRender=f:a.render=f:un(f)&&(a.setupState=Gf(f)),wc(a,c)}let wf;function wc(a,f,c){const g=a.type;if(!a.render){if(!f&&wf&&!g.render){const x=g.template;if(x){const{isCustomElement:k,compilerOptions:_}=a.appContext.config,{delimiters:C,compilerOptions:S}=g,z=Xr(Xr({isCustomElement:k,delimiters:C},_),S);g.render=wf(x,z)}}a.render=g.render||Hn}co(a),po(),Tp(a),go(),zi()}function rg(a){return new Proxy(a.attrs,{get(f,c){return Tn(a,"get","$attrs"),f[c]}})}function ng(a){const f=g=>{a.exposed=g||{}};let c;return{get attrs(){return c||(c=rg(a))},slots:a.slots,emit:a.emit,expose:f}}function ws(a){if(a.exposed)return a.exposeProxy||(a.exposeProxy=new Proxy(Gf(qf(a.exposed)),{get(f,c){if(c in f)return f[c];if(c in Da)return Da[c](a)}}))}function ig(a){return Ft(a)&&"__vccOpts"in a}const og=(a,f)=>Xd(a,f,Qo),ag="3.2.30",lg="http://www.w3.org/2000/svg",Pi=typeof document<"u"?document:null,kf=Pi&&Pi.createElement("template"),sg={insert:(a,f,c)=>{f.insertBefore(a,c||null)},remove:a=>{const f=a.parentNode;f&&f.removeChild(a)},createElement:(a,f,c,g)=>{const x=f?Pi.createElementNS(lg,a):Pi.createElement(a,c?{is:c}:void 0);return a==="select"&&g&&g.multiple!=null&&x.setAttribute("multiple",g.multiple),x},createText:a=>Pi.createTextNode(a),createComment:a=>Pi.createComment(a),setText:(a,f)=>{a.nodeValue=f},setElementText:(a,f)=>{a.textContent=f},parentNode:a=>a.parentNode,nextSibling:a=>a.nextSibling,querySelector:a=>Pi.querySelector(a),setScopeId(a,f){a.setAttribute(f,"")},cloneNode(a){const f=a.cloneNode(!0);return"_value"in a&&(f._value=a._value),f},insertStaticContent(a,f,c,g,x,k){const _=c?c.previousSibling:f.lastChild;if(x&&(x===k||x.nextSibling))for(;f.insertBefore(x.cloneNode(!0),c),!(x===k||!(x=x.nextSibling)););else{kf.innerHTML=g?`<svg>${a}</svg>`:a;const C=kf.content;if(g){const S=C.firstChild;for(;S.firstChild;)C.appendChild(S.firstChild);C.removeChild(S)}f.insertBefore(C,c)}return[_?_.nextSibling:f.firstChild,c?c.previousSibling:f.lastChild]}};function ug(a,f,c){const g=a._vtc;g&&(f=(f?[f,...g]:[...g]).join(" ")),f==null?a.removeAttribute("class"):c?a.setAttribute("class",f):a.className=f}function fg(a,f,c){const g=a.style,x=Yr(c);if(c&&!x){for(const k in c)Ql(g,k,c[k]);if(f&&!Yr(f))for(const k in f)c[k]==null&&Ql(g,k,"")}else{const k=g.display;x?f!==c&&(g.cssText=c):f&&a.removeAttribute("style"),"_vod"in a&&(g.display=k)}}const Cf=/\s*!important$/;function Ql(a,f,c){if(_t(c))c.forEach(g=>Ql(a,f,g));else if(f.startsWith("--"))a.setProperty(f,c);else{const g=cg(a,f);Cf.test(c)?a.setProperty(ho(g),c.replace(Cf,""),"important"):a[g]=c}}const Sf=["Webkit","Moz","ms"],Pl={};function cg(a,f){const c=Pl[f];if(c)return c;let g=uo(f);if(g!=="filter"&&g in a)return Pl[f]=g;g=Of(g);for(let x=0;x<Sf.length;x++){const k=Sf[x]+g;if(k in a)return Pl[f]=k}return f}const Tf="http://www.w3.org/1999/xlink";function hg(a,f,c,g,x){if(g&&f.startsWith("xlink:"))c==null?a.removeAttributeNS(Tf,f.slice(6,f.length)):a.setAttributeNS(Tf,f,c);else{const k=td(f);c==null||k&&!_f(c)?a.removeAttribute(f):a.setAttribute(f,k?"":c)}}function dg(a,f,c,g,x,k,_){if(f==="innerHTML"||f==="textContent"){g&&_(g,x,k),a[f]=c??"";return}if(f==="value"&&a.tagName!=="PROGRESS"&&!a.tagName.includes("-")){a._value=c;const C=c??"";(a.value!==C||a.tagName==="OPTION")&&(a.value=C),c==null&&a.removeAttribute(f);return}if(c===""||c==null){const C=typeof a[f];if(C==="boolean"){a[f]=_f(c);return}else if(c==null&&C==="string"){a[f]="",a.removeAttribute(f);return}else if(C==="number"){try{a[f]=0}catch{}a.removeAttribute(f);return}}try{a[f]=c}catch{}}let Na=Date.now,kc=!1;if(typeof window<"u"){Na()>document.createEvent("Event").timeStamp&&(Na=()=>performance.now());const a=navigator.userAgent.match(/firefox\/(\d+)/i);kc=!!(a&&Number(a[1])<=53)}let Zl=0;const pg=Promise.resolve(),gg=()=>{Zl=0},vg=()=>Zl||(pg.then(gg),Zl=Na());function mg(a,f,c,g){a.addEventListener(f,c,g)}function yg(a,f,c,g){a.removeEventListener(f,c,g)}function xg(a,f,c,g,x=null){const k=a._vei||(a._vei={}),_=k[f];if(g&&_)_.value=g;else{const[C,S]=bg(f);if(g){const z=k[f]=wg(g,x);mg(a,C,z,S)}else _&&(yg(a,C,_,S),k[f]=void 0)}}const Lf=/(?:Once|Passive|Capture)$/;function bg(a){let f;if(Lf.test(a)){f={};let c;for(;c=a.match(Lf);)a=a.slice(0,a.length-c[0].length),f[c[0].toLowerCase()]=!0}return[ho(a.slice(2)),f]}function wg(a,f){const c=g=>{const x=g.timeStamp||Na();(kc||x>=c.attached-1)&&Dn(kg(g,c.value),f,5,[g])};return c.value=a,c.attached=vg(),c}function kg(a,f){if(_t(f)){const c=a.stopImmediatePropagation;return a.stopImmediatePropagation=()=>{c.call(a),a._stopped=!0},f.map(g=>x=>!x._stopped&&g&&g(x))}else return f}const Af=/^on[a-z]/,Cg=(a,f,c,g,x=!1,k,_,C,S)=>{f==="class"?ug(a,g,x):f==="style"?fg(a,c,g):Pa(f)?rs(f)||xg(a,f,c,g,_):(f[0]==="."?(f=f.slice(1),!0):f[0]==="^"?(f=f.slice(1),!1):Sg(a,f,g,x))?dg(a,f,g,k,_,C,S):(f==="true-value"?a._trueValue=g:f==="false-value"&&(a._falseValue=g),hg(a,f,g,x))};function Sg(a,f,c,g){return g?!!(f==="innerHTML"||f==="textContent"||f in a&&Af.test(f)&&Ft(c)):f==="spellcheck"||f==="draggable"||f==="form"||f==="list"&&a.tagName==="INPUT"||f==="type"&&a.tagName==="TEXTAREA"||Af.test(f)&&Yr(c)?!1:f in a}const Tg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};pp.props;const Lg=Xr({patchProp:Cg},sg);let Mf;function Ag(){return Mf||(Mf=Rp(Lg))}const Bg=(...a)=>{const f=Ag().createApp(...a),{mount:c}=f;return f.mount=g=>{const x=Mg(g);if(!x)return;const k=f._component;!Ft(k)&&!k.render&&!k.template&&(k.template=x.innerHTML),x.innerHTML="";const _=c(x,!1,x instanceof SVGElement);return x instanceof Element&&(x.removeAttribute("v-cloak"),x.setAttribute("data-v-app","")),_},f};function Mg(a){return Yr(a)?document.querySelector(a):a}var Ln={exports:{}};(function(a,f){(function(c,g){a.exports=g()})(Wo,function(){var c=navigator.userAgent,g=navigator.platform,x=/gecko\/\d/i.test(c),k=/MSIE \d/.test(c),_=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(c),C=/Edge\/(\d+)/.exec(c),S=k||_||C,z=S&&(k?document.documentMode||6:+(C||_)[1]),H=!C&&/WebKit\//.test(c),V=H&&/Qt\/\d+\.\d+/.test(c),D=!C&&/Chrome\//.test(c),G=/Opera\//.test(c),K=/Apple Computer/.test(navigator.vendor),ge=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(c),ae=/PhantomJS/.test(c),be=K&&(/Mobile\/\w+/.test(c)||navigator.maxTouchPoints>2),ie=/Android/.test(c),Q=be||ie||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(c),ne=be||/Mac/.test(g),pe=/\bCrOS\b/.test(c),ve=/win/i.test(g),E=G&&c.match(/Version\/(\d*\.\d*)/);E&&(E=Number(E[1])),E&&E>=15&&(G=!1,H=!0);var $=ne&&(V||G&&(E==null||E<12.11)),fe=x||S&&z>=9;function Y(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var U=function(e,t){var n=e.className,r=Y(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function Oe(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function J(e,t){return Oe(e).appendChild(t)}function te(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),typeof t=="string")i.appendChild(document.createTextNode(t));else if(t)for(var l=0;l<t.length;++l)i.appendChild(t[l]);return i}function A(e,t,n,r){var i=te(e,t,n,r);return i.setAttribute("role","presentation"),i}var Se;document.createRange?Se=function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:Se=function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch{return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};function ke(e,t){if(t.nodeType==3&&(t=t.parentNode),e.contains)return e.contains(t);do if(t.nodeType==11&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function ze(){var e;try{e=document.activeElement}catch{e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function ye(e,t){var n=e.className;Y(t).test(n)||(e.className+=(n?" ":"")+t)}function Be(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!Y(n[r]).test(t)&&(t+=" "+n[r]);return t}var Qe=function(e){e.select()};be?Qe=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:S&&(Qe=function(e){try{e.select()}catch{}});function W(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function T(e,t,n){t||(t={});for(var r in e)e.hasOwnProperty(r)&&(n!==!1||!t.hasOwnProperty(r))&&(t[r]=e[r]);return t}function je(e,t,n,r,i){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var l=r||0,h=i||0;;){var p=e.indexOf("	",l);if(p<0||p>=t)return h+(t-l);h+=p-l,h+=n-h%n,l=p+1}}var Je=function(){this.id=null,this.f=null,this.time=0,this.handler=W(this.onTimeout,this)};Je.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},Je.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};function Fe(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}var qe=50,Ae={toString:function(){return"CodeMirror.Pass"}},ht={scroll:!1},it={origin:"*mouse"},$e={origin:"+move"};function nt(e,t,n){for(var r=0,i=0;;){var l=e.indexOf("	",r);l==-1&&(l=e.length);var h=l-r;if(l==e.length||i+h>=t)return r+Math.min(h,t-i);if(i+=l-r,i+=n-i%n,r=l+1,i>=t)return r}}var P=[""];function Z(e){for(;P.length<=e;)P.push(he(P)+" ");return P[e]}function he(e){return e[e.length-1]}function me(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function Te(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}function De(){}function we(e,t){var n;return Object.create?n=Object.create(e):(De.prototype=e,n=new De),t&&T(t,n),n}var xe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ce(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||xe.test(e))}function F(e,t){return t?t.source.indexOf("\\w")>-1&&ce(e)?!0:t.test(e):ce(e)}function de(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var re=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Ke(e){return e.charCodeAt(0)>=768&&re.test(e)}function Ve(e,t,n){for(;(n<0?t>0:t<e.length)&&Ke(e.charAt(t));)t+=n;return t}function vt(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,l=r<0?Math.ceil(i):Math.floor(i);if(l==t)return e(l)?t:n;e(l)?n=l:t=l+r}}function xt(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,l=0;l<e.length;++l){var h=e[l];(h.from<n&&h.to>t||t==n&&h.to==t)&&(r(Math.max(h.from,t),Math.min(h.to,n),h.level==1?"rtl":"ltr",l),i=!0)}i||r(t,n,"ltr")}var yt=null;function gt(e,t,n){var r;yt=null;for(var i=0;i<e.length;++i){var l=e[i];if(l.from<t&&l.to>t)return i;l.to==t&&(l.from!=l.to&&n=="before"?r=i:yt=i),l.from==t&&(l.from!=l.to&&n!="before"?r=i:yt=i)}return r??yt}var Qt=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(b){return b<=247?e.charAt(b):1424<=b&&b<=1524?"R":1536<=b&&b<=1785?t.charAt(b-1536):1774<=b&&b<=2220?"r":8192<=b&&b<=8203?"w":b==8204?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,l=/[LRr]/,h=/[Lb1n]/,p=/[1n]/;function y(b,O,j){this.level=b,this.from=O,this.to=j}return function(b,O){var j=O=="ltr"?"L":"R";if(b.length==0||O=="ltr"&&!r.test(b))return!1;for(var se=b.length,oe=[],Le=0;Le<se;++Le)oe.push(n(b.charCodeAt(Le)));for(var Ie=0,Ge=j;Ie<se;++Ie){var Xe=oe[Ie];Xe=="m"?oe[Ie]=Ge:Ge=Xe}for(var rt=0,Ye=j;rt<se;++rt){var st=oe[rt];st=="1"&&Ye=="r"?oe[rt]="n":l.test(st)&&(Ye=st,st=="r"&&(oe[rt]="R"))}for(var pt=1,ct=oe[0];pt<se-1;++pt){var Lt=oe[pt];Lt=="+"&&ct=="1"&&oe[pt+1]=="1"?oe[pt]="1":Lt==","&&ct==oe[pt+1]&&(ct=="1"||ct=="n")&&(oe[pt]=ct),ct=Lt}for(var Yt=0;Yt<se;++Yt){var _r=oe[Yt];if(_r==",")oe[Yt]="N";else if(_r=="%"){var sr=void 0;for(sr=Yt+1;sr<se&&oe[sr]=="%";++sr);for(var gn=Yt&&oe[Yt-1]=="!"||sr<se&&oe[sr]=="1"?"1":"N",on=Yt;on<sr;++on)oe[on]=gn;Yt=sr-1}}for(var xr=0,an=j;xr<se;++xr){var Fr=oe[xr];an=="L"&&Fr=="1"?oe[xr]="L":l.test(Fr)&&(an=Fr)}for(var Sr=0;Sr<se;++Sr)if(i.test(oe[Sr])){var br=void 0;for(br=Sr+1;br<se&&i.test(oe[br]);++br);for(var cr=(Sr?oe[Sr-1]:j)=="L",ln=(br<se?oe[br]:j)=="L",ro=cr==ln?cr?"L":"R":j,di=Sr;di<br;++di)oe[di]=ro;Sr=br-1}for(var Br=[],Wn,Er=0;Er<se;)if(h.test(oe[Er])){var Al=Er;for(++Er;Er<se&&h.test(oe[Er]);++Er);Br.push(new y(0,Al,Er))}else{var ei=Er,Ei=Br.length,Oi=O=="rtl"?1:0;for(++Er;Er<se&&oe[Er]!="L";++Er);for(var Jr=ei;Jr<Er;)if(p.test(oe[Jr])){ei<Jr&&(Br.splice(Ei,0,new y(1,ei,Jr)),Ei+=Oi);var no=Jr;for(++Jr;Jr<Er&&p.test(oe[Jr]);++Jr);Br.splice(Ei,0,new y(2,no,Jr)),Ei+=Oi,ei=Jr}else++Jr;ei<Er&&Br.splice(Ei,0,new y(1,ei,Er))}return O=="ltr"&&(Br[0].level==1&&(Wn=b.match(/^\s+/))&&(Br[0].from=Wn[0].length,Br.unshift(new y(0,0,Wn[0].length))),he(Br).level==1&&(Wn=b.match(/\s+$/))&&(he(Br).to-=Wn[0].length,Br.push(new y(0,se-Wn[0].length,se)))),O=="rtl"?Br.reverse():Br}}();function Jt(e,t){var n=e.order;return n==null&&(n=e.order=Qt(e.text,t)),n}var At=[],et=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||At).concat(n)}};function Mt(e,t){return e._handlers&&e._handlers[t]||At}function kt(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var l=Fe(i,n);l>-1&&(r[t]=i.slice(0,l).concat(i.slice(l+1)))}}}function ot(e,t){var n=Mt(e,t);if(!!n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function Rt(e,t,n){return typeof t=="string"&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ot(e,n||t.type,e,t),ur(t)||t.codemirrorIgnore}function Pt(e){var t=e._handlers&&e._handlers.cursorActivity;if(!!t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)Fe(n,t[r])==-1&&n.push(t[r])}function qt(e,t){return Mt(e,t).length>0}function rr(e){e.prototype.on=function(t,n){et(this,t,n)},e.prototype.off=function(t,n){kt(this,t,n)}}function nr(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function zr(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function ur(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==!1}function mn(e){nr(e),zr(e)}function fn(e){return e.target||e.srcElement}function It(e){var t=e.which;return t==null&&(e.button&1?t=1:e.button&2?t=3:e.button&4&&(t=2)),ne&&e.ctrlKey&&t==1&&(t=3),t}var An=function(){if(S&&z<9)return!1;var e=te("div");return"draggable"in e||"dragDrop"in e}(),Wt;function fr(e){if(Wt==null){var t=te("span","\u200B");J(e,te("span",[t,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(Wt=t.offsetWidth<=1&&t.offsetHeight>2&&!(S&&z<8))}var n=Wt?te("span","\u200B"):te("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}var cn;function $t(e){if(cn!=null)return cn;var t=J(e,document.createTextNode("A\u062EA")),n=Se(t,0,1).getBoundingClientRect(),r=Se(t,1,2).getBoundingClientRect();return Oe(e),!n||n.left==n.right?!1:cn=r.right-n.right<3}var Mn=`

b`.split(/\n/).length!=3?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf(`
`,t);i==-1&&(i=e.length);var l=e.slice(t,e.charAt(i-1)=="\r"?i-1:i),h=l.indexOf("\r");h!=-1?(n.push(l.slice(0,h)),t+=h+1):(n.push(l),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},_n=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch{return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch{}return!t||t.parentElement()!=e?!1:t.compareEndPoints("StartToEnd",t)!=0},Tr=function(){var e=te("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),typeof e.oncopy=="function")}(),Qr=null;function jr(e){if(Qr!=null)return Qr;var t=J(e,te("span","x")),n=t.getBoundingClientRect(),r=Se(t,0,1).getBoundingClientRect();return Qr=Math.abs(n.left-r.left)>1}var Dt={},gr={};function er(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Dt[e]=t}function Ir(e,t){gr[e]=t}function hn(e){if(typeof e=="string"&&gr.hasOwnProperty(e))e=gr[e];else if(e&&typeof e.name=="string"&&gr.hasOwnProperty(e.name)){var t=gr[e.name];typeof t=="string"&&(t={name:t}),e=we(t,e),e.name=t.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return hn("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return hn("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function Zr(e,t){t=hn(t);var n=Dt[t.name];if(!n)return Zr(e,"text/plain");var r=n(e,t);if(Or.hasOwnProperty(t.name)){var i=Or[t.name];for(var l in i)!i.hasOwnProperty(l)||(r.hasOwnProperty(l)&&(r["_"+l]=r[l]),r[l]=i[l])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var h in t.modeProps)r[h]=t.modeProps[h];return r}var Or={};function wr(e,t){var n=Or.hasOwnProperty(e)?Or[e]:Or[e]={};T(t,n)}function hr(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function Dr(e,t){for(var n;e.innerMode&&(n=e.innerMode(t),!(!n||n.mode==e));)t=n.state,e=n.mode;return n||{mode:e,state:t}}function ir(e,t,n){return e.startState?e.startState(t,n):!0}var Bt=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};Bt.prototype.eol=function(){return this.pos>=this.string.length},Bt.prototype.sol=function(){return this.pos==this.lineStart},Bt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Bt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Bt.prototype.eat=function(e){var t=this.string.charAt(this.pos),n;if(typeof e=="string"?n=t==e:n=t&&(e.test?e.test(t):e(t)),n)return++this.pos,t},Bt.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Bt.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Bt.prototype.skipToEnd=function(){this.pos=this.string.length},Bt.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Bt.prototype.backUp=function(e){this.pos-=e},Bt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=je(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?je(this.string,this.lineStart,this.tabSize):0)},Bt.prototype.indentation=function(){return je(this.string,null,this.tabSize)-(this.lineStart?je(this.string,this.lineStart,this.tabSize):0)},Bt.prototype.match=function(e,t,n){if(typeof e=="string"){var r=function(h){return n?h.toLowerCase():h},i=this.string.substr(this.pos,e.length);if(r(i)==r(e))return t!==!1&&(this.pos+=e.length),!0}else{var l=this.string.slice(this.pos).match(e);return l&&l.index>0?null:(l&&t!==!1&&(this.pos+=l[0].length),l)}},Bt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Bt.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Bt.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Bt.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};function at(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],l=i.chunkSize();if(t<l){n=i;break}t-=l}return n.lines[t]}function vr(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(l){var h=l.text;i==n.line&&(h=h.slice(0,n.ch)),i==t.line&&(h=h.slice(t.ch)),r.push(h),++i}),r}function dn(e,t,n){var r=[];return e.iter(t,n,function(i){r.push(i.text)}),r}function mr(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function Ct(e){if(e.parent==null)return null;for(var t=e.parent,n=Fe(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function Xt(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],l=i.height;if(t<l){e=i;continue e}t-=l,n+=i.chunkSize()}return n}while(!e.lines);for(var h=0;h<e.lines.length;++h){var p=e.lines[h],y=p.height;if(t<y)break;t-=y}return n+h}function Vr(e,t){return t>=e.first&&t<e.first+e.size}function Nr(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function Ne(e,t,n){if(n===void 0&&(n=null),!(this instanceof Ne))return new Ne(e,t,n);this.line=e,this.ch=t,this.sticky=n}function w(e,t){return e.line-t.line||e.ch-t.ch}function B(e,t){return e.sticky==t.sticky&&w(e,t)==0}function Ee(e){return Ne(e.line,e.ch)}function He(e,t){return w(e,t)<0?t:e}function ft(e,t){return w(e,t)<0?e:t}function St(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Ze(e,t){if(t.line<e.first)return Ne(e.first,0);var n=e.first+e.size-1;return t.line>n?Ne(n,at(e,n).text.length):Kt(t,at(e,t.line).text.length)}function Kt(e,t){var n=e.ch;return n==null||n>t?Ne(e.line,t):n<0?Ne(e.line,0):e}function bt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=Ze(e,t[r]);return n}var en=function(e,t){this.state=e,this.lookAhead=t},dr=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};dr.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return t!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},dr.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},dr.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},dr.fromSaved=function(e,t,n){return t instanceof en?new dr(e,hr(e.mode,t.state),n,t.lookAhead):new dr(e,hr(e.mode,t),n)},dr.prototype.save=function(e){var t=e!==!1?hr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new en(t,this.maxLookAhead):t};function yn(e,t,n,r){var i=[e.state.modeGen],l={};kn(e,t.text,e.doc.mode,n,function(b,O){return i.push(b,O)},l,r);for(var h=n.state,p=function(b){n.baseTokens=i;var O=e.state.overlays[b],j=1,se=0;n.state=!0,kn(e,t.text,O.mode,n,function(oe,Le){for(var Ie=j;se<oe;){var Ge=i[j];Ge>oe&&i.splice(j,1,oe,i[j+1],Ge),j+=2,se=Math.min(oe,Ge)}if(!!Le)if(O.opaque)i.splice(Ie,j-Ie,oe,"overlay "+Le),j=Ie+2;else for(;Ie<j;Ie+=2){var Xe=i[Ie+1];i[Ie+1]=(Xe?Xe+" ":"")+"overlay "+Le}},l),n.state=h,n.baseTokens=null,n.baseTokenPos=1},y=0;y<e.state.overlays.length;++y)p(y);return{styles:i,classes:l.bgClass||l.textClass?l:null}}function En(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=xn(e,Ct(t)),i=t.text.length>e.options.maxHighlightLength&&hr(e.doc.mode,r.state),l=yn(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=l.styles,l.classes?t.styleClasses=l.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function xn(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new dr(r,!0,t);var l=$n(e,t,n),h=l>r.first&&at(r,l-1).stateAfter,p=h?dr.fromSaved(r,h,l):new dr(r,ir(r.mode),l);return r.iter(l,t,function(y){bn(e,y.text,p);var b=p.line;y.stateAfter=b==t-1||b%5==0||b>=i.viewFrom&&b<i.viewTo?p.save():null,p.nextLine()}),n&&(r.modeFrontier=p.line),p}function bn(e,t,n,r){var i=e.doc.mode,l=new Bt(t,e.options.tabSize,n);for(l.start=l.pos=r||0,t==""&&Pr(i,n.state);!l.eol();)Wr(i,l,n.state),l.start=l.pos}function Pr(e,t){if(e.blankLine)return e.blankLine(t);if(!!e.innerMode){var n=Dr(e,t);if(n.mode.blankLine)return n.mode.blankLine(n.state)}}function Wr(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=Dr(e,n).mode);var l=e.token(t,n);if(t.pos>t.start)return l}throw new Error("Mode "+e.name+" failed to advance stream.")}var Nn=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function wn(e,t,n,r){var i=e.doc,l=i.mode,h;t=Ze(i,t);var p=at(i,t.line),y=xn(e,t.line,n),b=new Bt(p.text,e.options.tabSize,y),O;for(r&&(O=[]);(r||b.pos<t.ch)&&!b.eol();)b.start=b.pos,h=Wr(l,b,y.state),r&&O.push(new Nn(b,h,hr(i.mode,y.state)));return r?O:new Nn(b,h,y.state)}function Kr(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";t[r]==null?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function kn(e,t,n,r,i,l,h){var p=n.flattenSpans;p==null&&(p=e.options.flattenSpans);var y=0,b=null,O=new Bt(t,e.options.tabSize,r),j,se=e.options.addModeClass&&[null];for(t==""&&Kr(Pr(n,r.state),l);!O.eol();){if(O.pos>e.options.maxHighlightLength?(p=!1,h&&bn(e,t,r,O.pos),O.pos=t.length,j=null):j=Kr(Wr(n,O,r.state,se),l),se){var oe=se[0].name;oe&&(j="m-"+(j?oe+" "+j:oe))}if(!p||b!=j){for(;y<O.start;)y=Math.min(O.start,y+5e3),i(y,b);b=j}O.start=O.pos}for(;y<O.pos;){var Le=Math.min(O.pos,y+5e3);i(Le,b),y=Le}}function $n(e,t,n){for(var r,i,l=e.doc,h=n?-1:t-(e.doc.mode.innerMode?1e3:100),p=t;p>h;--p){if(p<=l.first)return l.first;var y=at(l,p-1),b=y.stateAfter;if(b&&(!n||p+(b instanceof en?b.lookAhead:0)<=l.modeFrontier))return p;var O=je(y.text,null,e.options.tabSize);(i==null||r>O)&&(i=p-1,r=O)}return i}function Xn(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=at(e,r).stateAfter;if(i&&(!(i instanceof en)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var Yn=!1,yr=!1;function or(){Yn=!0}function oi(){yr=!0}function tn(e,t,n){this.marker=e,this.from=t,this.to=n}function Ur(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function wi(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function le(e,t,n){var r=n&&window.WeakSet&&(n.markedSpans||(n.markedSpans=new WeakSet));r&&r.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],r&&r.add(e.markedSpans)),t.marker.attachLine(e)}function ut(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var l=e[i],h=l.marker,p=l.from==null||(h.inclusiveLeft?l.from<=t:l.from<t);if(p||l.from==t&&h.type=="bookmark"&&(!n||!l.marker.insertLeft)){var y=l.to==null||(h.inclusiveRight?l.to>=t:l.to>t);(r||(r=[])).push(new tn(h,l.from,y?null:l.to))}}return r}function lt(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var l=e[i],h=l.marker,p=l.to==null||(h.inclusiveRight?l.to>=t:l.to>t);if(p||l.from==t&&h.type=="bookmark"&&(!n||l.marker.insertLeft)){var y=l.from==null||(h.inclusiveLeft?l.from<=t:l.from<t);(r||(r=[])).push(new tn(h,y?null:l.from-t,l.to==null?null:l.to-t))}}return r}function Et(e,t){if(t.full)return null;var n=Vr(e,t.from.line)&&at(e,t.from.line).markedSpans,r=Vr(e,t.to.line)&&at(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,l=t.to.ch,h=w(t.from,t.to)==0,p=ut(n,i,h),y=lt(r,l,h),b=t.text.length==1,O=he(t.text).length+(b?i:0);if(p)for(var j=0;j<p.length;++j){var se=p[j];if(se.to==null){var oe=Ur(y,se.marker);oe?b&&(se.to=oe.to==null?null:oe.to+O):se.to=i}}if(y)for(var Le=0;Le<y.length;++Le){var Ie=y[Le];if(Ie.to!=null&&(Ie.to+=O),Ie.from==null){var Ge=Ur(p,Ie.marker);Ge||(Ie.from=O,b&&(p||(p=[])).push(Ie))}else Ie.from+=O,b&&(p||(p=[])).push(Ie)}p&&(p=Ht(p)),y&&y!=p&&(y=Ht(y));var Xe=[p];if(!b){var rt=t.text.length-2,Ye;if(rt>0&&p)for(var st=0;st<p.length;++st)p[st].to==null&&(Ye||(Ye=[])).push(new tn(p[st].marker,null,null));for(var pt=0;pt<rt;++pt)Xe.push(Ye);Xe.push(y)}return Xe}function Ht(e){for(var t=0;t<e.length;++t){var n=e[t];n.from!=null&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function I(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(oe){if(oe.markedSpans)for(var Le=0;Le<oe.markedSpans.length;++Le){var Ie=oe.markedSpans[Le].marker;Ie.readOnly&&(!r||Fe(r,Ie)==-1)&&(r||(r=[])).push(Ie)}}),!r)return null;for(var i=[{from:t,to:n}],l=0;l<r.length;++l)for(var h=r[l],p=h.find(0),y=0;y<i.length;++y){var b=i[y];if(!(w(b.to,p.from)<0||w(b.from,p.to)>0)){var O=[y,1],j=w(b.from,p.from),se=w(b.to,p.to);(j<0||!h.inclusiveLeft&&!j)&&O.push({from:b.from,to:p.from}),(se>0||!h.inclusiveRight&&!se)&&O.push({from:p.to,to:b.to}),i.splice.apply(i,O),y+=O.length-3}}return i}function L(e){var t=e.markedSpans;if(!!t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function q(e,t){if(!!t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function ue(e){return e.inclusiveLeft?-1:0}function Pe(e){return e.inclusiveRight?1:0}function We(e,t){var n=e.lines.length-t.lines.length;if(n!=0)return n;var r=e.find(),i=t.find(),l=w(r.from,i.from)||ue(e)-ue(t);if(l)return-l;var h=w(r.to,i.to)||Pe(e)-Pe(t);return h||t.id-e.id}function o(e,t){var n=yr&&e.markedSpans,r;if(n)for(var i=void 0,l=0;l<n.length;++l)i=n[l],i.marker.collapsed&&(t?i.from:i.to)==null&&(!r||We(r,i.marker)<0)&&(r=i.marker);return r}function s(e){return o(e,!0)}function u(e){return o(e,!1)}function d(e,t){var n=yr&&e.markedSpans,r;if(n)for(var i=0;i<n.length;++i){var l=n[i];l.marker.collapsed&&(l.from==null||l.from<t)&&(l.to==null||l.to>t)&&(!r||We(r,l.marker)<0)&&(r=l.marker)}return r}function v(e,t,n,r,i){var l=at(e,t),h=yr&&l.markedSpans;if(h)for(var p=0;p<h.length;++p){var y=h[p];if(!!y.marker.collapsed){var b=y.marker.find(0),O=w(b.from,n)||ue(y.marker)-ue(i),j=w(b.to,r)||Pe(y.marker)-Pe(i);if(!(O>=0&&j<=0||O<=0&&j>=0)&&(O<=0&&(y.marker.inclusiveRight&&i.inclusiveLeft?w(b.to,n)>=0:w(b.to,n)>0)||O>=0&&(y.marker.inclusiveRight&&i.inclusiveLeft?w(b.from,r)<=0:w(b.from,r)<0)))return!0}}}function m(e){for(var t;t=s(e);)e=t.find(-1,!0).line;return e}function M(e){for(var t;t=u(e);)e=t.find(1,!0).line;return e}function R(e){for(var t,n;t=u(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function N(e,t){var n=at(e,t),r=m(n);return n==r?t:Ct(r)}function ee(e,t){if(t>e.lastLine())return t;var n=at(e,t),r;if(!X(e,n))return t;for(;r=u(n);)n=r.find(1,!0).line;return Ct(n)+1}function X(e,t){var n=yr&&t.markedSpans;if(n){for(var r=void 0,i=0;i<n.length;++i)if(r=n[i],!!r.marker.collapsed){if(r.from==null)return!0;if(!r.marker.widgetNode&&r.from==0&&r.marker.inclusiveLeft&&Me(e,t,r))return!0}}}function Me(e,t,n){if(n.to==null){var r=n.marker.find(1,!0);return Me(e,r.line,Ur(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,l=0;l<t.markedSpans.length;++l)if(i=t.markedSpans[l],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(i.to==null||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&Me(e,t,i))return!0}function _e(e){e=m(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var l=n.parent;l;n=l,l=n.parent)for(var h=0;h<l.children.length;++h){var p=l.children[h];if(p==n)break;t+=p.height}return t}function Ce(e){if(e.height==0)return 0;for(var t=e.text.length,n,r=e;n=s(r);){var i=n.find(0,!0);r=i.from.line,t+=i.from.ch-i.to.ch}for(r=e;n=u(r);){var l=n.find(0,!0);t-=r.text.length-l.from.ch,r=l.to.line,t+=r.text.length-l.to.ch}return t}function Re(e){var t=e.display,n=e.doc;t.maxLine=at(n,n.first),t.maxLineLength=Ce(t.maxLine),t.maxLineChanged=!0,n.iter(function(r){var i=Ce(r);i>t.maxLineLength&&(t.maxLineLength=i,t.maxLine=r)})}var tt=function(e,t,n){this.text=e,q(this,t),this.height=n?n(this):1};tt.prototype.lineNo=function(){return Ct(this)},rr(tt);function Ue(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),L(e),q(e,n);var i=r?r(e):1;i!=e.height&&mr(e,i)}function dt(e){e.parent=null,L(e)}var wt={},mt={};function Ot(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?mt:wt;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function ar(e,t){var n=A("span",null,null,H?"padding-right: .1px":null),r={pre:A("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var l=i?t.rest[i-1]:t.line,h=void 0;r.pos=0,r.addToken=lr,$t(e.display.measure)&&(h=Jt(l,e.doc.direction))&&(r.addToken=Tt(r.addToken,h)),r.map=[];var p=t!=e.display.externalMeasured&&Ct(l);qr(l,r,En(e,l,p)),l.styleClasses&&(l.styleClasses.bgClass&&(r.bgClass=Be(l.styleClasses.bgClass,r.bgClass||"")),l.styleClasses.textClass&&(r.textClass=Be(l.styleClasses.textClass,r.textClass||""))),r.map.length==0&&r.map.push(0,0,r.content.appendChild(fr(e.display.measure))),i==0?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(H){var y=r.content.lastChild;(/\bcm-tab\b/.test(y.className)||y.querySelector&&y.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return ot(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=Be(r.pre.className,r.textClass||"")),r}function Zt(e){var t=te("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function lr(e,t,n,r,i,l,h){if(!!t){var p=e.splitSpaces?Nt(t,e.trailingSpace):t,y=e.cm.state.specialChars,b=!1,O;if(!y.test(t))e.col+=t.length,O=document.createTextNode(p),e.map.push(e.pos,e.pos+t.length,O),S&&z<9&&(b=!0),e.pos+=t.length;else{O=document.createDocumentFragment();for(var j=0;;){y.lastIndex=j;var se=y.exec(t),oe=se?se.index-j:t.length-j;if(oe){var Le=document.createTextNode(p.slice(j,j+oe));S&&z<9?O.appendChild(te("span",[Le])):O.appendChild(Le),e.map.push(e.pos,e.pos+oe,Le),e.col+=oe,e.pos+=oe}if(!se)break;j+=oe+1;var Ie=void 0;if(se[0]=="	"){var Ge=e.cm.options.tabSize,Xe=Ge-e.col%Ge;Ie=O.appendChild(te("span",Z(Xe),"cm-tab")),Ie.setAttribute("role","presentation"),Ie.setAttribute("cm-text","	"),e.col+=Xe}else se[0]=="\r"||se[0]==`
`?(Ie=O.appendChild(te("span",se[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),Ie.setAttribute("cm-text",se[0]),e.col+=1):(Ie=e.cm.options.specialCharPlaceholder(se[0]),Ie.setAttribute("cm-text",se[0]),S&&z<9?O.appendChild(te("span",[Ie])):O.appendChild(Ie),e.col+=1);e.map.push(e.pos,e.pos+1,Ie),e.pos++}}if(e.trailingSpace=p.charCodeAt(t.length-1)==32,n||r||i||b||l||h){var rt=n||"";r&&(rt+=r),i&&(rt+=i);var Ye=te("span",[O],rt,l);if(h)for(var st in h)h.hasOwnProperty(st)&&st!="style"&&st!="class"&&Ye.setAttribute(st,h[st]);return e.content.appendChild(Ye)}e.content.appendChild(O)}}function Nt(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var l=e.charAt(i);l==" "&&n&&(i==e.length-1||e.charCodeAt(i+1)==32)&&(l="\xA0"),r+=l,n=l==" "}return r}function Tt(e,t){return function(n,r,i,l,h,p,y){i=i?i+" cm-force-border":"cm-force-border";for(var b=n.pos,O=b+r.length;;){for(var j=void 0,se=0;se<t.length&&(j=t[se],!(j.to>b&&j.from<=b));se++);if(j.to>=O)return e(n,r,i,l,h,p,y);e(n,r.slice(0,j.to-b),i,l,null,p,y),l=null,r=r.slice(j.to-b),b=j.to}}}function kr(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function qr(e,t,n){var r=e.markedSpans,i=e.text,l=0;if(!r){for(var h=1;h<n.length;h+=2)t.addToken(t,i.slice(l,l=n[h]),Ot(n[h+1],t.cm.options));return}for(var p=i.length,y=0,b=1,O="",j,se,oe=0,Le,Ie,Ge,Xe,rt;;){if(oe==y){Le=Ie=Ge=se="",rt=null,Xe=null,oe=1/0;for(var Ye=[],st=void 0,pt=0;pt<r.length;++pt){var ct=r[pt],Lt=ct.marker;if(Lt.type=="bookmark"&&ct.from==y&&Lt.widgetNode)Ye.push(Lt);else if(ct.from<=y&&(ct.to==null||ct.to>y||Lt.collapsed&&ct.to==y&&ct.from==y)){if(ct.to!=null&&ct.to!=y&&oe>ct.to&&(oe=ct.to,Ie=""),Lt.className&&(Le+=" "+Lt.className),Lt.css&&(se=(se?se+";":"")+Lt.css),Lt.startStyle&&ct.from==y&&(Ge+=" "+Lt.startStyle),Lt.endStyle&&ct.to==oe&&(st||(st=[])).push(Lt.endStyle,ct.to),Lt.title&&((rt||(rt={})).title=Lt.title),Lt.attributes)for(var Yt in Lt.attributes)(rt||(rt={}))[Yt]=Lt.attributes[Yt];Lt.collapsed&&(!Xe||We(Xe.marker,Lt)<0)&&(Xe=ct)}else ct.from>y&&oe>ct.from&&(oe=ct.from)}if(st)for(var _r=0;_r<st.length;_r+=2)st[_r+1]==oe&&(Ie+=" "+st[_r]);if(!Xe||Xe.from==y)for(var sr=0;sr<Ye.length;++sr)kr(t,0,Ye[sr]);if(Xe&&(Xe.from||0)==y){if(kr(t,(Xe.to==null?p+1:Xe.to)-y,Xe.marker,Xe.from==null),Xe.to==null)return;Xe.to==y&&(Xe=!1)}}if(y>=p)break;for(var gn=Math.min(p,oe);;){if(O){var on=y+O.length;if(!Xe){var xr=on>gn?O.slice(0,gn-y):O;t.addToken(t,xr,j?j+Le:Le,Ge,y+xr.length==oe?Ie:"",se,rt)}if(on>=gn){O=O.slice(gn-y),y=gn;break}y=on,Ge=""}O=i.slice(l,l=n[b++]),j=Ot(n[b++],t.cm.options)}}}function Cr(e,t,n){this.line=t,this.rest=R(t),this.size=this.rest?Ct(he(this.rest))-n+1:1,this.node=this.text=null,this.hidden=X(e,t)}function On(e,t,n){for(var r=[],i,l=t;l<n;l=i){var h=new Cr(e.doc,at(e.doc,l),l);i=l+h.size,r.push(h)}return r}var Fn=null;function vo(e){Fn?Fn.ops.push(e):e.ownsGroup=Fn={ops:[e],delayedCallbacks:[]}}function Sc(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}function Tc(e,t){var n=e.ownsGroup;if(!!n)try{Sc(n)}finally{Fn=null,t(n)}}var mo=null;function Lr(e,t){var n=Mt(e,t);if(!!n.length){var r=Array.prototype.slice.call(arguments,2),i;Fn?i=Fn.delayedCallbacks:mo?i=mo:(i=mo=[],setTimeout(Lc,0));for(var l=function(p){i.push(function(){return n[p].apply(null,r)})},h=0;h<n.length;++h)l(h)}}function Lc(){var e=mo;mo=null;for(var t=0;t<e.length;++t)e[t]()}function ks(e,t,n,r){for(var i=0;i<t.changes.length;i++){var l=t.changes[i];l=="text"?Mc(e,t):l=="gutter"?Ss(e,t,n,r):l=="class"?Ua(e,t):l=="widget"&&_c(e,t,r)}t.changes=null}function yo(e){return e.node==e.text&&(e.node=te("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),S&&z<8&&(e.node.style.zIndex=2)),e.node}function Ac(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=yo(t);t.background=r.insertBefore(te("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function Cs(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):ar(e,t)}function Mc(e,t){var n=t.text.className,r=Cs(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,Ua(e,t)):n&&(t.text.className=n)}function Ua(e,t){Ac(e,t),t.line.wrapClass?yo(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function Ss(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=yo(t);t.gutterBackground=te("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var l=t.line.gutterMarkers;if(e.options.lineNumbers||l){var h=yo(t),p=t.gutter=te("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(p.setAttribute("aria-hidden","true"),e.display.input.setUneditable(p),h.insertBefore(p,t.text),t.line.gutterClass&&(p.className+=" "+t.line.gutterClass),e.options.lineNumbers&&(!l||!l["CodeMirror-linenumbers"])&&(t.lineNumber=p.appendChild(te("div",Nr(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),l)for(var y=0;y<e.display.gutterSpecs.length;++y){var b=e.display.gutterSpecs[y].className,O=l.hasOwnProperty(b)&&l[b];O&&p.appendChild(te("div",[O],"CodeMirror-gutter-elt","left: "+r.gutterLeft[b]+"px; width: "+r.gutterWidth[b]+"px"))}}}function _c(e,t,n){t.alignable&&(t.alignable=null);for(var r=Y("CodeMirror-linewidget"),i=t.node.firstChild,l=void 0;i;i=l)l=i.nextSibling,r.test(i.className)&&t.node.removeChild(i);Ts(e,t,n)}function Ec(e,t,n,r){var i=Cs(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Ua(e,t),Ss(e,t,n,r),Ts(e,t,r),t.node}function Ts(e,t,n){if(Ls(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Ls(e,t.rest[r],t,n,!1)}function Ls(e,t,n,r,i){if(!!t.widgets)for(var l=yo(n),h=0,p=t.widgets;h<p.length;++h){var y=p[h],b=te("div",[y.node],"CodeMirror-linewidget"+(y.className?" "+y.className:""));y.handleMouseEvents||b.setAttribute("cm-ignore-events","true"),Oc(y,b,n,r),e.display.input.setUneditable(b),i&&y.above?l.insertBefore(b,n.gutter||n.text):l.appendChild(b),Lr(y,"redraw")}}function Oc(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function xo(e){if(e.height!=null)return e.height;var t=e.doc.cm;if(!t)return 0;if(!ke(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),J(t.display.measure,te("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Qn(e,t){for(var n=fn(t);n!=e.wrapper;n=n.parentNode)if(!n||n.nodeType==1&&n.getAttribute("cm-ignore-events")=="true"||n.parentNode==e.sizer&&n!=e.mover)return!0}function Zo(e){return e.lineSpace.offsetTop}function qa(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function As(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=J(e.measure,te("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return!isNaN(r.left)&&!isNaN(r.right)&&(e.cachedPaddingH=r),r}function zn(e){return qe-e.display.nativeBarWidth}function ki(e){return e.display.scroller.clientWidth-zn(e)-e.display.barWidth}function Ga(e){return e.display.scroller.clientHeight-zn(e)-e.display.barHeight}function Fc(e,t,n){var r=e.options.lineWrapping,i=r&&ki(e);if(!t.measure.heights||r&&t.measure.width!=i){var l=t.measure.heights=[];if(r){t.measure.width=i;for(var h=t.text.firstChild.getClientRects(),p=0;p<h.length-1;p++){var y=h[p],b=h[p+1];Math.abs(y.bottom-b.bottom)>2&&l.push((y.bottom+b.top)/2-n.top)}}l.push(n.bottom-n.top)}}function Ms(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(Ct(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}}function Ic(e,t){t=m(t);var n=Ct(t),r=e.display.externalMeasured=new Cr(e.doc,t,n);r.lineN=n;var i=r.built=ar(e,r);return r.text=i.pre,J(e.display.lineMeasure,i.pre),r}function _s(e,t,n,r){return jn(e,ji(e,t),n,r)}function Ja(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Ti(e,t)];var n=e.display.externalMeasured;if(n&&t>=n.lineN&&t<n.lineN+n.size)return n}function ji(e,t){var n=Ct(t),r=Ja(e,n);r&&!r.text?r=null:r&&r.changes&&(ks(e,r,n,Za(e)),e.curOp.forceUpdate=!0),r||(r=Ic(e,t));var i=Ms(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function jn(e,t,n,r,i){t.before&&(n=-1);var l=n+(r||""),h;return t.cache.hasOwnProperty(l)?h=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Fc(e,t.view,t.rect),t.hasHeights=!0),h=Nc(e,t,n,r),h.bogus||(t.cache[l]=h)),{left:h.left,right:h.right,top:i?h.rtop:h.top,bottom:i?h.rbottom:h.bottom}}var Es={left:0,right:0,top:0,bottom:0};function Os(e,t,n){for(var r,i,l,h,p,y,b=0;b<e.length;b+=3)if(p=e[b],y=e[b+1],t<p?(i=0,l=1,h="left"):t<y?(i=t-p,l=i+1):(b==e.length-3||t==y&&e[b+3]>t)&&(l=y-p,i=l-1,t>=y&&(h="right")),i!=null){if(r=e[b+2],p==y&&n==(r.insertLeft?"left":"right")&&(h=n),n=="left"&&i==0)for(;b&&e[b-2]==e[b-3]&&e[b-1].insertLeft;)r=e[(b-=3)+2],h="left";if(n=="right"&&i==y-p)for(;b<e.length-3&&e[b+3]==e[b+4]&&!e[b+5].insertLeft;)r=e[(b+=3)+2],h="right";break}return{node:r,start:i,end:l,collapse:h,coverStart:p,coverEnd:y}}function Dc(e,t){var n=Es;if(t=="left")for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function Nc(e,t,n,r){var i=Os(t.map,n,r),l=i.node,h=i.start,p=i.end,y=i.collapse,b;if(l.nodeType==3){for(var O=0;O<4;O++){for(;h&&Ke(t.line.text.charAt(i.coverStart+h));)--h;for(;i.coverStart+p<i.coverEnd&&Ke(t.line.text.charAt(i.coverStart+p));)++p;if(S&&z<9&&h==0&&p==i.coverEnd-i.coverStart?b=l.parentNode.getBoundingClientRect():b=Dc(Se(l,h,p).getClientRects(),r),b.left||b.right||h==0)break;p=h,h=h-1,y="right"}S&&z<11&&(b=Pc(e.display.measure,b))}else{h>0&&(y=r="right");var j;e.options.lineWrapping&&(j=l.getClientRects()).length>1?b=j[r=="right"?j.length-1:0]:b=l.getBoundingClientRect()}if(S&&z<9&&!h&&(!b||!b.left&&!b.right)){var se=l.parentNode.getClientRects()[0];se?b={left:se.left,right:se.left+Ki(e.display),top:se.top,bottom:se.bottom}:b=Es}for(var oe=b.top-t.rect.top,Le=b.bottom-t.rect.top,Ie=(oe+Le)/2,Ge=t.view.measure.heights,Xe=0;Xe<Ge.length-1&&!(Ie<Ge[Xe]);Xe++);var rt=Xe?Ge[Xe-1]:0,Ye=Ge[Xe],st={left:(y=="right"?b.right:b.left)-t.rect.left,right:(y=="left"?b.left:b.right)-t.rect.left,top:rt,bottom:Ye};return!b.left&&!b.right&&(st.bogus=!0),e.options.singleCursorHeightPerLine||(st.rtop=oe,st.rbottom=Le),st}function Pc(e,t){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!jr(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function Fs(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Is(e){e.display.externalMeasure=null,Oe(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Fs(e.display.view[t])}function bo(e){Is(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Ds(){return D&&ie?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Ns(){return D&&ie?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function $a(e){var t=m(e),n=t.widgets,r=0;if(n)for(var i=0;i<n.length;++i)n[i].above&&(r+=xo(n[i]));return r}function Vo(e,t,n,r,i){if(!i){var l=$a(t);n.top+=l,n.bottom+=l}if(r=="line")return n;r||(r="local");var h=_e(t);if(r=="local"?h+=Zo(e.display):h-=e.display.viewOffset,r=="page"||r=="window"){var p=e.display.lineSpace.getBoundingClientRect();h+=p.top+(r=="window"?0:Ns());var y=p.left+(r=="window"?0:Ds());n.left+=y,n.right+=y}return n.top+=h,n.bottom+=h,n}function Ps(e,t,n){if(n=="div")return t;var r=t.left,i=t.top;if(n=="page")r-=Ds(),i-=Ns();else if(n=="local"||!n){var l=e.display.sizer.getBoundingClientRect();r+=l.left,i+=l.top}var h=e.display.lineSpace.getBoundingClientRect();return{left:r-h.left,top:i-h.top}}function ea(e,t,n,r,i){return r||(r=at(e.doc,t.line)),Vo(e,r,_s(e,r,t.ch,i),n)}function Pn(e,t,n,r,i,l){r=r||at(e.doc,t.line),i||(i=ji(e,r));function h(Le,Ie){var Ge=jn(e,i,Le,Ie?"right":"left",l);return Ie?Ge.left=Ge.right:Ge.right=Ge.left,Vo(e,r,Ge,n)}var p=Jt(r,e.doc.direction),y=t.ch,b=t.sticky;if(y>=r.text.length?(y=r.text.length,b="before"):y<=0&&(y=0,b="after"),!p)return h(b=="before"?y-1:y,b=="before");function O(Le,Ie,Ge){var Xe=p[Ie],rt=Xe.level==1;return h(Ge?Le-1:Le,rt!=Ge)}var j=gt(p,y,b),se=yt,oe=O(y,j,b=="before");return se!=null&&(oe.other=O(y,se,b!="before")),oe}function Rs(e,t){var n=0;t=Ze(e.doc,t),e.options.lineWrapping||(n=Ki(e.display)*t.ch);var r=at(e.doc,t.line),i=_e(r)+Zo(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Xa(e,t,n,r,i){var l=Ne(e,t,n);return l.xRel=i,r&&(l.outside=r),l}function Ya(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,n<0)return Xa(r.first,0,null,-1,-1);var i=Xt(r,n),l=r.first+r.size-1;if(i>l)return Xa(r.first+r.size-1,at(r,l).text.length,null,1,1);t<0&&(t=0);for(var h=at(r,i);;){var p=Rc(e,h,i,t,n),y=d(h,p.ch+(p.xRel>0||p.outside>0?1:0));if(!y)return p;var b=y.find(1);if(b.line==i)return b;h=at(r,i=b.line)}}function Bs(e,t,n,r){r-=$a(t);var i=t.text.length,l=vt(function(h){return jn(e,n,h-1).bottom<=r},i,0);return i=vt(function(h){return jn(e,n,h).top>r},l,i),{begin:l,end:i}}function Hs(e,t,n,r){n||(n=ji(e,t));var i=Vo(e,t,jn(e,n,r),"line").top;return Bs(e,t,n,i)}function Qa(e,t,n,r){return e.bottom<=n?!1:e.top>n?!0:(r?e.left:e.right)>t}function Rc(e,t,n,r,i){i-=_e(t);var l=ji(e,t),h=$a(t),p=0,y=t.text.length,b=!0,O=Jt(t,e.doc.direction);if(O){var j=(e.options.lineWrapping?Hc:Bc)(e,t,n,l,O,r,i);b=j.level!=1,p=b?j.from:j.to-1,y=b?j.to:j.from-1}var se=null,oe=null,Le=vt(function(pt){var ct=jn(e,l,pt);return ct.top+=h,ct.bottom+=h,Qa(ct,r,i,!1)?(ct.top<=i&&ct.left<=r&&(se=pt,oe=ct),!0):!1},p,y),Ie,Ge,Xe=!1;if(oe){var rt=r-oe.left<oe.right-r,Ye=rt==b;Le=se+(Ye?0:1),Ge=Ye?"after":"before",Ie=rt?oe.left:oe.right}else{!b&&(Le==y||Le==p)&&Le++,Ge=Le==0?"after":Le==t.text.length?"before":jn(e,l,Le-(b?1:0)).bottom+h<=i==b?"after":"before";var st=Pn(e,Ne(n,Le,Ge),"line",t,l);Ie=st.left,Xe=i<st.top?-1:i>=st.bottom?1:0}return Le=Ve(t.text,Le,1),Xa(n,Le,Ge,Xe,r-Ie)}function Bc(e,t,n,r,i,l,h){var p=vt(function(j){var se=i[j],oe=se.level!=1;return Qa(Pn(e,Ne(n,oe?se.to:se.from,oe?"before":"after"),"line",t,r),l,h,!0)},0,i.length-1),y=i[p];if(p>0){var b=y.level!=1,O=Pn(e,Ne(n,b?y.from:y.to,b?"after":"before"),"line",t,r);Qa(O,l,h,!0)&&O.top>h&&(y=i[p-1])}return y}function Hc(e,t,n,r,i,l,h){var p=Bs(e,t,r,h),y=p.begin,b=p.end;/\s/.test(t.text.charAt(b-1))&&b--;for(var O=null,j=null,se=0;se<i.length;se++){var oe=i[se];if(!(oe.from>=b||oe.to<=y)){var Le=oe.level!=1,Ie=jn(e,r,Le?Math.min(b,oe.to)-1:Math.max(y,oe.from)).right,Ge=Ie<l?l-Ie+1e9:Ie-l;(!O||j>Ge)&&(O=oe,j=Ge)}}return O||(O=i[i.length-1]),O.from<y&&(O={from:y,to:O.to,level:O.level}),O.to>b&&(O={from:O.from,to:b,level:O.level}),O}var Ci;function Wi(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(Ci==null){Ci=te("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)Ci.appendChild(document.createTextNode("x")),Ci.appendChild(te("br"));Ci.appendChild(document.createTextNode("x"))}J(e.measure,Ci);var n=Ci.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),Oe(e.measure),n||1}function Ki(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var t=te("span","xxxxxxxxxx"),n=te("pre",[t],"CodeMirror-line-like");J(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Za(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,l=t.gutters.firstChild,h=0;l;l=l.nextSibling,++h){var p=e.display.gutterSpecs[h].className;n[p]=l.offsetLeft+l.clientLeft+i,r[p]=l.clientWidth}return{fixedPos:Va(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Va(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function zs(e){var t=Wi(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Ki(e.display)-3);return function(i){if(X(e.doc,i))return 0;var l=0;if(i.widgets)for(var h=0;h<i.widgets.length;h++)i.widgets[h].height&&(l+=i.widgets[h].height);return n?l+(Math.ceil(i.text.length/r)||1)*t:l+t}}function el(e){var t=e.doc,n=zs(e);t.iter(function(r){var i=n(r);i!=r.height&&mr(r,i)})}function Si(e,t,n,r){var i=e.display;if(!n&&fn(t).getAttribute("cm-not-content")=="true")return null;var l,h,p=i.lineSpace.getBoundingClientRect();try{l=t.clientX-p.left,h=t.clientY-p.top}catch{return null}var y=Ya(e,l,h),b;if(r&&y.xRel>0&&(b=at(e.doc,y.line).text).length==y.ch){var O=je(b,b.length,e.options.tabSize)-b.length;y=Ne(y.line,Math.max(0,Math.round((l-As(e.display).left)/Ki(e.display))-O))}return y}function Ti(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom,t<0))return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,t<0)return r}function rn(e,t,n,r){t==null&&(t=e.doc.first),n==null&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(i.updateLineNumbers==null||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)yr&&N(e.doc,t)<i.viewTo&&li(e);else if(n<=i.viewFrom)yr&&ee(e.doc,n+r)>i.viewFrom?li(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)li(e);else if(t<=i.viewFrom){var l=ta(e,n,n+r,1);l?(i.view=i.view.slice(l.index),i.viewFrom=l.lineN,i.viewTo+=r):li(e)}else if(n>=i.viewTo){var h=ta(e,t,t,-1);h?(i.view=i.view.slice(0,h.index),i.viewTo=h.lineN):li(e)}else{var p=ta(e,t,t,-1),y=ta(e,n,n+r,1);p&&y?(i.view=i.view.slice(0,p.index).concat(On(e,p.lineN,y.lineN)).concat(i.view.slice(y.index)),i.viewTo+=r):li(e)}var b=i.externalMeasured;b&&(n<b.lineN?b.lineN+=r:t<b.lineN+b.size&&(i.externalMeasured=null))}function ai(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var l=r.view[Ti(e,t)];if(l.node!=null){var h=l.changes||(l.changes=[]);Fe(h,n)==-1&&h.push(n)}}}function li(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function ta(e,t,n,r){var i=Ti(e,t),l,h=e.display.view;if(!yr||n==e.doc.first+e.doc.size)return{index:i,lineN:n};for(var p=e.display.viewFrom,y=0;y<i;y++)p+=h[y].size;if(p!=t){if(r>0){if(i==h.length-1)return null;l=p+h[i].size-t,i++}else l=p-t;t+=l,n+=l}for(;N(e.doc,n)!=n;){if(i==(r<0?0:h.length-1))return null;n+=r*h[i-(r<0?1:0)].size,i+=r}return{index:i,lineN:n}}function zc(e,t,n){var r=e.display,i=r.view;i.length==0||t>=r.viewTo||n<=r.viewFrom?(r.view=On(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=On(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(Ti(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(On(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,Ti(e,n)))),r.viewTo=n}function js(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];!i.hidden&&(!i.node||i.changes)&&++n}return n}function wo(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Ws(e,t){t===void 0&&(t=!0);var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),l=r.selection=document.createDocumentFragment(),h=e.options.$customCursor;h&&(t=!0);for(var p=0;p<n.sel.ranges.length;p++)if(!(!t&&p==n.sel.primIndex)){var y=n.sel.ranges[p];if(!(y.from().line>=e.display.viewTo||y.to().line<e.display.viewFrom)){var b=y.empty();if(h){var O=h(e,y);O&&tl(e,O,i)}else(b||e.options.showCursorWhenSelecting)&&tl(e,y.head,i);b||jc(e,y,l)}}return r}function tl(e,t,n){var r=Pn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(te("div","\xA0","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var l=ea(e,t,"div",null,null),h=l.right-l.left;i.style.width=(h>0?h:e.defaultCharWidth())+"px"}if(r.other){var p=n.appendChild(te("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));p.style.display="",p.style.left=r.other.left+"px",p.style.top=r.other.top+"px",p.style.height=(r.other.bottom-r.other.top)*.85+"px"}}function ra(e,t){return e.top-t.top||e.left-t.left}function jc(e,t,n){var r=e.display,i=e.doc,l=document.createDocumentFragment(),h=As(e.display),p=h.left,y=Math.max(r.sizerWidth,ki(e)-r.sizer.offsetLeft)-h.right,b=i.direction=="ltr";function O(Ye,st,pt,ct){st<0&&(st=0),st=Math.round(st),ct=Math.round(ct),l.appendChild(te("div",null,"CodeMirror-selected","position: absolute; left: "+Ye+`px;
                             top: `+st+"px; width: "+(pt??y-Ye)+`px;
                             height: `+(ct-st)+"px"))}function j(Ye,st,pt){var ct=at(i,Ye),Lt=ct.text.length,Yt,_r;function sr(xr,an){return ea(e,Ne(Ye,xr),"div",ct,an)}function gn(xr,an,Fr){var Sr=Hs(e,ct,null,xr),br=an=="ltr"==(Fr=="after")?"left":"right",cr=Fr=="after"?Sr.begin:Sr.end-(/\s/.test(ct.text.charAt(Sr.end-1))?2:1);return sr(cr,br)[br]}var on=Jt(ct,i.direction);return xt(on,st||0,pt??Lt,function(xr,an,Fr,Sr){var br=Fr=="ltr",cr=sr(xr,br?"left":"right"),ln=sr(an-1,br?"right":"left"),ro=st==null&&xr==0,di=pt==null&&an==Lt,Br=Sr==0,Wn=!on||Sr==on.length-1;if(ln.top-cr.top<=3){var Er=(b?ro:di)&&Br,Al=(b?di:ro)&&Wn,ei=Er?p:(br?cr:ln).left,Ei=Al?y:(br?ln:cr).right;O(ei,cr.top,Ei-ei,cr.bottom)}else{var Oi,Jr,no,Ml;br?(Oi=b&&ro&&Br?p:cr.left,Jr=b?y:gn(xr,Fr,"before"),no=b?p:gn(an,Fr,"after"),Ml=b&&di&&Wn?y:ln.right):(Oi=b?gn(xr,Fr,"before"):p,Jr=!b&&ro&&Br?y:cr.right,no=!b&&di&&Wn?p:ln.left,Ml=b?gn(an,Fr,"after"):y),O(Oi,cr.top,Jr-Oi,cr.bottom),cr.bottom<ln.top&&O(p,cr.bottom,null,ln.top),O(no,ln.top,Ml-no,ln.bottom)}(!Yt||ra(cr,Yt)<0)&&(Yt=cr),ra(ln,Yt)<0&&(Yt=ln),(!_r||ra(cr,_r)<0)&&(_r=cr),ra(ln,_r)<0&&(_r=ln)}),{start:Yt,end:_r}}var se=t.from(),oe=t.to();if(se.line==oe.line)j(se.line,se.ch,oe.ch);else{var Le=at(i,se.line),Ie=at(i,oe.line),Ge=m(Le)==m(Ie),Xe=j(se.line,se.ch,Ge?Le.text.length+1:null).end,rt=j(oe.line,Ge?0:null,oe.ch).start;Ge&&(Xe.top<rt.top-2?(O(Xe.right,Xe.top,null,Xe.bottom),O(p,rt.top,rt.left,rt.bottom)):O(Xe.right,Xe.top,rt.left-Xe.right,Xe.bottom)),Xe.bottom<rt.top&&O(p,Xe.bottom,null,rt.top)}n.appendChild(l)}function rl(e){if(!!e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||Ui(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Ks(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||il(e))}function nl(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Ui(e))},100)}function il(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(ot(e,"focus",e,t),e.state.focused=!0,ye(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),H&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),rl(e))}function Ui(e,t){e.state.delayingBlurEvent||(e.state.focused&&(ot(e,"blur",e,t),e.state.focused=!1,U(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function na(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=Math.max(0,t.scroller.getBoundingClientRect().top),i=t.lineDiv.getBoundingClientRect().top,l=0,h=0;h<t.view.length;h++){var p=t.view[h],y=e.options.lineWrapping,b=void 0,O=0;if(!p.hidden){if(i+=p.line.height,S&&z<8){var j=p.node.offsetTop+p.node.offsetHeight;b=j-n,n=j}else{var se=p.node.getBoundingClientRect();b=se.bottom-se.top,!y&&p.text.firstChild&&(O=p.text.firstChild.getBoundingClientRect().right-se.left-1)}var oe=p.line.height-b;if((oe>.005||oe<-.005)&&(i<r&&(l-=oe),mr(p.line,b),Us(p.line),p.rest))for(var Le=0;Le<p.rest.length;Le++)Us(p.rest[Le]);if(O>e.display.sizerWidth){var Ie=Math.ceil(O/Ki(e.display));Ie>e.display.maxLineLength&&(e.display.maxLineLength=Ie,e.display.maxLine=p.line,e.display.maxLineChanged=!0)}}}Math.abs(l)>2&&(t.scroller.scrollTop+=l)}function Us(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function ia(e,t,n){var r=n&&n.top!=null?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Zo(e));var i=n&&n.bottom!=null?n.bottom:r+e.wrapper.clientHeight,l=Xt(t,r),h=Xt(t,i);if(n&&n.ensure){var p=n.ensure.from.line,y=n.ensure.to.line;p<l?(l=p,h=Xt(t,_e(at(t,p))+e.wrapper.clientHeight)):Math.min(y,t.lastLine())>=h&&(l=Xt(t,_e(at(t,y))-e.wrapper.clientHeight),h=y)}return{from:l,to:Math.max(h,l+1)}}function Wc(e,t){if(!Rt(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),i!=null&&!ae){var l=te("div","\u200B",null,`position: absolute;
                         top: `+(t.top-n.viewOffset-Zo(e.display))+`px;
                         height: `+(t.bottom-t.top+zn(e)+n.barHeight)+`px;
                         left: `+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(l),l.scrollIntoView(i),e.display.lineSpace.removeChild(l)}}}function Kc(e,t,n,r){r==null&&(r=0);var i;!e.options.lineWrapping&&t==n&&(n=t.sticky=="before"?Ne(t.line,t.ch+1,"before"):t,t=t.ch?Ne(t.line,t.sticky=="before"?t.ch-1:t.ch,"after"):t);for(var l=0;l<5;l++){var h=!1,p=Pn(e,t),y=!n||n==t?p:Pn(e,n);i={left:Math.min(p.left,y.left),top:Math.min(p.top,y.top)-r,right:Math.max(p.left,y.left),bottom:Math.max(p.bottom,y.bottom)+r};var b=ol(e,i),O=e.doc.scrollTop,j=e.doc.scrollLeft;if(b.scrollTop!=null&&(Co(e,b.scrollTop),Math.abs(e.doc.scrollTop-O)>1&&(h=!0)),b.scrollLeft!=null&&(Li(e,b.scrollLeft),Math.abs(e.doc.scrollLeft-j)>1&&(h=!0)),!h)break}return i}function Uc(e,t){var n=ol(e,t);n.scrollTop!=null&&Co(e,n.scrollTop),n.scrollLeft!=null&&Li(e,n.scrollLeft)}function ol(e,t){var n=e.display,r=Wi(e.display);t.top<0&&(t.top=0);var i=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:n.scroller.scrollTop,l=Ga(e),h={};t.bottom-t.top>l&&(t.bottom=t.top+l);var p=e.doc.height+qa(n),y=t.top<r,b=t.bottom>p-r;if(t.top<i)h.scrollTop=y?0:t.top;else if(t.bottom>i+l){var O=Math.min(t.top,(b?p:t.bottom)-l);O!=i&&(h.scrollTop=O)}var j=e.options.fixedGutter?0:n.gutters.offsetWidth,se=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:n.scroller.scrollLeft-j,oe=ki(e)-n.gutters.offsetWidth,Le=t.right-t.left>oe;return Le&&(t.right=t.left+oe),t.left<10?h.scrollLeft=0:t.left<se?h.scrollLeft=Math.max(0,t.left+j-(Le?0:10)):t.right>oe+se-3&&(h.scrollLeft=t.right+(Le?0:10)-oe),h}function al(e,t){t!=null&&(oa(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+t)}function qi(e){oa(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function ko(e,t,n){(t!=null||n!=null)&&oa(e),t!=null&&(e.curOp.scrollLeft=t),n!=null&&(e.curOp.scrollTop=n)}function qc(e,t){oa(e),e.curOp.scrollToPos=t}function oa(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=Rs(e,t.from),r=Rs(e,t.to);qs(e,n,r,t.margin)}}function qs(e,t,n,r){var i=ol(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});ko(e,i.scrollLeft,i.scrollTop)}function Co(e,t){Math.abs(e.doc.scrollTop-t)<2||(x||sl(e,{top:t}),Gs(e,t,!0),x&&sl(e),Lo(e,100))}function Gs(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),!(e.display.scroller.scrollTop==t&&!n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Li(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),!((n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r)&&(e.doc.scrollLeft=t,Qs(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function So(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+qa(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+zn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var Ai=function(e,t,n){this.cm=n;var r=this.vert=te("div",[te("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=te("div",[te("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,e(r),e(i),et(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),et(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,S&&z<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ai.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var l=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+l)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(r==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Ai.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Ai.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Ai.prototype.zeroWidthHack=function(){var e=ne&&!ge?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Je,this.disableVert=new Je},Ai.prototype.enableZeroWidthBar=function(e,t,n){e.style.pointerEvents="auto";function r(){var i=e.getBoundingClientRect(),l=n=="vert"?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1);l!=e?e.style.pointerEvents="none":t.set(1e3,r)}t.set(1e3,r)},Ai.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var To=function(){};To.prototype.update=function(){return{bottom:0,right:0}},To.prototype.setScrollLeft=function(){},To.prototype.setScrollTop=function(){},To.prototype.clear=function(){};function Gi(e,t){t||(t=So(e));var n=e.display.barWidth,r=e.display.barHeight;Js(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&na(e),Js(e,So(e)),n=e.display.barWidth,r=e.display.barHeight}function Js(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}var $s={native:Ai,null:To};function Xs(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&U(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new $s[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),et(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){n=="horizontal"?Li(e,t):Co(e,t)},e),e.display.scrollbars.addClass&&ye(e.display.wrapper,e.display.scrollbars.addClass)}var Gc=0;function Mi(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Gc,markArrays:null},vo(e.curOp)}function _i(e){var t=e.curOp;t&&Tc(t,function(n){for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;Jc(n)})}function Jc(e){for(var t=e.ops,n=0;n<t.length;n++)$c(t[n]);for(var r=0;r<t.length;r++)Xc(t[r]);for(var i=0;i<t.length;i++)Yc(t[i]);for(var l=0;l<t.length;l++)Qc(t[l]);for(var h=0;h<t.length;h++)Zc(t[h])}function $c(e){var t=e.cm,n=t.display;eh(t),e.updateMaxLine&&Re(t),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new aa(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Xc(e){e.updatedDisplay=e.mustUpdate&&ll(e.cm,e.update)}function Yc(e){var t=e.cm,n=t.display;e.updatedDisplay&&na(t),e.barMeasure=So(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=_s(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+zn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-ki(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Qc(e){var t=e.cm;e.adjustWidthTo!=null&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Li(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==ze();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Gi(t,e.barMeasure),e.updatedDisplay&&fl(t,e.barMeasure),e.selectionChanged&&rl(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Ks(e.cm)}function Zc(e){var t=e.cm,n=t.display,r=t.doc;if(e.updatedDisplay&&Ys(t,e.update),n.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos)&&(n.wheelStartX=n.wheelStartY=null),e.scrollTop!=null&&Gs(t,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&Li(t,e.scrollLeft,!0,!0),e.scrollToPos){var i=Kc(t,Ze(r,e.scrollToPos.from),Ze(r,e.scrollToPos.to),e.scrollToPos.margin);Wc(t,i)}var l=e.maybeHiddenMarkers,h=e.maybeUnhiddenMarkers;if(l)for(var p=0;p<l.length;++p)l[p].lines.length||ot(l[p],"hide");if(h)for(var y=0;y<h.length;++y)h[y].lines.length&&ot(h[y],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ot(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function pn(e,t){if(e.curOp)return t();Mi(e);try{return t()}finally{_i(e)}}function Ar(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Mi(e);try{return t.apply(e,arguments)}finally{_i(e)}}}function Gr(e){return function(){if(this.curOp)return e.apply(this,arguments);Mi(this);try{return e.apply(this,arguments)}finally{_i(this)}}}function Mr(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Mi(t);try{return e.apply(this,arguments)}finally{_i(t)}}}function Lo(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,W(Vc,e))}function Vc(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=xn(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(l){if(r.line>=e.display.viewFrom){var h=l.styles,p=l.text.length>e.options.maxHighlightLength?hr(t.mode,r.state):null,y=yn(e,l,r,!0);p&&(r.state=p),l.styles=y.styles;var b=l.styleClasses,O=y.classes;O?l.styleClasses=O:b&&(l.styleClasses=null);for(var j=!h||h.length!=l.styles.length||b!=O&&(!b||!O||b.bgClass!=O.bgClass||b.textClass!=O.textClass),se=0;!j&&se<h.length;++se)j=h[se]!=l.styles[se];j&&i.push(r.line),l.stateAfter=r.save(),r.nextLine()}else l.text.length<=e.options.maxHighlightLength&&bn(e,l.text,r),l.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return Lo(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&pn(e,function(){for(var l=0;l<i.length;l++)ai(e,i[l],"text")})}}var aa=function(e,t,n){var r=e.display;this.viewport=t,this.visible=ia(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=ki(e),this.force=n,this.dims=Za(e),this.events=[]};aa.prototype.signal=function(e,t){qt(e,t)&&this.events.push(arguments)},aa.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ot.apply(null,this.events[e])};function eh(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=zn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=zn(e)+"px",t.scrollbarsClipped=!0)}function th(e){if(e.hasFocus())return null;var t=ze();if(!t||!ke(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&ke(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function rh(e){if(!(!e||!e.activeElt||e.activeElt==ze())&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&ke(document.body,e.anchorNode)&&ke(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function ll(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return li(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&js(e)==0)return!1;Zs(e)&&(li(e),t.dims=Za(e));var i=r.first+r.size,l=Math.max(t.visible.from-e.options.viewportMargin,r.first),h=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<l&&l-n.viewFrom<20&&(l=Math.max(r.first,n.viewFrom)),n.viewTo>h&&n.viewTo-h<20&&(h=Math.min(i,n.viewTo)),yr&&(l=N(e.doc,l),h=ee(e.doc,h));var p=l!=n.viewFrom||h!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;zc(e,l,h),n.viewOffset=_e(at(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var y=js(e);if(!p&&y==0&&!t.force&&n.renderedView==n.view&&(n.updateLineNumbers==null||n.updateLineNumbers>=n.viewTo))return!1;var b=th(e);return y>4&&(n.lineDiv.style.display="none"),nh(e,n.updateLineNumbers,t.dims),y>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,rh(b),Oe(n.cursorDiv),Oe(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,p&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,Lo(e,400)),n.updateLineNumbers=null,!0}function Ys(e,t){for(var n=t.viewport,r=!0;;r=!1){if(!r||!e.options.lineWrapping||t.oldDisplayWidth==ki(e)){if(n&&n.top!=null&&(n={top:Math.min(e.doc.height+qa(e.display)-Ga(e),n.top)}),t.visible=ia(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break}else r&&(t.visible=ia(e.display,e.doc,n));if(!ll(e,t))break;na(e);var i=So(e);wo(e),Gi(e,i),fl(e,i),t.force=!1}t.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function sl(e,t){var n=new aa(e,t);if(ll(e,n)){na(e),Ys(e,n);var r=So(e);wo(e),Gi(e,r),fl(e,r),n.finish()}}function nh(e,t,n){var r=e.display,i=e.options.lineNumbers,l=r.lineDiv,h=l.firstChild;function p(Le){var Ie=Le.nextSibling;return H&&ne&&e.display.currentWheelTarget==Le?Le.style.display="none":Le.parentNode.removeChild(Le),Ie}for(var y=r.view,b=r.viewFrom,O=0;O<y.length;O++){var j=y[O];if(!j.hidden)if(!j.node||j.node.parentNode!=l){var se=Ec(e,j,b,n);l.insertBefore(se,h)}else{for(;h!=j.node;)h=p(h);var oe=i&&t!=null&&t<=b&&j.lineNumber;j.changes&&(Fe(j.changes,"gutter")>-1&&(oe=!1),ks(e,j,b,n)),oe&&(Oe(j.lineNumber),j.lineNumber.appendChild(document.createTextNode(Nr(e.options,b)))),h=j.node.nextSibling}b+=j.size}for(;h;)h=p(h)}function ul(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",Lr(e,"gutterChanged",e)}function fl(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+zn(e)+"px"}function Qs(e){var t=e.display,n=t.view;if(!(!t.alignWidgets&&(!t.gutters.firstChild||!e.options.fixedGutter))){for(var r=Va(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,l=r+"px",h=0;h<n.length;h++)if(!n[h].hidden){e.options.fixedGutter&&(n[h].gutter&&(n[h].gutter.style.left=l),n[h].gutterBackground&&(n[h].gutterBackground.style.left=l));var p=n[h].alignable;if(p)for(var y=0;y<p.length;y++)p[y].style.left=l}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function Zs(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=Nr(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(te("div",[te("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=i.firstChild.offsetWidth,h=i.offsetWidth-l;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(l,r.lineGutter.offsetWidth-h)+1,r.lineNumWidth=r.lineNumInnerWidth+h,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",ul(e.display),!0}return!1}function cl(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var l=e[i],h=null;if(typeof l!="string"&&(h=l.style,l=l.className),l=="CodeMirror-linenumbers")if(t)r=!0;else continue;n.push({className:l,style:h})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Vs(e){var t=e.gutters,n=e.gutterSpecs;Oe(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],l=i.className,h=i.style,p=t.appendChild(te("div",null,"CodeMirror-gutter "+l));h&&(p.style.cssText=h),l=="CodeMirror-linenumbers"&&(e.lineGutter=p,p.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",ul(e)}function Ao(e){Vs(e.display),rn(e),Qs(e)}function ih(e,t,n,r){var i=this;this.input=n,i.scrollbarFiller=te("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=te("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=A("div",null,"CodeMirror-code"),i.selectionDiv=te("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=te("div",null,"CodeMirror-cursors"),i.measure=te("div",null,"CodeMirror-measure"),i.lineMeasure=te("div",null,"CodeMirror-measure"),i.lineSpace=A("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var l=A("div",[i.lineSpace],"CodeMirror-lines");i.mover=te("div",[l],null,"position: relative"),i.sizer=te("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=te("div",null,null,"position: absolute; height: "+qe+"px; width: 1px;"),i.gutters=te("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=te("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=te("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),i.wrapper.setAttribute("translate","no"),S&&z<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),!H&&!(x&&Q)&&(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=cl(r.gutters,r.lineNumbers),Vs(i),n.init(i)}var la=0,Zn=null;S?Zn=-.53:x?Zn=15:D?Zn=-.7:K&&(Zn=-1/3);function eu(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return t==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),n==null&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:n==null&&(n=e.wheelDelta),{x:t,y:n}}function oh(e){var t=eu(e);return t.x*=Zn,t.y*=Zn,t}function tu(e,t){var n=eu(t),r=n.x,i=n.y,l=Zn;t.deltaMode===0&&(r=t.deltaX,i=t.deltaY,l=1);var h=e.display,p=h.scroller,y=p.scrollWidth>p.clientWidth,b=p.scrollHeight>p.clientHeight;if(!!(r&&y||i&&b)){if(i&&ne&&H){e:for(var O=t.target,j=h.view;O!=p;O=O.parentNode)for(var se=0;se<j.length;se++)if(j[se].node==O){e.display.currentWheelTarget=O;break e}}if(r&&!x&&!G&&l!=null){i&&b&&Co(e,Math.max(0,p.scrollTop+i*l)),Li(e,Math.max(0,p.scrollLeft+r*l)),(!i||i&&b)&&nr(t),h.wheelStartX=null;return}if(i&&l!=null){var oe=i*l,Le=e.doc.scrollTop,Ie=Le+h.wrapper.clientHeight;oe<0?Le=Math.max(0,Le+oe-50):Ie=Math.min(e.doc.height,Ie+oe+50),sl(e,{top:Le,bottom:Ie})}la<20&&t.deltaMode!==0&&(h.wheelStartX==null?(h.wheelStartX=p.scrollLeft,h.wheelStartY=p.scrollTop,h.wheelDX=r,h.wheelDY=i,setTimeout(function(){if(h.wheelStartX!=null){var Ge=p.scrollLeft-h.wheelStartX,Xe=p.scrollTop-h.wheelStartY,rt=Xe&&h.wheelDY&&Xe/h.wheelDY||Ge&&h.wheelDX&&Ge/h.wheelDX;h.wheelStartX=h.wheelStartY=null,!!rt&&(Zn=(Zn*la+rt)/(la+1),++la)}},200)):(h.wheelDX+=r,h.wheelDY+=i))}}var Cn=function(e,t){this.ranges=e,this.primIndex=t};Cn.prototype.primary=function(){return this.ranges[this.primIndex]},Cn.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!B(n.anchor,r.anchor)||!B(n.head,r.head))return!1}return!0},Cn.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new zt(Ee(this.ranges[t].anchor),Ee(this.ranges[t].head));return new Cn(e,this.primIndex)},Cn.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},Cn.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(w(t,r.from())>=0&&w(e,r.to())<=0)return n}return-1};var zt=function(e,t){this.anchor=e,this.head=t};zt.prototype.from=function(){return ft(this.anchor,this.head)},zt.prototype.to=function(){return He(this.anchor,this.head)},zt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Rn(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort(function(se,oe){return w(se.from(),oe.from())}),n=Fe(t,i);for(var l=1;l<t.length;l++){var h=t[l],p=t[l-1],y=w(p.to(),h.from());if(r&&!h.empty()?y>0:y>=0){var b=ft(p.from(),h.from()),O=He(p.to(),h.to()),j=p.empty()?h.from()==h.head:p.from()==p.head;l<=n&&--n,t.splice(--l,2,new zt(j?O:b,j?b:O))}}return new Cn(t,n)}function si(e,t){return new Cn([new zt(e,t||e)],0)}function ui(e){return e.text?Ne(e.from.line+e.text.length-1,he(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function ru(e,t){if(w(e,t.from)<0)return e;if(w(e,t.to)<=0)return ui(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=ui(t).ch-t.to.ch),Ne(n,r)}function hl(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new zt(ru(i.anchor,t),ru(i.head,t)))}return Rn(e.cm,n,e.sel.primIndex)}function nu(e,t,n){return e.line==t.line?Ne(n.line,e.ch-t.ch+n.ch):Ne(n.line+(e.line-t.line),e.ch)}function ah(e,t,n){for(var r=[],i=Ne(e.first,0),l=i,h=0;h<t.length;h++){var p=t[h],y=nu(p.from,i,l),b=nu(ui(p),i,l);if(i=p.to,l=b,n=="around"){var O=e.sel.ranges[h],j=w(O.head,O.anchor)<0;r[h]=new zt(j?b:y,j?y:b)}else r[h]=new zt(y,y)}return new Cn(r,e.sel.primIndex)}function dl(e){e.doc.mode=Zr(e.options,e.doc.modeOption),Mo(e)}function Mo(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Lo(e,100),e.state.modeGen++,e.curOp&&rn(e)}function iu(e,t){return t.from.ch==0&&t.to.ch==0&&he(t.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function pl(e,t,n,r){function i(rt){return n?n[rt]:null}function l(rt,Ye,st){Ue(rt,Ye,st,r),Lr(rt,"change",rt,t)}function h(rt,Ye){for(var st=[],pt=rt;pt<Ye;++pt)st.push(new tt(b[pt],i(pt),r));return st}var p=t.from,y=t.to,b=t.text,O=at(e,p.line),j=at(e,y.line),se=he(b),oe=i(b.length-1),Le=y.line-p.line;if(t.full)e.insert(0,h(0,b.length)),e.remove(b.length,e.size-b.length);else if(iu(e,t)){var Ie=h(0,b.length-1);l(j,j.text,oe),Le&&e.remove(p.line,Le),Ie.length&&e.insert(p.line,Ie)}else if(O==j)if(b.length==1)l(O,O.text.slice(0,p.ch)+se+O.text.slice(y.ch),oe);else{var Ge=h(1,b.length-1);Ge.push(new tt(se+O.text.slice(y.ch),oe,r)),l(O,O.text.slice(0,p.ch)+b[0],i(0)),e.insert(p.line+1,Ge)}else if(b.length==1)l(O,O.text.slice(0,p.ch)+b[0]+j.text.slice(y.ch),i(0)),e.remove(p.line+1,Le);else{l(O,O.text.slice(0,p.ch)+b[0],i(0)),l(j,se+j.text.slice(y.ch),oe);var Xe=h(1,b.length-1);Le>1&&e.remove(p.line+1,Le-1),e.insert(p.line+1,Xe)}Lr(e,"change",e,t)}function fi(e,t,n){function r(i,l,h){if(i.linked)for(var p=0;p<i.linked.length;++p){var y=i.linked[p];if(y.doc!=l){var b=h&&y.sharedHist;n&&!b||(t(y.doc,b),r(y.doc,i,b))}}}r(e,null,!0)}function ou(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,el(e),dl(e),au(e),e.options.direction=t.direction,e.options.lineWrapping||Re(e),e.options.mode=t.modeOption,rn(e)}function au(e){(e.doc.direction=="rtl"?ye:U)(e.display.lineDiv,"CodeMirror-rtl")}function lh(e){pn(e,function(){au(e),rn(e)})}function sa(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function gl(e,t){var n={from:Ee(t.from),to:ui(t),text:vr(e,t.from,t.to)};return uu(e,n,t.from.line,t.to.line+1),fi(e,function(r){return uu(r,n,t.from.line,t.to.line+1)},!0),n}function lu(e){for(;e.length;){var t=he(e);if(t.ranges)e.pop();else break}}function sh(e,t){if(t)return lu(e.done),he(e.done);if(e.done.length&&!he(e.done).ranges)return he(e.done);if(e.done.length>1&&!e.done[e.done.length-2].ranges)return e.done.pop(),he(e.done)}function su(e,t,n,r){var i=e.history;i.undone.length=0;var l=+new Date,h,p;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&(t.origin.charAt(0)=="+"&&i.lastModTime>l-(e.cm?e.cm.options.historyEventDelay:500)||t.origin.charAt(0)=="*"))&&(h=sh(i,i.lastOp==r)))p=he(h.changes),w(t.from,t.to)==0&&w(t.from,p.to)==0?p.to=ui(t):h.changes.push(gl(e,t));else{var y=he(i.done);for((!y||!y.ranges)&&ua(e.sel,i.done),h={changes:[gl(e,t)],generation:i.generation},i.done.push(h);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=l,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,p||ot(e,"historyAdded")}function uh(e,t,n,r){var i=t.charAt(0);return i=="*"||i=="+"&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function fh(e,t,n,r){var i=e.history,l=r&&r.origin;n==i.lastSelOp||l&&i.lastSelOrigin==l&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==l||uh(e,l,he(i.done),t))?i.done[i.done.length-1]=t:ua(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=l,i.lastSelOp=n,r&&r.clearRedo!==!1&&lu(i.undone)}function ua(e,t){var n=he(t);n&&n.ranges&&n.equals(e)||t.push(e)}function uu(e,t,n,r){var i=t["spans_"+e.id],l=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(h){h.markedSpans&&((i||(i=t["spans_"+e.id]={}))[l]=h.markedSpans),++l})}function ch(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function hh(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(ch(n[i]));return r}function fu(e,t){var n=hh(e,t),r=Et(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var l=n[i],h=r[i];if(l&&h){e:for(var p=0;p<h.length;++p){for(var y=h[p],b=0;b<l.length;++b)if(l[b].marker==y.marker)continue e;l.push(y)}}else h&&(n[i]=h)}return n}function Ji(e,t,n){for(var r=[],i=0;i<e.length;++i){var l=e[i];if(l.ranges){r.push(n?Cn.prototype.deepCopy.call(l):l);continue}var h=l.changes,p=[];r.push({changes:p});for(var y=0;y<h.length;++y){var b=h[y],O=void 0;if(p.push({from:b.from,to:b.to,text:b.text}),t)for(var j in b)(O=j.match(/^spans_(\d+)$/))&&Fe(t,Number(O[1]))>-1&&(he(p)[j]=b[j],delete b[j])}}return r}function vl(e,t,n,r){if(r){var i=e.anchor;if(n){var l=w(t,i)<0;l!=w(n,i)<0?(i=t,t=n):l!=w(t,n)<0&&(t=n)}return new zt(i,t)}else return new zt(n||t,t)}function fa(e,t,n,r,i){i==null&&(i=e.cm&&(e.cm.display.shift||e.extend)),Rr(e,new Cn([vl(e.sel.primary(),t,n,i)],0),r)}function cu(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),l=0;l<e.sel.ranges.length;l++)r[l]=vl(e.sel.ranges[l],t[l],null,i);var h=Rn(e.cm,r,e.sel.primIndex);Rr(e,h,n)}function ml(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Rr(e,Rn(e.cm,i,e.sel.primIndex),r)}function hu(e,t,n,r){Rr(e,si(t,n),r)}function dh(e,t,n){var r={ranges:t.ranges,update:function(i){this.ranges=[];for(var l=0;l<i.length;l++)this.ranges[l]=new zt(Ze(e,i[l].anchor),Ze(e,i[l].head))},origin:n&&n.origin};return ot(e,"beforeSelectionChange",e,r),e.cm&&ot(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?Rn(e.cm,r.ranges,r.ranges.length-1):t}function du(e,t,n){var r=e.history.done,i=he(r);i&&i.ranges?(r[r.length-1]=t,ca(e,t,n)):Rr(e,t,n)}function Rr(e,t,n){ca(e,t,n),fh(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function ca(e,t,n){(qt(e,"beforeSelectionChange")||e.cm&&qt(e.cm,"beforeSelectionChange"))&&(t=dh(e,t,n));var r=n&&n.bias||(w(t.primary().head,e.sel.primary().head)<0?-1:1);pu(e,vu(e,t,r,!0)),!(n&&n.scroll===!1)&&e.cm&&e.cm.getOption("readOnly")!="nocursor"&&qi(e.cm)}function pu(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,Pt(e.cm)),Lr(e,"cursorActivity",e))}function gu(e){pu(e,vu(e,e.sel,null,!1))}function vu(e,t,n,r){for(var i,l=0;l<t.ranges.length;l++){var h=t.ranges[l],p=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[l],y=ha(e,h.anchor,p&&p.anchor,n,r),b=ha(e,h.head,p&&p.head,n,r);(i||y!=h.anchor||b!=h.head)&&(i||(i=t.ranges.slice(0,l)),i[l]=new zt(y,b))}return i?Rn(e.cm,i,t.primIndex):t}function $i(e,t,n,r,i){var l=at(e,t.line);if(l.markedSpans)for(var h=0;h<l.markedSpans.length;++h){var p=l.markedSpans[h],y=p.marker,b="selectLeft"in y?!y.selectLeft:y.inclusiveLeft,O="selectRight"in y?!y.selectRight:y.inclusiveRight;if((p.from==null||(b?p.from<=t.ch:p.from<t.ch))&&(p.to==null||(O?p.to>=t.ch:p.to>t.ch))){if(i&&(ot(y,"beforeCursorEnter"),y.explicitlyCleared))if(l.markedSpans){--h;continue}else break;if(!y.atomic)continue;if(n){var j=y.find(r<0?1:-1),se=void 0;if((r<0?O:b)&&(j=mu(e,j,-r,j&&j.line==t.line?l:null)),j&&j.line==t.line&&(se=w(j,n))&&(r<0?se<0:se>0))return $i(e,j,t,r,i)}var oe=y.find(r<0?-1:1);return(r<0?b:O)&&(oe=mu(e,oe,r,oe.line==t.line?l:null)),oe?$i(e,oe,t,r,i):null}}return t}function ha(e,t,n,r,i){var l=r||1,h=$i(e,t,n,l,i)||!i&&$i(e,t,n,l,!0)||$i(e,t,n,-l,i)||!i&&$i(e,t,n,-l,!0);return h||(e.cantEdit=!0,Ne(e.first,0))}function mu(e,t,n,r){return n<0&&t.ch==0?t.line>e.first?Ze(e,Ne(t.line-1)):null:n>0&&t.ch==(r||at(e,t.line)).text.length?t.line<e.first+e.size-1?Ne(t.line+1,0):null:new Ne(t.line,t.ch+n)}function yu(e){e.setSelection(Ne(e.firstLine(),0),Ne(e.lastLine()),ht)}function xu(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(i,l,h,p){i&&(r.from=Ze(e,i)),l&&(r.to=Ze(e,l)),h&&(r.text=h),p!==void 0&&(r.origin=p)}),ot(e,"beforeChange",e,r),e.cm&&ot(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Xi(e,t,n){if(e.cm){if(!e.cm.curOp)return Ar(e.cm,Xi)(e,t,n);if(e.cm.state.suppressEdits)return}if(!((qt(e,"beforeChange")||e.cm&&qt(e.cm,"beforeChange"))&&(t=xu(e,t,!0),!t))){var r=Yn&&!n&&I(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)bu(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else bu(e,t)}}function bu(e,t){if(!(t.text.length==1&&t.text[0]==""&&w(t.from,t.to)==0)){var n=hl(e,t);su(e,t,n,e.cm?e.cm.curOp.id:NaN),_o(e,t,n,Et(e,t));var r=[];fi(e,function(i,l){!l&&Fe(r,i.history)==-1&&(Su(i.history,t),r.push(i.history)),_o(i,t,null,Et(i,t))})}}function da(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!(r&&!n)){for(var i=e.history,l,h=e.sel,p=t=="undo"?i.done:i.undone,y=t=="undo"?i.undone:i.done,b=0;b<p.length&&(l=p[b],!(n?l.ranges&&!l.equals(e.sel):!l.ranges));b++);if(b!=p.length){for(i.lastOrigin=i.lastSelOrigin=null;;)if(l=p.pop(),l.ranges){if(ua(l,y),n&&!l.equals(e.sel)){Rr(e,l,{clearRedo:!1});return}h=l}else if(r){p.push(l);return}else break;var O=[];ua(h,y),y.push({changes:O,generation:i.generation}),i.generation=l.generation||++i.maxGeneration;for(var j=qt(e,"beforeChange")||e.cm&&qt(e.cm,"beforeChange"),se=function(Ie){var Ge=l.changes[Ie];if(Ge.origin=t,j&&!xu(e,Ge,!1))return p.length=0,{};O.push(gl(e,Ge));var Xe=Ie?hl(e,Ge):he(p);_o(e,Ge,Xe,fu(e,Ge)),!Ie&&e.cm&&e.cm.scrollIntoView({from:Ge.from,to:ui(Ge)});var rt=[];fi(e,function(Ye,st){!st&&Fe(rt,Ye.history)==-1&&(Su(Ye.history,Ge),rt.push(Ye.history)),_o(Ye,Ge,null,fu(Ye,Ge))})},oe=l.changes.length-1;oe>=0;--oe){var Le=se(oe);if(Le)return Le.v}}}}function wu(e,t){if(t!=0&&(e.first+=t,e.sel=new Cn(me(e.sel.ranges,function(i){return new zt(Ne(i.anchor.line+t,i.anchor.ch),Ne(i.head.line+t,i.head.ch))}),e.sel.primIndex),e.cm)){rn(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)ai(e.cm,r,"gutter")}}function _o(e,t,n,r){if(e.cm&&!e.cm.curOp)return Ar(e.cm,_o)(e,t,n,r);if(t.to.line<e.first){wu(e,t.text.length-1-(t.to.line-t.from.line));return}if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);wu(e,i),t={from:Ne(e.first,0),to:Ne(t.to.line+i,t.to.ch),text:[he(t.text)],origin:t.origin}}var l=e.lastLine();t.to.line>l&&(t={from:t.from,to:Ne(l,at(e,l).text.length),text:[t.text[0]],origin:t.origin}),t.removed=vr(e,t.from,t.to),n||(n=hl(e,t)),e.cm?ph(e.cm,t,r):pl(e,t,r),ca(e,n,ht),e.cantEdit&&ha(e,Ne(e.firstLine(),0))&&(e.cantEdit=!1)}}function ph(e,t,n){var r=e.doc,i=e.display,l=t.from,h=t.to,p=!1,y=l.line;e.options.lineWrapping||(y=Ct(m(at(r,l.line))),r.iter(y,h.line+1,function(oe){if(oe==i.maxLine)return p=!0,!0})),r.sel.contains(t.from,t.to)>-1&&Pt(e),pl(r,t,n,zs(e)),e.options.lineWrapping||(r.iter(y,l.line+t.text.length,function(oe){var Le=Ce(oe);Le>i.maxLineLength&&(i.maxLine=oe,i.maxLineLength=Le,i.maxLineChanged=!0,p=!1)}),p&&(e.curOp.updateMaxLine=!0)),Xn(r,l.line),Lo(e,400);var b=t.text.length-(h.line-l.line)-1;t.full?rn(e):l.line==h.line&&t.text.length==1&&!iu(e.doc,t)?ai(e,l.line,"text"):rn(e,l.line,h.line+1,b);var O=qt(e,"changes"),j=qt(e,"change");if(j||O){var se={from:l,to:h,text:t.text,removed:t.removed,origin:t.origin};j&&Lr(e,"change",e,se),O&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(se)}e.display.selForContextMenu=null}function Yi(e,t,n,r,i){var l;r||(r=n),w(r,n)<0&&(l=[r,n],n=l[0],r=l[1]),typeof t=="string"&&(t=e.splitLines(t)),Xi(e,{from:n,to:r,text:t,origin:i})}function ku(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function Cu(e,t,n,r){for(var i=0;i<e.length;++i){var l=e[i],h=!0;if(l.ranges){l.copied||(l=e[i]=l.deepCopy(),l.copied=!0);for(var p=0;p<l.ranges.length;p++)ku(l.ranges[p].anchor,t,n,r),ku(l.ranges[p].head,t,n,r);continue}for(var y=0;y<l.changes.length;++y){var b=l.changes[y];if(n<b.from.line)b.from=Ne(b.from.line+r,b.from.ch),b.to=Ne(b.to.line+r,b.to.ch);else if(t<=b.to.line){h=!1;break}}h||(e.splice(0,i+1),i=0)}}function Su(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;Cu(e.done,n,r,i),Cu(e.undone,n,r,i)}function Eo(e,t,n,r){var i=t,l=t;return typeof t=="number"?l=at(e,St(e,t)):i=Ct(t),i==null?null:(r(l,i)&&e.cm&&ai(e.cm,i,n),l)}function Oo(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}Oo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,dt(i),Lr(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}};function Fo(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}Fo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var l=Math.min(t,i-e),h=r.height;if(r.removeInner(e,l),this.height-=h-r.height,i==l&&(this.children.splice(n--,1),r.parent=null),(t-=l)==0)break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Oo))){var p=[];this.collapse(p),this.children=[new Oo(p)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],l=i.chunkSize();if(e<=l){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var h=i.lines.length%25+25,p=h;p<i.lines.length;){var y=new Oo(i.lines.slice(p,p+=25));i.height-=y.height,this.children.splice(++r,0,y),y.parent=this}i.lines=i.lines.slice(0,h),this.maybeSpill()}break}e-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Fo(t);if(e.parent){e.size-=n.size,e.height-=n.height;var i=Fe(e.parent.children,e);e.parent.children.splice(i+1,0,n)}else{var r=new Fo(e.children);r.parent=e,e.children=[r,n],e=r}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],l=i.chunkSize();if(e<l){var h=Math.min(t,l-e);if(i.iterN(e,h,n))return!0;if((t-=h)==0)break;e=0}else e-=l}}};var Io=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};Io.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=Ct(n);if(!(r==null||!t)){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var l=xo(this);mr(n,Math.max(0,n.height-l)),e&&(pn(e,function(){Tu(e,n,-l),ai(e,r,"widget")}),Lr(e,"lineWidgetCleared",e,this,r))}},Io.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=xo(this)-t;!i||(X(this.doc,r)||mr(r,r.height+i),n&&pn(n,function(){n.curOp.forceUpdate=!0,Tu(n,r,i),Lr(n,"lineWidgetChanged",n,e,Ct(r))}))},rr(Io);function Tu(e,t,n){_e(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&al(e,n)}function gh(e,t,n,r){var i=new Io(e,n,r),l=e.cm;return l&&i.noHScroll&&(l.display.alignWidgets=!0),Eo(e,t,"widget",function(h){var p=h.widgets||(h.widgets=[]);if(i.insertAt==null?p.push(i):p.splice(Math.min(p.length,Math.max(0,i.insertAt)),0,i),i.line=h,l&&!X(e,h)){var y=_e(h)<e.scrollTop;mr(h,h.height+xo(i)),y&&al(l,i.height),l.curOp.forceUpdate=!0}return!0}),l&&Lr(l,"lineWidgetAdded",l,i,typeof t=="number"?t:Ct(t)),i}var Lu=0,ci=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Lu};ci.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Mi(e),qt(this,"clear")){var n=this.find();n&&Lr(this,"clear",n.from,n.to)}for(var r=null,i=null,l=0;l<this.lines.length;++l){var h=this.lines[l],p=Ur(h.markedSpans,this);e&&!this.collapsed?ai(e,Ct(h),"text"):e&&(p.to!=null&&(i=Ct(h)),p.from!=null&&(r=Ct(h))),h.markedSpans=wi(h.markedSpans,p),p.from==null&&this.collapsed&&!X(this.doc,h)&&e&&mr(h,Wi(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var y=0;y<this.lines.length;++y){var b=m(this.lines[y]),O=Ce(b);O>e.display.maxLineLength&&(e.display.maxLine=b,e.display.maxLineLength=O,e.display.maxLineChanged=!0)}r!=null&&e&&this.collapsed&&rn(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&gu(e.doc)),e&&Lr(e,"markerCleared",e,this,r,i),t&&_i(e),this.parent&&this.parent.clear()}},ci.prototype.find=function(e,t){e==null&&this.type=="bookmark"&&(e=1);for(var n,r,i=0;i<this.lines.length;++i){var l=this.lines[i],h=Ur(l.markedSpans,this);if(h.from!=null&&(n=Ne(t?l:Ct(l),h.from),e==-1))return n;if(h.to!=null&&(r=Ne(t?l:Ct(l),h.to),e==1))return r}return n&&{from:n,to:r}},ci.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;!t||!r||pn(r,function(){var i=t.line,l=Ct(t.line),h=Ja(r,l);if(h&&(Fs(h),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!X(n.doc,i)&&n.height!=null){var p=n.height;n.height=null;var y=xo(n)-p;y&&mr(i,i.height+y)}Lr(r,"markerChanged",r,e)})},ci.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(!t.maybeHiddenMarkers||Fe(t.maybeHiddenMarkers,this)==-1)&&(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ci.prototype.detachLine=function(e){if(this.lines.splice(Fe(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},rr(ci);function Qi(e,t,n,r,i){if(r&&r.shared)return vh(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Ar(e.cm,Qi)(e,t,n,r,i);var l=new ci(e,i),h=w(t,n);if(r&&T(r,l,!1),h>0||h==0&&l.clearWhenEmpty!==!1)return l;if(l.replacedWith&&(l.collapsed=!0,l.widgetNode=A("span",[l.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||l.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(l.widgetNode.insertLeft=!0)),l.collapsed){if(v(e,t.line,t,n,l)||t.line!=n.line&&v(e,n.line,t,n,l))throw new Error("Inserting collapsed marker partially overlapping an existing one");oi()}l.addToHistory&&su(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var p=t.line,y=e.cm,b;if(e.iter(p,n.line+1,function(j){y&&l.collapsed&&!y.options.lineWrapping&&m(j)==y.display.maxLine&&(b=!0),l.collapsed&&p!=t.line&&mr(j,0),le(j,new tn(l,p==t.line?t.ch:null,p==n.line?n.ch:null),e.cm&&e.cm.curOp),++p}),l.collapsed&&e.iter(t.line,n.line+1,function(j){X(e,j)&&mr(j,0)}),l.clearOnEnter&&et(l,"beforeCursorEnter",function(){return l.clear()}),l.readOnly&&(or(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),l.collapsed&&(l.id=++Lu,l.atomic=!0),y){if(b&&(y.curOp.updateMaxLine=!0),l.collapsed)rn(y,t.line,n.line+1);else if(l.className||l.startStyle||l.endStyle||l.css||l.attributes||l.title)for(var O=t.line;O<=n.line;O++)ai(y,O,"text");l.atomic&&gu(y.doc),Lr(y,"markerAdded",y,l)}return l}var Do=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};Do.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Lr(this,"clear")}},Do.prototype.find=function(e,t){return this.primary.find(e,t)},rr(Do);function vh(e,t,n,r,i){r=T(r),r.shared=!1;var l=[Qi(e,t,n,r,i)],h=l[0],p=r.widgetNode;return fi(e,function(y){p&&(r.widgetNode=p.cloneNode(!0)),l.push(Qi(y,Ze(y,t),Ze(y,n),r,i));for(var b=0;b<y.linked.length;++b)if(y.linked[b].isParent)return;h=he(l)}),new Do(l,h)}function Au(e){return e.findMarks(Ne(e.first,0),e.clipPos(Ne(e.lastLine())),function(t){return t.parent})}function mh(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),l=e.clipPos(i.from),h=e.clipPos(i.to);if(w(l,h)){var p=Qi(e,l,h,r.primary,r.primary.type);r.markers.push(p),p.parent=r}}}function yh(e){for(var t=function(r){var i=e[r],l=[i.primary.doc];fi(i.primary.doc,function(y){return l.push(y)});for(var h=0;h<i.markers.length;h++){var p=i.markers[h];Fe(l,p.doc)==-1&&(p.parent=null,i.markers.splice(h--,1))}},n=0;n<e.length;n++)t(n)}var xh=0,nn=function(e,t,n,r,i){if(!(this instanceof nn))return new nn(e,t,n,r,i);n==null&&(n=0),Fo.call(this,[new Oo([new tt("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var l=Ne(n,0);this.sel=si(l),this.history=new sa(null),this.id=++xh,this.modeOption=t,this.lineSep=r,this.direction=i=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),pl(this,{from:l,to:l,text:e}),Rr(this,si(l),ht)};nn.prototype=we(Fo.prototype,{constructor:nn,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=dn(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:Mr(function(e){var t=Ne(this.first,0),n=this.first+this.size-1;Xi(this,{from:t,to:Ne(n,at(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&ko(this.cm,0,0),Rr(this,si(t),ht)}),replaceRange:function(e,t,n,r){t=Ze(this,t),n=n?Ze(this,n):t,Yi(this,e,t,n,r)},getRange:function(e,t,n){var r=vr(this,Ze(this,e),Ze(this,t));return n===!1?r:n===""?r.join(""):r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Vr(this,e))return at(this,e)},getLineNumber:function(e){return Ct(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=at(this,e)),m(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Ze(this,e)},getCursor:function(e){var t=this.sel.primary(),n;return e==null||e=="head"?n=t.head:e=="anchor"?n=t.anchor:e=="end"||e=="to"||e===!1?n=t.to():n=t.from(),n},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Mr(function(e,t,n){hu(this,Ze(this,typeof e=="number"?Ne(e,t||0):e),null,n)}),setSelection:Mr(function(e,t,n){hu(this,Ze(this,e),Ze(this,t||e),n)}),extendSelection:Mr(function(e,t,n){fa(this,Ze(this,e),t&&Ze(this,t),n)}),extendSelections:Mr(function(e,t){cu(this,bt(this,e),t)}),extendSelectionsBy:Mr(function(e,t){var n=me(this.sel.ranges,e);cu(this,bt(this,n),t)}),setSelections:Mr(function(e,t,n){if(!!e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new zt(Ze(this,e[i].anchor),Ze(this,e[i].head||e[i].anchor));t==null&&(t=Math.min(e.length-1,this.sel.primIndex)),Rr(this,Rn(this.cm,r,t),n)}}),addSelection:Mr(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new zt(Ze(this,e),Ze(this,t||e))),Rr(this,Rn(this.cm,r,r.length-1),n)}),getSelection:function(e){for(var t=this.sel.ranges,n,r=0;r<t.length;r++){var i=vr(this,t[r].from(),t[r].to());n=n?n.concat(i):i}return e===!1?n:n.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=vr(this,n[r].from(),n[r].to());e!==!1&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Mr(function(e,t,n){for(var r=[],i=this.sel,l=0;l<i.ranges.length;l++){var h=i.ranges[l];r[l]={from:h.from(),to:h.to(),text:this.splitLines(e[l]),origin:n}}for(var p=t&&t!="end"&&ah(this,r,t),y=r.length-1;y>=0;y--)Xi(this,r[y]);p?du(this,p):this.cm&&qi(this.cm)}),undo:Mr(function(){da(this,"undo")}),redo:Mr(function(){da(this,"redo")}),undoSelection:Mr(function(){da(this,"undo",!0)}),redoSelection:Mr(function(){da(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new sa(this.history),fi(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Ji(this.history.done),undone:Ji(this.history.undone)}},setHistory:function(e){var t=this.history=new sa(this.history);t.done=Ji(e.done.slice(0),null,!0),t.undone=Ji(e.undone.slice(0),null,!0)},setGutterMarker:Mr(function(e,t,n){return Eo(this,e,"gutter",function(r){var i=r.gutterMarkers||(r.gutterMarkers={});return i[t]=n,!n&&de(i)&&(r.gutterMarkers=null),!0})}),clearGutter:Mr(function(e){var t=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&Eo(t,n,"gutter",function(){return n.gutterMarkers[e]=null,de(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if(typeof e=="number"){if(!Vr(this,e)||(t=e,e=at(this,e),!e))return null}else if(t=Ct(e),t==null)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Mr(function(e,t,n){return Eo(this,e,t=="gutter"?"gutter":"class",function(r){var i=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass";if(!r[i])r[i]=n;else{if(Y(n).test(r[i]))return!1;r[i]+=" "+n}return!0})}),removeLineClass:Mr(function(e,t,n){return Eo(this,e,t=="gutter"?"gutter":"class",function(r){var i=t=="text"?"textClass":t=="background"?"bgClass":t=="gutter"?"gutterClass":"wrapClass",l=r[i];if(l)if(n==null)r[i]=null;else{var h=l.match(Y(n));if(!h)return!1;var p=h.index+h[0].length;r[i]=l.slice(0,h.index)+(!h.index||p==l.length?"":" ")+l.slice(p)||null}else return!1;return!0})}),addLineWidget:Mr(function(e,t,n){return gh(this,e,t,n)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return Qi(this,Ze(this,e),Ze(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(t.nodeType==null?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=Ze(this,e),Qi(this,e,e,n,"bookmark")},findMarksAt:function(e){e=Ze(this,e);var t=[],n=at(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(i.from==null||i.from<=e.ch)&&(i.to==null||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=Ze(this,e),t=Ze(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(l){var h=l.markedSpans;if(h)for(var p=0;p<h.length;p++){var y=h[p];!(y.to!=null&&i==e.line&&e.ch>=y.to||y.from==null&&i!=e.line||y.from!=null&&i==t.line&&y.from>=t.ch)&&(!n||n(y.marker))&&r.push(y.marker.parent||y.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)n[r].from!=null&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter(function(i){var l=i.text.length+r;if(l>e)return t=e,!0;e-=l,++n}),Ze(this,Ne(n,t))},indexFromPos:function(e){e=Ze(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(r){t+=r.text.length+n}),t},copy:function(e){var t=new nn(dn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;e.from!=null&&e.from>t&&(t=e.from),e.to!=null&&e.to<n&&(n=e.to);var r=new nn(dn(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],mh(r,Au(this)),r},unlinkDoc:function(e){if(e instanceof tr&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var n=this.linked[t];if(n.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),yh(Au(this));break}}if(e.history==this.history){var r=[e.id];fi(e,function(i){return r.push(i.id)},!0),e.history=new sa(null),e.history.done=Ji(this.history.done,r),e.history.undone=Ji(this.history.undone,r)}},iterLinkedDocs:function(e){fi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Mn(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Mr(function(e){e!="rtl"&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(t){return t.order=null}),this.cm&&lh(this.cm))})}),nn.prototype.eachLine=nn.prototype.iter;var Mu=0;function bh(e){var t=this;if(_u(t),!(Rt(t,e)||Qn(t.display,e))){nr(e),S&&(Mu=+new Date);var n=Si(t,e,!0),r=e.dataTransfer.files;if(!(!n||t.isReadOnly()))if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,l=Array(i),h=0,p=function(){++h==i&&Ar(t,function(){n=Ze(t.doc,n);var oe={from:n,to:n,text:t.doc.splitLines(l.filter(function(Le){return Le!=null}).join(t.doc.lineSeparator())),origin:"paste"};Xi(t.doc,oe),du(t.doc,si(Ze(t.doc,n),Ze(t.doc,ui(oe))))})()},y=function(oe,Le){if(t.options.allowDropFileTypes&&Fe(t.options.allowDropFileTypes,oe.type)==-1){p();return}var Ie=new FileReader;Ie.onerror=function(){return p()},Ie.onload=function(){var Ge=Ie.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Ge)){p();return}l[Le]=Ge,p()},Ie.readAsText(oe)},b=0;b<r.length;b++)y(r[b],b);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1){t.state.draggingText(e),setTimeout(function(){return t.display.input.focus()},20);return}try{var O=e.dataTransfer.getData("Text");if(O){var j;if(t.state.draggingText&&!t.state.draggingText.copy&&(j=t.listSelections()),ca(t.doc,si(n,n)),j)for(var se=0;se<j.length;++se)Yi(t.doc,"",j[se].anchor,j[se].head,"drag");t.replaceSelection(O,"around","paste"),t.display.input.focus()}}catch{}}}}function wh(e,t){if(S&&(!e.state.draggingText||+new Date-Mu<100)){mn(t);return}if(!(Rt(e,t)||Qn(e.display,t))&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!K)){var n=te("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",G&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),G&&n.parentNode.removeChild(n)}}function kh(e,t){var n=Si(e,t);if(!!n){var r=document.createDocumentFragment();tl(e,n,r),e.display.dragCursor||(e.display.dragCursor=te("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),J(e.display.dragCursor,r)}}function _u(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Eu(e){if(!!document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation(function(){for(var l=0;l<n.length;l++)e(n[l])})}}var Ou=!1;function Ch(){Ou||(Sh(),Ou=!0)}function Sh(){var e;et(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,Eu(Th)},100))}),et(window,"blur",function(){return Eu(Ui)})}function Th(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var hi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},No=0;No<10;No++)hi[No+48]=hi[No+96]=String(No);for(var pa=65;pa<=90;pa++)hi[pa]=String.fromCharCode(pa);for(var Po=1;Po<=12;Po++)hi[Po+111]=hi[Po+63235]="F"+Po;var Vn={};Vn.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Vn.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Vn.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Vn.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Vn.default=ne?Vn.macDefault:Vn.pcDefault;function Lh(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var n,r,i,l,h=0;h<t.length-1;h++){var p=t[h];if(/^(cmd|meta|m)$/i.test(p))l=!0;else if(/^a(lt)?$/i.test(p))n=!0;else if(/^(c|ctrl|control)$/i.test(p))r=!0;else if(/^s(hift)?$/i.test(p))i=!0;else throw new Error("Unrecognized modifier name: "+p)}return n&&(e="Alt-"+e),r&&(e="Ctrl-"+e),l&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function Ah(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if(r=="..."){delete e[n];continue}for(var i=me(n.split(" "),Lh),l=0;l<i.length;l++){var h=void 0,p=void 0;l==i.length-1?(p=i.join(" "),h=r):(p=i.slice(0,l+1).join(" "),h="...");var y=t[p];if(!y)t[p]=h;else if(y!=h)throw new Error("Inconsistent bindings for "+p)}delete e[n]}for(var b in t)e[b]=t[b];return e}function Zi(e,t,n,r){t=ga(t);var i=t.call?t.call(e,r):t[e];if(i===!1)return"nothing";if(i==="...")return"multi";if(i!=null&&n(i))return"handled";if(t.fallthrough){if(Object.prototype.toString.call(t.fallthrough)!="[object Array]")return Zi(e,t.fallthrough,n,r);for(var l=0;l<t.fallthrough.length;l++){var h=Zi(e,t.fallthrough[l],n,r);if(h)return h}}}function Fu(e){var t=typeof e=="string"?e:hi[e.keyCode];return t=="Ctrl"||t=="Alt"||t=="Shift"||t=="Mod"}function Iu(e,t,n){var r=e;return t.altKey&&r!="Alt"&&(e="Alt-"+e),($?t.metaKey:t.ctrlKey)&&r!="Ctrl"&&(e="Ctrl-"+e),($?t.ctrlKey:t.metaKey)&&r!="Mod"&&(e="Cmd-"+e),!n&&t.shiftKey&&r!="Shift"&&(e="Shift-"+e),e}function Du(e,t){if(G&&e.keyCode==34&&e.char)return!1;var n=hi[e.keyCode];return n==null||e.altGraphKey?!1:(e.keyCode==3&&e.code&&(n=e.code),Iu(n,e,t))}function ga(e){return typeof e=="string"?Vn[e]:e}function Vi(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var l=t(n[i]);r.length&&w(l.from,he(r).to)<=0;){var h=r.pop();if(w(h.from,l.from)<0){l.from=h.from;break}}r.push(l)}pn(e,function(){for(var p=r.length-1;p>=0;p--)Yi(e.doc,"",r[p].from,r[p].to,"+delete");qi(e)})}function yl(e,t,n){var r=Ve(e.text,t+n,n);return r<0||r>e.text.length?null:r}function xl(e,t,n){var r=yl(e,t.ch,n);return r==null?null:new Ne(t.line,r,n<0?"after":"before")}function bl(e,t,n,r,i){if(e){t.doc.direction=="rtl"&&(i=-i);var l=Jt(n,t.doc.direction);if(l){var h=i<0?he(l):l[0],p=i<0==(h.level==1),y=p?"after":"before",b;if(h.level>0||t.doc.direction=="rtl"){var O=ji(t,n);b=i<0?n.text.length-1:0;var j=jn(t,O,b).top;b=vt(function(se){return jn(t,O,se).top==j},i<0==(h.level==1)?h.from:h.to-1,b),y=="before"&&(b=yl(n,b,1))}else b=i<0?h.to:h.from;return new Ne(r,b,y)}}return new Ne(r,i<0?n.text.length:0,i<0?"before":"after")}function Mh(e,t,n,r){var i=Jt(t,e.doc.direction);if(!i)return xl(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var l=gt(i,n.ch,n.sticky),h=i[l];if(e.doc.direction=="ltr"&&h.level%2==0&&(r>0?h.to>n.ch:h.from<n.ch))return xl(t,n,r);var p=function(Xe,rt){return yl(t,Xe instanceof Ne?Xe.ch:Xe,rt)},y,b=function(Xe){return e.options.lineWrapping?(y=y||ji(e,t),Hs(e,t,y,Xe)):{begin:0,end:t.text.length}},O=b(n.sticky=="before"?p(n,-1):n.ch);if(e.doc.direction=="rtl"||h.level==1){var j=h.level==1==r<0,se=p(n,j?1:-1);if(se!=null&&(j?se<=h.to&&se<=O.end:se>=h.from&&se>=O.begin)){var oe=j?"before":"after";return new Ne(n.line,se,oe)}}var Le=function(Xe,rt,Ye){for(var st=function(Yt,_r){return _r?new Ne(n.line,p(Yt,1),"before"):new Ne(n.line,Yt,"after")};Xe>=0&&Xe<i.length;Xe+=rt){var pt=i[Xe],ct=rt>0==(pt.level!=1),Lt=ct?Ye.begin:p(Ye.end,-1);if(pt.from<=Lt&&Lt<pt.to||(Lt=ct?pt.from:p(pt.to,-1),Ye.begin<=Lt&&Lt<Ye.end))return st(Lt,ct)}},Ie=Le(l+r,r,O);if(Ie)return Ie;var Ge=r>0?O.end:p(O.begin,-1);return Ge!=null&&!(r>0&&Ge==t.text.length)&&(Ie=Le(r>0?0:i.length-1,r,b(Ge)),Ie)?Ie:null}var Ro={selectAll:yu,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),ht)},killLine:function(e){return Vi(e,function(t){if(t.empty()){var n=at(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:Ne(t.head.line+1,0)}:{from:t.head,to:Ne(t.head.line,n)}}else return{from:t.from(),to:t.to()}})},deleteLine:function(e){return Vi(e,function(t){return{from:Ne(t.from().line,0),to:Ze(e.doc,Ne(t.to().line+1,0))}})},delLineLeft:function(e){return Vi(e,function(t){return{from:Ne(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return Vi(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){return Vi(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(Ne(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(Ne(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return Nu(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return Pu(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return _h(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},$e)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},$e)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?Pu(e,t.head):r},$e)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var l=n[i].from(),h=je(e.getLine(l.line),l.ch,r);t.push(Z(r-h%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return pn(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(!!t[r].empty()){var i=t[r].head,l=at(e.doc,i.line).text;if(l){if(i.ch==l.length&&(i=new Ne(i.line,i.ch-1)),i.ch>0)i=new Ne(i.line,i.ch+1),e.replaceRange(l.charAt(i.ch-1)+l.charAt(i.ch-2),Ne(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var h=at(e.doc,i.line-1).text;h&&(i=new Ne(i.line,1),e.replaceRange(l.charAt(0)+e.doc.lineSeparator()+h.charAt(h.length-1),Ne(i.line-1,h.length-1),i,"+transpose"))}}n.push(new zt(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){return pn(e,function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);qi(e)})},openLine:function(e){return e.replaceSelection(`
`,"start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Nu(e,t){var n=at(e.doc,t),r=m(n);return r!=n&&(t=Ct(r)),bl(!0,e,r,t,1)}function _h(e,t){var n=at(e.doc,t),r=M(n);return r!=n&&(t=Ct(r)),bl(!0,e,n,t,-1)}function Pu(e,t){var n=Nu(e,t.line),r=at(e.doc,n.line),i=Jt(r,e.doc.direction);if(!i||i[0].level==0){var l=Math.max(n.ch,r.text.search(/\S/)),h=t.line==n.line&&t.ch<=l&&t.ch;return Ne(n.line,h?0:l,n.sticky)}return n}function va(e,t,n){if(typeof t=="string"&&(t=Ro[t],!t))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=Ae}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function Eh(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Zi(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Zi(t,e.options.extraKeys,n,e)||Zi(t,e.options.keyMap,n,e)}var Oh=new Je;function Bo(e,t,n,r){var i=e.state.keySeq;if(i){if(Fu(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:Oh.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),Ru(e,i+" "+t,n,r))return!0}return Ru(e,t,n,r)}function Ru(e,t,n,r){var i=Eh(e,t,r);return i=="multi"&&(e.state.keySeq=t),i=="handled"&&Lr(e,"keyHandled",e,t,n),(i=="handled"||i=="multi")&&(nr(n),rl(e)),!!i}function Bu(e,t){var n=Du(t,!0);return n?t.shiftKey&&!e.state.keySeq?Bo(e,"Shift-"+n,t,function(r){return va(e,r,!0)})||Bo(e,n,t,function(r){if(typeof r=="string"?/^go[A-Z]/.test(r):r.motion)return va(e,r)}):Bo(e,n,t,function(r){return va(e,r)}):!1}function Fh(e,t,n){return Bo(e,"'"+n+"'",t,function(r){return va(e,r,!0)})}var wl=null;function Hu(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&(t.curOp.focus=ze(),!Rt(t,e))){S&&z<11&&e.keyCode==27&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=n==16||e.shiftKey;var r=Bu(t,e);G&&(wl=r?n:null,!r&&n==88&&!Tr&&(ne?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),x&&!ne&&!r&&n==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),n==18&&!/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)&&Ih(t)}}function Ih(e){var t=e.display.lineDiv;ye(t,"CodeMirror-crosshair");function n(r){(r.keyCode==18||!r.altKey)&&(U(t,"CodeMirror-crosshair"),kt(document,"keyup",n),kt(document,"mouseover",n))}et(document,"keyup",n),et(document,"mouseover",n)}function zu(e){e.keyCode==16&&(this.doc.sel.shift=!1),Rt(this,e)}function ju(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField())&&!(Qn(t.display,e)||Rt(t,e)||e.ctrlKey&&!e.altKey||ne&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(G&&n==wl){wl=null,nr(e);return}if(!(G&&(!e.which||e.which<10)&&Bu(t,e))){var i=String.fromCharCode(r??n);i!="\b"&&(Fh(t,e,i)||t.display.input.onKeyPress(e))}}}var Dh=400,kl=function(e,t,n){this.time=e,this.pos=t,this.button=n};kl.prototype.compare=function(e,t,n){return this.time+Dh>e&&w(t,this.pos)==0&&n==this.button};var Ho,zo;function Nh(e,t){var n=+new Date;return zo&&zo.compare(n,e,t)?(Ho=zo=null,"triple"):Ho&&Ho.compare(n,e,t)?(zo=new kl(n,e,t),Ho=null,"double"):(Ho=new kl(n,e,t),zo=null,"single")}function Wu(e){var t=this,n=t.display;if(!(Rt(t,e)||n.activeTouch&&n.input.supportsTouch())){if(n.input.ensurePolled(),n.shift=e.shiftKey,Qn(n,e)){H||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));return}if(!Cl(t,e)){var r=Si(t,e),i=It(e),l=r?Nh(r,i):"single";window.focus(),i==1&&t.state.selectingText&&t.state.selectingText(e),!(r&&Ph(t,i,r,l,e))&&(i==1?r?Bh(t,r,l,e):fn(e)==n.scroller&&nr(e):i==2?(r&&fa(t.doc,r),setTimeout(function(){return n.input.focus()},20)):i==3&&(fe?t.display.input.onContextMenu(e):nl(t)))}}}function Ph(e,t,n,r,i){var l="Click";return r=="double"?l="Double"+l:r=="triple"&&(l="Triple"+l),l=(t==1?"Left":t==2?"Middle":"Right")+l,Bo(e,Iu(l,i),i,function(h){if(typeof h=="string"&&(h=Ro[h]),!h)return!1;var p=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),p=h(e,n)!=Ae}finally{e.state.suppressEdits=!1}return p})}function Rh(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(i.unit==null){var l=pe?n.shiftKey&&n.metaKey:n.altKey;i.unit=l?"rectangle":t=="single"?"char":t=="double"?"word":"line"}return(i.extend==null||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),i.addNew==null&&(i.addNew=ne?n.metaKey:n.ctrlKey),i.moveOnDrag==null&&(i.moveOnDrag=!(ne?n.altKey:n.ctrlKey)),i}function Bh(e,t,n,r){S?setTimeout(W(Ks,e),0):e.curOp.focus=ze();var i=Rh(e,n,r),l=e.doc.sel,h;e.options.dragDrop&&An&&!e.isReadOnly()&&n=="single"&&(h=l.contains(t))>-1&&(w((h=l.ranges[h]).from(),t)<0||t.xRel>0)&&(w(h.to(),t)>0||t.xRel<0)?Hh(e,r,t,i):zh(e,r,t,i)}function Hh(e,t,n,r){var i=e.display,l=!1,h=Ar(e,function(b){H&&(i.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:nl(e)),kt(i.wrapper.ownerDocument,"mouseup",h),kt(i.wrapper.ownerDocument,"mousemove",p),kt(i.scroller,"dragstart",y),kt(i.scroller,"drop",h),l||(nr(b),r.addNew||fa(e.doc,n,null,null,r.extend),H&&!K||S&&z==9?setTimeout(function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()},20):i.input.focus())}),p=function(b){l=l||Math.abs(t.clientX-b.clientX)+Math.abs(t.clientY-b.clientY)>=10},y=function(){return l=!0};H&&(i.scroller.draggable=!0),e.state.draggingText=h,h.copy=!r.moveOnDrag,et(i.wrapper.ownerDocument,"mouseup",h),et(i.wrapper.ownerDocument,"mousemove",p),et(i.scroller,"dragstart",y),et(i.scroller,"drop",h),e.state.delayingBlurEvent=!0,setTimeout(function(){return i.input.focus()},20),i.scroller.dragDrop&&i.scroller.dragDrop()}function Ku(e,t,n){if(n=="char")return new zt(t,t);if(n=="word")return e.findWordAt(t);if(n=="line")return new zt(Ne(t.line,0),Ze(e.doc,Ne(t.line+1,0)));var r=n(e,t);return new zt(r.from,r.to)}function zh(e,t,n,r){S&&nl(e);var i=e.display,l=e.doc;nr(t);var h,p,y=l.sel,b=y.ranges;if(r.addNew&&!r.extend?(p=l.sel.contains(n),p>-1?h=b[p]:h=new zt(n,n)):(h=l.sel.primary(),p=l.sel.primIndex),r.unit=="rectangle")r.addNew||(h=new zt(n,n)),n=Si(e,t,!0,!0),p=-1;else{var O=Ku(e,n,r.unit);r.extend?h=vl(h,O.anchor,O.head,r.extend):h=O}r.addNew?p==-1?(p=b.length,Rr(l,Rn(e,b.concat([h]),p),{scroll:!1,origin:"*mouse"})):b.length>1&&b[p].empty()&&r.unit=="char"&&!r.extend?(Rr(l,Rn(e,b.slice(0,p).concat(b.slice(p+1)),0),{scroll:!1,origin:"*mouse"}),y=l.sel):ml(l,p,h,it):(p=0,Rr(l,new Cn([h],0),it),y=l.sel);var j=n;function se(Ye){if(w(j,Ye)!=0)if(j=Ye,r.unit=="rectangle"){for(var st=[],pt=e.options.tabSize,ct=je(at(l,n.line).text,n.ch,pt),Lt=je(at(l,Ye.line).text,Ye.ch,pt),Yt=Math.min(ct,Lt),_r=Math.max(ct,Lt),sr=Math.min(n.line,Ye.line),gn=Math.min(e.lastLine(),Math.max(n.line,Ye.line));sr<=gn;sr++){var on=at(l,sr).text,xr=nt(on,Yt,pt);Yt==_r?st.push(new zt(Ne(sr,xr),Ne(sr,xr))):on.length>xr&&st.push(new zt(Ne(sr,xr),Ne(sr,nt(on,_r,pt))))}st.length||st.push(new zt(n,n)),Rr(l,Rn(e,y.ranges.slice(0,p).concat(st),p),{origin:"*mouse",scroll:!1}),e.scrollIntoView(Ye)}else{var an=h,Fr=Ku(e,Ye,r.unit),Sr=an.anchor,br;w(Fr.anchor,Sr)>0?(br=Fr.head,Sr=ft(an.from(),Fr.anchor)):(br=Fr.anchor,Sr=He(an.to(),Fr.head));var cr=y.ranges.slice(0);cr[p]=jh(e,new zt(Ze(l,Sr),br)),Rr(l,Rn(e,cr,p),it)}}var oe=i.wrapper.getBoundingClientRect(),Le=0;function Ie(Ye){var st=++Le,pt=Si(e,Ye,!0,r.unit=="rectangle");if(!!pt)if(w(pt,j)!=0){e.curOp.focus=ze(),se(pt);var ct=ia(i,l);(pt.line>=ct.to||pt.line<ct.from)&&setTimeout(Ar(e,function(){Le==st&&Ie(Ye)}),150)}else{var Lt=Ye.clientY<oe.top?-20:Ye.clientY>oe.bottom?20:0;Lt&&setTimeout(Ar(e,function(){Le==st&&(i.scroller.scrollTop+=Lt,Ie(Ye))}),50)}}function Ge(Ye){e.state.selectingText=!1,Le=1/0,Ye&&(nr(Ye),i.input.focus()),kt(i.wrapper.ownerDocument,"mousemove",Xe),kt(i.wrapper.ownerDocument,"mouseup",rt),l.history.lastSelOrigin=null}var Xe=Ar(e,function(Ye){Ye.buttons===0||!It(Ye)?Ge(Ye):Ie(Ye)}),rt=Ar(e,Ge);e.state.selectingText=rt,et(i.wrapper.ownerDocument,"mousemove",Xe),et(i.wrapper.ownerDocument,"mouseup",rt)}function jh(e,t){var n=t.anchor,r=t.head,i=at(e.doc,n.line);if(w(n,r)==0&&n.sticky==r.sticky)return t;var l=Jt(i);if(!l)return t;var h=gt(l,n.ch,n.sticky),p=l[h];if(p.from!=n.ch&&p.to!=n.ch)return t;var y=h+(p.from==n.ch==(p.level!=1)?0:1);if(y==0||y==l.length)return t;var b;if(r.line!=n.line)b=(r.line-n.line)*(e.doc.direction=="ltr"?1:-1)>0;else{var O=gt(l,r.ch,r.sticky),j=O-h||(r.ch-n.ch)*(p.level==1?-1:1);O==y-1||O==y?b=j<0:b=j>0}var se=l[y+(b?-1:0)],oe=b==(se.level==1),Le=oe?se.from:se.to,Ie=oe?"after":"before";return n.ch==Le&&n.sticky==Ie?t:new zt(new Ne(n.line,Le,Ie),r)}function Uu(e,t,n,r){var i,l;if(t.touches)i=t.touches[0].clientX,l=t.touches[0].clientY;else try{i=t.clientX,l=t.clientY}catch{return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&nr(t);var h=e.display,p=h.lineDiv.getBoundingClientRect();if(l>p.bottom||!qt(e,n))return ur(t);l-=p.top-h.viewOffset;for(var y=0;y<e.display.gutterSpecs.length;++y){var b=h.gutters.childNodes[y];if(b&&b.getBoundingClientRect().right>=i){var O=Xt(e.doc,l),j=e.display.gutterSpecs[y];return ot(e,n,e,O,j.className,t),ur(t)}}}function Cl(e,t){return Uu(e,t,"gutterClick",!0)}function qu(e,t){Qn(e.display,t)||Wh(e,t)||Rt(e,t,"contextmenu")||fe||e.display.input.onContextMenu(t)}function Wh(e,t){return qt(e,"gutterContextMenu")?Uu(e,t,"gutterContextMenu",!1):!1}function Gu(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),bo(e)}var eo={toString:function(){return"CodeMirror.Init"}},Ju={},ma={};function Kh(e){var t=e.optionHandlers;function n(r,i,l,h){e.defaults[r]=i,l&&(t[r]=h?function(p,y,b){b!=eo&&l(p,y,b)}:l)}e.defineOption=n,e.Init=eo,n("value","",function(r,i){return r.setValue(i)},!0),n("mode",null,function(r,i){r.doc.modeOption=i,dl(r)},!0),n("indentUnit",2,dl,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(r){Mo(r),bo(r),rn(r)},!0),n("lineSeparator",null,function(r,i){if(r.doc.lineSep=i,!!i){var l=[],h=r.doc.first;r.doc.iter(function(y){for(var b=0;;){var O=y.text.indexOf(i,b);if(O==-1)break;b=O+i.length,l.push(Ne(h,O))}h++});for(var p=l.length-1;p>=0;p--)Yi(r.doc,i,l[p],Ne(l[p].line,l[p].ch+i.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(r,i,l){r.state.specialChars=new RegExp(i.source+(i.test("	")?"":"|	"),"g"),l!=eo&&r.refresh()}),n("specialCharPlaceholder",Zt,function(r){return r.refresh()},!0),n("electricChars",!0),n("inputStyle",Q?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(r,i){return r.getInputField().spellcheck=i},!0),n("autocorrect",!1,function(r,i){return r.getInputField().autocorrect=i},!0),n("autocapitalize",!1,function(r,i){return r.getInputField().autocapitalize=i},!0),n("rtlMoveVisually",!ve),n("wholeLineUpdateBefore",!0),n("theme","default",function(r){Gu(r),Ao(r)},!0),n("keyMap","default",function(r,i,l){var h=ga(i),p=l!=eo&&ga(l);p&&p.detach&&p.detach(r,h),h.attach&&h.attach(r,p||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,qh,!0),n("gutters",[],function(r,i){r.display.gutterSpecs=cl(i,r.options.lineNumbers),Ao(r)},!0),n("fixedGutter",!0,function(r,i){r.display.gutters.style.left=i?Va(r.display)+"px":"0",r.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(r){return Gi(r)},!0),n("scrollbarStyle","native",function(r){Xs(r),Gi(r),r.display.scrollbars.setScrollTop(r.doc.scrollTop),r.display.scrollbars.setScrollLeft(r.doc.scrollLeft)},!0),n("lineNumbers",!1,function(r,i){r.display.gutterSpecs=cl(r.options.gutters,i),Ao(r)},!0),n("firstLineNumber",1,Ao,!0),n("lineNumberFormatter",function(r){return r},Ao,!0),n("showCursorWhenSelecting",!1,wo,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(r,i){i=="nocursor"&&(Ui(r),r.display.input.blur()),r.display.input.readOnlyChanged(i)}),n("screenReaderLabel",null,function(r,i){i=i===""?null:i,r.display.input.screenReaderLabelChanged(i)}),n("disableInput",!1,function(r,i){i||r.display.input.reset()},!0),n("dragDrop",!0,Uh),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,wo,!0),n("singleCursorHeightPerLine",!0,wo,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Mo,!0),n("addModeClass",!1,Mo,!0),n("pollInterval",100),n("undoDepth",200,function(r,i){return r.doc.history.undoDepth=i}),n("historyEventDelay",1250),n("viewportMargin",10,function(r){return r.refresh()},!0),n("maxHighlightLength",1e4,Mo,!0),n("moveInputWithCursor",!0,function(r,i){i||r.display.input.resetPosition()}),n("tabindex",null,function(r,i){return r.display.input.getField().tabIndex=i||""}),n("autofocus",null),n("direction","ltr",function(r,i){return r.doc.setDirection(i)},!0),n("phrases",null)}function Uh(e,t,n){var r=n&&n!=eo;if(!t!=!r){var i=e.display.dragFunctions,l=t?et:kt;l(e.display.scroller,"dragstart",i.start),l(e.display.scroller,"dragenter",i.enter),l(e.display.scroller,"dragover",i.over),l(e.display.scroller,"dragleave",i.leave),l(e.display.scroller,"drop",i.drop)}}function qh(e){e.options.lineWrapping?(ye(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(U(e.display.wrapper,"CodeMirror-wrap"),Re(e)),el(e),rn(e),bo(e),setTimeout(function(){return Gi(e)},100)}function tr(e,t){var n=this;if(!(this instanceof tr))return new tr(e,t);this.options=t=t?T(t):{},T(Ju,t,!1);var r=t.value;typeof r=="string"?r=new nn(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new tr.inputStyles[t.inputStyle](this),l=this.display=new ih(e,r,i,t);l.wrapper.CodeMirror=this,Gu(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Xs(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Je,keySeq:null,specialChars:null},t.autofocus&&!Q&&l.input.focus(),S&&z<11&&setTimeout(function(){return n.display.input.reset(!0)},20),Gh(this),Ch(),Mi(this),this.curOp.forceUpdate=!0,ou(this,r),t.autofocus&&!Q||this.hasFocus()?setTimeout(function(){n.hasFocus()&&!n.state.focused&&il(n)},20):Ui(this);for(var h in ma)ma.hasOwnProperty(h)&&ma[h](this,t[h],eo);Zs(this),t.finishInit&&t.finishInit(this);for(var p=0;p<Sl.length;++p)Sl[p](this);_i(this),H&&t.lineWrapping&&getComputedStyle(l.lineDiv).textRendering=="optimizelegibility"&&(l.lineDiv.style.textRendering="auto")}tr.defaults=Ju,tr.optionHandlers=ma;function Gh(e){var t=e.display;et(t.scroller,"mousedown",Ar(e,Wu)),S&&z<11?et(t.scroller,"dblclick",Ar(e,function(y){if(!Rt(e,y)){var b=Si(e,y);if(!(!b||Cl(e,y)||Qn(e.display,y))){nr(y);var O=e.findWordAt(b);fa(e.doc,O.anchor,O.head)}}})):et(t.scroller,"dblclick",function(y){return Rt(e,y)||nr(y)}),et(t.scroller,"contextmenu",function(y){return qu(e,y)}),et(t.input.getField(),"contextmenu",function(y){t.scroller.contains(y.target)||qu(e,y)});var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout(function(){return t.activeTouch=null},1e3),r=t.activeTouch,r.end=+new Date)}function l(y){if(y.touches.length!=1)return!1;var b=y.touches[0];return b.radiusX<=1&&b.radiusY<=1}function h(y,b){if(b.left==null)return!0;var O=b.left-y.left,j=b.top-y.top;return O*O+j*j>20*20}et(t.scroller,"touchstart",function(y){if(!Rt(e,y)&&!l(y)&&!Cl(e,y)){t.input.ensurePolled(),clearTimeout(n);var b=+new Date;t.activeTouch={start:b,moved:!1,prev:b-r.end<=300?r:null},y.touches.length==1&&(t.activeTouch.left=y.touches[0].pageX,t.activeTouch.top=y.touches[0].pageY)}}),et(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)}),et(t.scroller,"touchend",function(y){var b=t.activeTouch;if(b&&!Qn(t,y)&&b.left!=null&&!b.moved&&new Date-b.start<300){var O=e.coordsChar(t.activeTouch,"page"),j;!b.prev||h(b,b.prev)?j=new zt(O,O):!b.prev.prev||h(b,b.prev.prev)?j=e.findWordAt(O):j=new zt(Ne(O.line,0),Ze(e.doc,Ne(O.line+1,0))),e.setSelection(j.anchor,j.head),e.focus(),nr(y)}i()}),et(t.scroller,"touchcancel",i),et(t.scroller,"scroll",function(){t.scroller.clientHeight&&(Co(e,t.scroller.scrollTop),Li(e,t.scroller.scrollLeft,!0),ot(e,"scroll",e))}),et(t.scroller,"mousewheel",function(y){return tu(e,y)}),et(t.scroller,"DOMMouseScroll",function(y){return tu(e,y)}),et(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0}),t.dragFunctions={enter:function(y){Rt(e,y)||mn(y)},over:function(y){Rt(e,y)||(kh(e,y),mn(y))},start:function(y){return wh(e,y)},drop:Ar(e,bh),leave:function(y){Rt(e,y)||_u(e)}};var p=t.input.getField();et(p,"keyup",function(y){return zu.call(e,y)}),et(p,"keydown",Ar(e,Hu)),et(p,"keypress",Ar(e,ju)),et(p,"focus",function(y){return il(e,y)}),et(p,"blur",function(y){return Ui(e,y)})}var Sl=[];tr.defineInitHook=function(e){return Sl.push(e)};function jo(e,t,n,r){var i=e.doc,l;n==null&&(n="add"),n=="smart"&&(i.mode.indent?l=xn(e,t).state:n="prev");var h=e.options.tabSize,p=at(i,t),y=je(p.text,null,h);p.stateAfter&&(p.stateAfter=null);var b=p.text.match(/^\s*/)[0],O;if(!r&&!/\S/.test(p.text))O=0,n="not";else if(n=="smart"&&(O=i.mode.indent(l,p.text.slice(b.length),p.text),O==Ae||O>150)){if(!r)return;n="prev"}n=="prev"?t>i.first?O=je(at(i,t-1).text,null,h):O=0:n=="add"?O=y+e.options.indentUnit:n=="subtract"?O=y-e.options.indentUnit:typeof n=="number"&&(O=y+n),O=Math.max(0,O);var j="",se=0;if(e.options.indentWithTabs)for(var oe=Math.floor(O/h);oe;--oe)se+=h,j+="	";if(se<O&&(j+=Z(O-se)),j!=b)return Yi(i,j,Ne(t,0),Ne(t,b.length),"+input"),p.stateAfter=null,!0;for(var Le=0;Le<i.sel.ranges.length;Le++){var Ie=i.sel.ranges[Le];if(Ie.head.line==t&&Ie.head.ch<b.length){var Ge=Ne(t,b.length);ml(i,Le,new zt(Ge,Ge));break}}}var Bn=null;function ya(e){Bn=e}function Tl(e,t,n,r,i){var l=e.doc;e.display.shift=!1,r||(r=l.sel);var h=+new Date-200,p=i=="paste"||e.state.pasteIncoming>h,y=Mn(t),b=null;if(p&&r.ranges.length>1)if(Bn&&Bn.text.join(`
`)==t){if(r.ranges.length%Bn.text.length==0){b=[];for(var O=0;O<Bn.text.length;O++)b.push(l.splitLines(Bn.text[O]))}}else y.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(b=me(y,function(Xe){return[Xe]}));for(var j=e.curOp.updateInput,se=r.ranges.length-1;se>=0;se--){var oe=r.ranges[se],Le=oe.from(),Ie=oe.to();oe.empty()&&(n&&n>0?Le=Ne(Le.line,Le.ch-n):e.state.overwrite&&!p?Ie=Ne(Ie.line,Math.min(at(l,Ie.line).text.length,Ie.ch+he(y).length)):p&&Bn&&Bn.lineWise&&Bn.text.join(`
`)==y.join(`
`)&&(Le=Ie=Ne(Le.line,0)));var Ge={from:Le,to:Ie,text:b?b[se%b.length]:y,origin:i||(p?"paste":e.state.cutIncoming>h?"cut":"+input")};Xi(e.doc,Ge),Lr(e,"inputRead",e,Ge)}t&&!p&&Xu(e,t),qi(e),e.curOp.updateInput<2&&(e.curOp.updateInput=j),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function $u(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),!t.isReadOnly()&&!t.options.disableInput&&pn(t,function(){return Tl(t,n,0,null,"paste")}),!0}function Xu(e,t){if(!(!e.options.electricChars||!e.options.smartIndent))for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var l=e.getModeAt(i.head),h=!1;if(l.electricChars){for(var p=0;p<l.electricChars.length;p++)if(t.indexOf(l.electricChars.charAt(p))>-1){h=jo(e,i.head.line,"smart");break}}else l.electricInput&&l.electricInput.test(at(e.doc,i.head.line).text.slice(0,i.head.ch))&&(h=jo(e,i.head.line,"smart"));h&&Lr(e,"electricInput",e,i.head.line)}}}function Yu(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,l={anchor:Ne(i,0),head:Ne(i+1,0)};n.push(l),t.push(e.getRange(l.anchor,l.head))}return{text:t,ranges:n}}function Qu(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function Zu(){var e=te("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=te("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return H?e.style.width="1000px":e.setAttribute("wrap","off"),be&&(e.style.border="1px solid black"),Qu(e),t}function Jh(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(r,i){var l=this.options,h=l[r];l[r]==i&&r!="mode"||(l[r]=i,t.hasOwnProperty(r)&&Ar(this,t[r])(this,i,h),ot(this,"optionChange",this,r))},getOption:function(r){return this.options[r]},getDoc:function(){return this.doc},addKeyMap:function(r,i){this.state.keyMaps[i?"push":"unshift"](ga(r))},removeKeyMap:function(r){for(var i=this.state.keyMaps,l=0;l<i.length;++l)if(i[l]==r||i[l].name==r)return i.splice(l,1),!0},addOverlay:Gr(function(r,i){var l=r.token?r:e.getMode(this.options,r);if(l.startState)throw new Error("Overlays may not be stateful.");Te(this.state.overlays,{mode:l,modeSpec:r,opaque:i&&i.opaque,priority:i&&i.priority||0},function(h){return h.priority}),this.state.modeGen++,rn(this)}),removeOverlay:Gr(function(r){for(var i=this.state.overlays,l=0;l<i.length;++l){var h=i[l].modeSpec;if(h==r||typeof r=="string"&&h.name==r){i.splice(l,1),this.state.modeGen++,rn(this);return}}}),indentLine:Gr(function(r,i,l){typeof i!="string"&&typeof i!="number"&&(i==null?i=this.options.smartIndent?"smart":"prev":i=i?"add":"subtract"),Vr(this.doc,r)&&jo(this,r,i,l)}),indentSelection:Gr(function(r){for(var i=this.doc.sel.ranges,l=-1,h=0;h<i.length;h++){var p=i[h];if(p.empty())p.head.line>l&&(jo(this,p.head.line,r,!0),l=p.head.line,h==this.doc.sel.primIndex&&qi(this));else{var y=p.from(),b=p.to(),O=Math.max(l,y.line);l=Math.min(this.lastLine(),b.line-(b.ch?0:1))+1;for(var j=O;j<l;++j)jo(this,j,r);var se=this.doc.sel.ranges;y.ch==0&&i.length==se.length&&se[h].from().ch>0&&ml(this.doc,h,new zt(y,se[h].to()),ht)}}}),getTokenAt:function(r,i){return wn(this,r,i)},getLineTokens:function(r,i){return wn(this,Ne(r),i,!0)},getTokenTypeAt:function(r){r=Ze(this.doc,r);var i=En(this,at(this.doc,r.line)),l=0,h=(i.length-1)/2,p=r.ch,y;if(p==0)y=i[2];else for(;;){var b=l+h>>1;if((b?i[b*2-1]:0)>=p)h=b;else if(i[b*2+1]<p)l=b+1;else{y=i[b*2+2];break}}var O=y?y.indexOf("overlay "):-1;return O<0?y:O==0?null:y.slice(0,O-1)},getModeAt:function(r){var i=this.doc.mode;return i.innerMode?e.innerMode(i,this.getTokenAt(r).state).mode:i},getHelper:function(r,i){return this.getHelpers(r,i)[0]},getHelpers:function(r,i){var l=[];if(!n.hasOwnProperty(i))return l;var h=n[i],p=this.getModeAt(r);if(typeof p[i]=="string")h[p[i]]&&l.push(h[p[i]]);else if(p[i])for(var y=0;y<p[i].length;y++){var b=h[p[i][y]];b&&l.push(b)}else p.helperType&&h[p.helperType]?l.push(h[p.helperType]):h[p.name]&&l.push(h[p.name]);for(var O=0;O<h._global.length;O++){var j=h._global[O];j.pred(p,this)&&Fe(l,j.val)==-1&&l.push(j.val)}return l},getStateAfter:function(r,i){var l=this.doc;return r=St(l,r??l.first+l.size-1),xn(this,r+1,i).state},cursorCoords:function(r,i){var l,h=this.doc.sel.primary();return r==null?l=h.head:typeof r=="object"?l=Ze(this.doc,r):l=r?h.from():h.to(),Pn(this,l,i||"page")},charCoords:function(r,i){return ea(this,Ze(this.doc,r),i||"page")},coordsChar:function(r,i){return r=Ps(this,r,i||"page"),Ya(this,r.left,r.top)},lineAtHeight:function(r,i){return r=Ps(this,{top:r,left:0},i||"page").top,Xt(this.doc,r+this.display.viewOffset)},heightAtLine:function(r,i,l){var h=!1,p;if(typeof r=="number"){var y=this.doc.first+this.doc.size-1;r<this.doc.first?r=this.doc.first:r>y&&(r=y,h=!0),p=at(this.doc,r)}else p=r;return Vo(this,p,{top:0,left:0},i||"page",l||h).top+(h?this.doc.height-_e(p):0)},defaultTextHeight:function(){return Wi(this.display)},defaultCharWidth:function(){return Ki(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(r,i,l,h,p){var y=this.display;r=Pn(this,Ze(this.doc,r));var b=r.bottom,O=r.left;if(i.style.position="absolute",i.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(i),y.sizer.appendChild(i),h=="over")b=r.top;else if(h=="above"||h=="near"){var j=Math.max(y.wrapper.clientHeight,this.doc.height),se=Math.max(y.sizer.clientWidth,y.lineSpace.clientWidth);(h=="above"||r.bottom+i.offsetHeight>j)&&r.top>i.offsetHeight?b=r.top-i.offsetHeight:r.bottom+i.offsetHeight<=j&&(b=r.bottom),O+i.offsetWidth>se&&(O=se-i.offsetWidth)}i.style.top=b+"px",i.style.left=i.style.right="",p=="right"?(O=y.sizer.clientWidth-i.offsetWidth,i.style.right="0px"):(p=="left"?O=0:p=="middle"&&(O=(y.sizer.clientWidth-i.offsetWidth)/2),i.style.left=O+"px"),l&&Uc(this,{left:O,top:b,right:O+i.offsetWidth,bottom:b+i.offsetHeight})},triggerOnKeyDown:Gr(Hu),triggerOnKeyPress:Gr(ju),triggerOnKeyUp:zu,triggerOnMouseDown:Gr(Wu),execCommand:function(r){if(Ro.hasOwnProperty(r))return Ro[r].call(null,this)},triggerElectric:Gr(function(r){Xu(this,r)}),findPosH:function(r,i,l,h){var p=1;i<0&&(p=-1,i=-i);for(var y=Ze(this.doc,r),b=0;b<i&&(y=Ll(this.doc,y,p,l,h),!y.hitSide);++b);return y},moveH:Gr(function(r,i){var l=this;this.extendSelectionsBy(function(h){return l.display.shift||l.doc.extend||h.empty()?Ll(l.doc,h.head,r,i,l.options.rtlMoveVisually):r<0?h.from():h.to()},$e)}),deleteH:Gr(function(r,i){var l=this.doc.sel,h=this.doc;l.somethingSelected()?h.replaceSelection("",null,"+delete"):Vi(this,function(p){var y=Ll(h,p.head,r,i,!1);return r<0?{from:y,to:p.head}:{from:p.head,to:y}})}),findPosV:function(r,i,l,h){var p=1,y=h;i<0&&(p=-1,i=-i);for(var b=Ze(this.doc,r),O=0;O<i;++O){var j=Pn(this,b,"div");if(y==null?y=j.left:j.left=y,b=Vu(this,j,p,l),b.hitSide)break}return b},moveV:Gr(function(r,i){var l=this,h=this.doc,p=[],y=!this.display.shift&&!h.extend&&h.sel.somethingSelected();if(h.extendSelectionsBy(function(O){if(y)return r<0?O.from():O.to();var j=Pn(l,O.head,"div");O.goalColumn!=null&&(j.left=O.goalColumn),p.push(j.left);var se=Vu(l,j,r,i);return i=="page"&&O==h.sel.primary()&&al(l,ea(l,se,"div").top-j.top),se},$e),p.length)for(var b=0;b<h.sel.ranges.length;b++)h.sel.ranges[b].goalColumn=p[b]}),findWordAt:function(r){var i=this.doc,l=at(i,r.line).text,h=r.ch,p=r.ch;if(l){var y=this.getHelper(r,"wordChars");(r.sticky=="before"||p==l.length)&&h?--h:++p;for(var b=l.charAt(h),O=F(b,y)?function(j){return F(j,y)}:/\s/.test(b)?function(j){return/\s/.test(j)}:function(j){return!/\s/.test(j)&&!F(j)};h>0&&O(l.charAt(h-1));)--h;for(;p<l.length&&O(l.charAt(p));)++p}return new zt(Ne(r.line,h),Ne(r.line,p))},toggleOverwrite:function(r){r!=null&&r==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ye(this.display.cursorDiv,"CodeMirror-overwrite"):U(this.display.cursorDiv,"CodeMirror-overwrite"),ot(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ze()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Gr(function(r,i){ko(this,r,i)}),getScrollInfo:function(){var r=this.display.scroller;return{left:r.scrollLeft,top:r.scrollTop,height:r.scrollHeight-zn(this)-this.display.barHeight,width:r.scrollWidth-zn(this)-this.display.barWidth,clientHeight:Ga(this),clientWidth:ki(this)}},scrollIntoView:Gr(function(r,i){r==null?(r={from:this.doc.sel.primary().head,to:null},i==null&&(i=this.options.cursorScrollMargin)):typeof r=="number"?r={from:Ne(r,0),to:null}:r.from==null&&(r={from:r,to:null}),r.to||(r.to=r.from),r.margin=i||0,r.from.line!=null?qc(this,r):qs(this,r.from,r.to,r.margin)}),setSize:Gr(function(r,i){var l=this,h=function(y){return typeof y=="number"||/^\d+$/.test(String(y))?y+"px":y};r!=null&&(this.display.wrapper.style.width=h(r)),i!=null&&(this.display.wrapper.style.height=h(i)),this.options.lineWrapping&&Is(this);var p=this.display.viewFrom;this.doc.iter(p,this.display.viewTo,function(y){if(y.widgets){for(var b=0;b<y.widgets.length;b++)if(y.widgets[b].noHScroll){ai(l,p,"widget");break}}++p}),this.curOp.forceUpdate=!0,ot(this,"refresh",this)}),operation:function(r){return pn(this,r)},startOperation:function(){return Mi(this)},endOperation:function(){return _i(this)},refresh:Gr(function(){var r=this.display.cachedTextHeight;rn(this),this.curOp.forceUpdate=!0,bo(this),ko(this,this.doc.scrollLeft,this.doc.scrollTop),ul(this.display),(r==null||Math.abs(r-Wi(this.display))>.5||this.options.lineWrapping)&&el(this),ot(this,"refresh",this)}),swapDoc:Gr(function(r){var i=this.doc;return i.cm=null,this.state.selectingText&&this.state.selectingText(),ou(this,r),bo(this),this.display.input.reset(),ko(this,r.scrollLeft,r.scrollTop),this.curOp.forceScroll=!0,Lr(this,"swapDoc",this,i),i}),phrase:function(r){var i=this.options.phrases;return i&&Object.prototype.hasOwnProperty.call(i,r)?i[r]:r},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},rr(e),e.registerHelper=function(r,i,l){n.hasOwnProperty(r)||(n[r]=e[r]={_global:[]}),n[r][i]=l},e.registerGlobalHelper=function(r,i,l,h){e.registerHelper(r,i,h),n[r]._global.push({pred:l,val:h})}}function Ll(e,t,n,r,i){var l=t,h=n,p=at(e,t.line),y=i&&e.direction=="rtl"?-n:n;function b(){var rt=t.line+y;return rt<e.first||rt>=e.first+e.size?!1:(t=new Ne(rt,t.ch,t.sticky),p=at(e,rt))}function O(rt){var Ye;if(r=="codepoint"){var st=p.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(st))Ye=null;else{var pt=n>0?st>=55296&&st<56320:st>=56320&&st<57343;Ye=new Ne(t.line,Math.max(0,Math.min(p.text.length,t.ch+n*(pt?2:1))),-n)}}else i?Ye=Mh(e.cm,p,t,n):Ye=xl(p,t,n);if(Ye==null)if(!rt&&b())t=bl(i,e.cm,p,t.line,y);else return!1;else t=Ye;return!0}if(r=="char"||r=="codepoint")O();else if(r=="column")O(!0);else if(r=="word"||r=="group")for(var j=null,se=r=="group",oe=e.cm&&e.cm.getHelper(t,"wordChars"),Le=!0;!(n<0&&!O(!Le));Le=!1){var Ie=p.text.charAt(t.ch)||`
`,Ge=F(Ie,oe)?"w":se&&Ie==`
`?"n":!se||/\s/.test(Ie)?null:"p";if(se&&!Le&&!Ge&&(Ge="s"),j&&j!=Ge){n<0&&(n=1,O(),t.sticky="after");break}if(Ge&&(j=Ge),n>0&&!O(!Le))break}var Xe=ha(e,t,l,h,!0);return B(l,Xe)&&(Xe.hitSide=!0),Xe}function Vu(e,t,n,r){var i=e.doc,l=t.left,h;if(r=="page"){var p=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),y=Math.max(p-.5*Wi(e.display),3);h=(n>0?t.bottom:t.top)+n*y}else r=="line"&&(h=n>0?t.bottom+3:t.top-3);for(var b;b=Ya(e,l,h),!!b.outside;){if(n<0?h<=0:h>=i.height){b.hitSide=!0;break}h+=n*5}return b}var Ut=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Je,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Ut.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;i.contentEditable=!0,Qu(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize);function l(p){for(var y=p.target;y;y=y.parentNode){if(y==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(y.className))break}return!1}et(i,"paste",function(p){!l(p)||Rt(r,p)||$u(p,r)||z<=11&&setTimeout(Ar(r,function(){return t.updateFromDOM()}),20)}),et(i,"compositionstart",function(p){t.composing={data:p.data,done:!1}}),et(i,"compositionupdate",function(p){t.composing||(t.composing={data:p.data,done:!1})}),et(i,"compositionend",function(p){t.composing&&(p.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),et(i,"touchstart",function(){return n.forceCompositionEnd()}),et(i,"input",function(){t.composing||t.readFromDOMSoon()});function h(p){if(!(!l(p)||Rt(r,p))){if(r.somethingSelected())ya({lineWise:!1,text:r.getSelections()}),p.type=="cut"&&r.replaceSelection("",null,"cut");else if(r.options.lineWiseCopyCut){var y=Yu(r);ya({lineWise:!0,text:y.text}),p.type=="cut"&&r.operation(function(){r.setSelections(y.ranges,0,ht),r.replaceSelection("",null,"cut")})}else return;if(p.clipboardData){p.clipboardData.clearData();var b=Bn.text.join(`
`);if(p.clipboardData.setData("Text",b),p.clipboardData.getData("Text")==b){p.preventDefault();return}}var O=Zu(),j=O.firstChild;r.display.lineSpace.insertBefore(O,r.display.lineSpace.firstChild),j.value=Bn.text.join(`
`);var se=ze();Qe(j),setTimeout(function(){r.display.lineSpace.removeChild(O),se.focus(),se==i&&n.showPrimarySelection()},50)}}et(i,"copy",h),et(i,"cut",h)},Ut.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Ut.prototype.prepareSelection=function(){var e=Ws(this.cm,!1);return e.focus=ze()==this.div,e},Ut.prototype.showSelection=function(e,t){!e||!this.cm.display.view.length||((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ut.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ut.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),r=n.from(),i=n.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||i.line<t.display.viewFrom){e.removeAllRanges();return}var l=xa(t,e.anchorNode,e.anchorOffset),h=xa(t,e.focusNode,e.focusOffset);if(!(l&&!l.bad&&h&&!h.bad&&w(ft(l,h),r)==0&&w(He(l,h),i)==0)){var p=t.display.view,y=r.line>=t.display.viewFrom&&ef(t,r)||{node:p[0].measure.map[2],offset:0},b=i.line<t.display.viewTo&&ef(t,i);if(!b){var O=p[p.length-1].measure,j=O.maps?O.maps[O.maps.length-1]:O.map;b={node:j[j.length-1],offset:j[j.length-2]-j[j.length-3]}}if(!y||!b){e.removeAllRanges();return}var se=e.rangeCount&&e.getRangeAt(0),oe;try{oe=Se(y.node,y.offset,b.offset,b.node)}catch{}oe&&(!x&&t.state.focused?(e.collapse(y.node,y.offset),oe.collapsed||(e.removeAllRanges(),e.addRange(oe))):(e.removeAllRanges(),e.addRange(oe)),se&&e.anchorNode==null?e.addRange(se):x&&this.startGracePeriod()),this.rememberSelection()}},Ut.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},Ut.prototype.showMultipleSelections=function(e){J(this.cm.display.cursorDiv,e.cursors),J(this.cm.display.selectionDiv,e.selection)},Ut.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ut.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return ke(this.div,t)},Ut.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ze()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ut.prototype.blur=function(){this.div.blur()},Ut.prototype.getField=function(){return this.div},Ut.prototype.supportsTouch=function(){return!0},Ut.prototype.receivedFocus=function(){var e=this,t=this;this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):pn(this.cm,function(){return t.cm.curOp.selectionChanged=!0});function n(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,n))}this.polling.set(this.cm.options.pollInterval,n)},Ut.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ut.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var e=this.getSelection(),t=this.cm;if(ie&&D&&this.cm.display.gutterSpecs.length&&$h(e.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var n=xa(t,e.anchorNode,e.anchorOffset),r=xa(t,e.focusNode,e.focusOffset);n&&r&&pn(t,function(){Rr(t.doc,si(n,r),ht),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},Ut.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,n=e.doc.sel.primary(),r=n.from(),i=n.to();if(r.ch==0&&r.line>e.firstLine()&&(r=Ne(r.line-1,at(e.doc,r.line-1).length)),i.ch==at(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=Ne(i.line+1,0)),r.line<t.viewFrom||i.line>t.viewTo-1)return!1;var l,h,p;r.line==t.viewFrom||(l=Ti(e,r.line))==0?(h=Ct(t.view[0].line),p=t.view[0].node):(h=Ct(t.view[l].line),p=t.view[l-1].node.nextSibling);var y=Ti(e,i.line),b,O;if(y==t.view.length-1?(b=t.viewTo-1,O=t.lineDiv.lastChild):(b=Ct(t.view[y+1].line)-1,O=t.view[y+1].node.previousSibling),!p)return!1;for(var j=e.doc.splitLines(Xh(e,p,O,h,b)),se=vr(e.doc,Ne(h,0),Ne(b,at(e.doc,b).text.length));j.length>1&&se.length>1;)if(he(j)==he(se))j.pop(),se.pop(),b--;else if(j[0]==se[0])j.shift(),se.shift(),h++;else break;for(var oe=0,Le=0,Ie=j[0],Ge=se[0],Xe=Math.min(Ie.length,Ge.length);oe<Xe&&Ie.charCodeAt(oe)==Ge.charCodeAt(oe);)++oe;for(var rt=he(j),Ye=he(se),st=Math.min(rt.length-(j.length==1?oe:0),Ye.length-(se.length==1?oe:0));Le<st&&rt.charCodeAt(rt.length-Le-1)==Ye.charCodeAt(Ye.length-Le-1);)++Le;if(j.length==1&&se.length==1&&h==r.line)for(;oe&&oe>r.ch&&rt.charCodeAt(rt.length-Le-1)==Ye.charCodeAt(Ye.length-Le-1);)oe--,Le++;j[j.length-1]=rt.slice(0,rt.length-Le).replace(/^\u200b+/,""),j[0]=j[0].slice(oe).replace(/\u200b+$/,"");var pt=Ne(h,oe),ct=Ne(b,se.length?he(se).length-Le:0);if(j.length>1||j[0]||w(pt,ct))return Yi(e.doc,j,pt,ct,"+input"),!0},Ut.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ut.prototype.reset=function(){this.forceCompositionEnd()},Ut.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ut.prototype.readFromDOMSoon=function(){var e=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing)if(e.composing.done)e.composing=null;else return;e.updateFromDOM()},80))},Ut.prototype.updateFromDOM=function(){var e=this;(this.cm.isReadOnly()||!this.pollContent())&&pn(this.cm,function(){return rn(e.cm)})},Ut.prototype.setUneditable=function(e){e.contentEditable="false"},Ut.prototype.onKeyPress=function(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Ar(this.cm,Tl)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))},Ut.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},Ut.prototype.onContextMenu=function(){},Ut.prototype.resetPosition=function(){},Ut.prototype.needsContentAttribute=!0;function ef(e,t){var n=Ja(e,t.line);if(!n||n.hidden)return null;var r=at(e.doc,t.line),i=Ms(n,r,t.line),l=Jt(r,e.doc.direction),h="left";if(l){var p=gt(l,t.ch);h=p%2?"right":"left"}var y=Os(i.map,t.ch,h);return y.offset=y.collapse=="right"?y.end:y.start,y}function $h(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function to(e,t){return t&&(e.bad=!0),e}function Xh(e,t,n,r,i){var l="",h=!1,p=e.doc.lineSeparator(),y=!1;function b(oe){return function(Le){return Le.id==oe}}function O(){h&&(l+=p,y&&(l+=p),h=y=!1)}function j(oe){oe&&(O(),l+=oe)}function se(oe){if(oe.nodeType==1){var Le=oe.getAttribute("cm-text");if(Le){j(Le);return}var Ie=oe.getAttribute("cm-marker"),Ge;if(Ie){var Xe=e.findMarks(Ne(r,0),Ne(i+1,0),b(+Ie));Xe.length&&(Ge=Xe[0].find(0))&&j(vr(e.doc,Ge.from,Ge.to).join(p));return}if(oe.getAttribute("contenteditable")=="false")return;var rt=/^(pre|div|p|li|table|br)$/i.test(oe.nodeName);if(!/^br$/i.test(oe.nodeName)&&oe.textContent.length==0)return;rt&&O();for(var Ye=0;Ye<oe.childNodes.length;Ye++)se(oe.childNodes[Ye]);/^(pre|p)$/i.test(oe.nodeName)&&(y=!0),rt&&(h=!0)}else oe.nodeType==3&&j(oe.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;se(t),t!=n;)t=t.nextSibling,y=!1;return l}function xa(e,t,n){var r;if(t==e.display.lineDiv){if(r=e.display.lineDiv.childNodes[n],!r)return to(e.clipPos(Ne(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var l=e.display.view[i];if(l.node==r)return Yh(l,t,n)}}function Yh(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!ke(r,t))return to(Ne(Ct(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var l=e.rest?he(e.rest):e.line;return to(Ne(Ct(l),l.text.length),i)}var h=t.nodeType==3?t:null,p=t;for(!h&&t.childNodes.length==1&&t.firstChild.nodeType==3&&(h=t.firstChild,n&&(n=h.nodeValue.length));p.parentNode!=r;)p=p.parentNode;var y=e.measure,b=y.maps;function O(Ge,Xe,rt){for(var Ye=-1;Ye<(b?b.length:0);Ye++)for(var st=Ye<0?y.map:b[Ye],pt=0;pt<st.length;pt+=3){var ct=st[pt+2];if(ct==Ge||ct==Xe){var Lt=Ct(Ye<0?e.line:e.rest[Ye]),Yt=st[pt]+rt;return(rt<0||ct!=Ge)&&(Yt=st[pt+(rt?1:0)]),Ne(Lt,Yt)}}}var j=O(h,p,n);if(j)return to(j,i);for(var se=p.nextSibling,oe=h?h.nodeValue.length-n:0;se;se=se.nextSibling){if(j=O(se,se.firstChild,0),j)return to(Ne(j.line,j.ch-oe),i);oe+=se.textContent.length}for(var Le=p.previousSibling,Ie=n;Le;Le=Le.previousSibling){if(j=O(Le,Le.firstChild,-1),j)return to(Ne(j.line,j.ch+Ie),i);Ie+=Le.textContent.length}}var pr=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Je,this.hasSelection=!1,this.composing=null};pr.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),be&&(i.style.width="0px"),et(i,"input",function(){S&&z>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()}),et(i,"paste",function(h){Rt(r,h)||$u(h,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())});function l(h){if(!Rt(r,h)){if(r.somethingSelected())ya({lineWise:!1,text:r.getSelections()});else if(r.options.lineWiseCopyCut){var p=Yu(r);ya({lineWise:!0,text:p.text}),h.type=="cut"?r.setSelections(p.ranges,null,ht):(n.prevInput="",i.value=p.text.join(`
`),Qe(i))}else return;h.type=="cut"&&(r.state.cutIncoming=+new Date)}}et(i,"cut",l),et(i,"copy",l),et(e.scroller,"paste",function(h){if(!(Qn(e,h)||Rt(r,h))){if(!i.dispatchEvent){r.state.pasteIncoming=+new Date,n.focus();return}var p=new Event("paste");p.clipboardData=h.clipboardData,i.dispatchEvent(p)}}),et(e.lineSpace,"selectstart",function(h){Qn(e,h)||nr(h)}),et(i,"compositionstart",function(){var h=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:h,range:r.markText(h,r.getCursor("to"),{className:"CodeMirror-composing"})}}),et(i,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},pr.prototype.createField=function(e){this.wrapper=Zu(),this.textarea=this.wrapper.firstChild},pr.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},pr.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Ws(e);if(e.options.moveInputWithCursor){var i=Pn(e,n.sel.primary().head,"div"),l=t.wrapper.getBoundingClientRect(),h=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+h.top-l.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+h.left-l.left))}return r},pr.prototype.showSelection=function(e){var t=this.cm,n=t.display;J(n.cursorDiv,e.cursors),J(n.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},pr.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing)){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&Qe(this.textarea),S&&z>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",S&&z>=9&&(this.hasSelection=null))}},pr.prototype.getField=function(){return this.textarea},pr.prototype.supportsTouch=function(){return!1},pr.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!Q||ze()!=this.textarea))try{this.textarea.focus()}catch{}},pr.prototype.blur=function(){this.textarea.blur()},pr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},pr.prototype.receivedFocus=function(){this.slowPoll()},pr.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},pr.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0;function n(){var r=t.poll();!r&&!e?(e=!0,t.polling.set(60,n)):(t.pollingFast=!1,t.slowPoll())}t.polling.set(20,n)},pr.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||_n(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(S&&z>=9&&this.hasSelection===i||ne&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var l=i.charCodeAt(0);if(l==8203&&!r&&(r="\u200B"),l==8666)return this.reset(),this.cm.execCommand("undo")}for(var h=0,p=Math.min(r.length,i.length);h<p&&r.charCodeAt(h)==i.charCodeAt(h);)++h;return pn(t,function(){Tl(t,i.slice(h),r.length-h,null,e.composing?"*compose":null),i.length>1e3||i.indexOf(`
`)>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},pr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},pr.prototype.onKeyPress=function(){S&&z>=9&&(this.hasSelection=null),this.fastPoll()},pr.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var l=Si(n,e),h=r.scroller.scrollTop;if(!l||G)return;var p=n.options.resetSelectionOnContextMenu;p&&n.doc.sel.contains(l)==-1&&Ar(n,Rr)(n.doc,si(l),ht);var y=i.style.cssText,b=t.wrapper.style.cssText,O=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",i.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(e.clientY-O.top-5)+"px; left: "+(e.clientX-O.left-5)+`px;
      z-index: 1000; background: `+(S?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var j;H&&(j=window.scrollY),r.input.focus(),H&&window.scrollTo(null,j),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=oe,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll);function se(){if(i.selectionStart!=null){var Ie=n.somethingSelected(),Ge="\u200B"+(Ie?i.value:"");i.value="\u21DA",i.value=Ge,t.prevInput=Ie?"":"\u200B",i.selectionStart=1,i.selectionEnd=Ge.length,r.selForContextMenu=n.doc.sel}}function oe(){if(t.contextMenuPending==oe&&(t.contextMenuPending=!1,t.wrapper.style.cssText=b,i.style.cssText=y,S&&z<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=h),i.selectionStart!=null)){(!S||S&&z<9)&&se();var Ie=0,Ge=function(){r.selForContextMenu==n.doc.sel&&i.selectionStart==0&&i.selectionEnd>0&&t.prevInput=="\u200B"?Ar(n,yu)(n):Ie++<10?r.detectingSelectAll=setTimeout(Ge,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(Ge,200)}}if(S&&z>=9&&se(),fe){mn(e);var Le=function(){kt(window,"mouseup",Le),setTimeout(oe,20)};et(window,"mouseup",Le)}else setTimeout(oe,50)},pr.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e},pr.prototype.setUneditable=function(){},pr.prototype.needsContentAttribute=!1;function Qh(e,t){if(t=t?T(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),t.autofocus==null){var n=ze();t.autofocus=n==e||e.getAttribute("autofocus")!=null&&n==document.body}function r(){e.value=p.getValue()}var i;if(e.form&&(et(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var l=e.form;i=l.submit;try{var h=l.submit=function(){r(),l.submit=i,l.submit(),l.submit=h}}catch{}}t.finishInit=function(y){y.save=r,y.getTextArea=function(){return e},y.toTextArea=function(){y.toTextArea=isNaN,r(),e.parentNode.removeChild(y.getWrapperElement()),e.style.display="",e.form&&(kt(e.form,"submit",r),!t.leaveSubmitMethodAlone&&typeof e.form.submit=="function"&&(e.form.submit=i))}},e.style.display="none";var p=tr(function(y){return e.parentNode.insertBefore(y,e.nextSibling)},t);return p}function Zh(e){e.off=kt,e.on=et,e.wheelEventPixels=oh,e.Doc=nn,e.splitLines=Mn,e.countColumn=je,e.findColumn=nt,e.isWordChar=ce,e.Pass=Ae,e.signal=ot,e.Line=tt,e.changeEnd=ui,e.scrollbarModel=$s,e.Pos=Ne,e.cmpPos=w,e.modes=Dt,e.mimeModes=gr,e.resolveMode=hn,e.getMode=Zr,e.modeExtensions=Or,e.extendMode=wr,e.copyState=hr,e.startState=ir,e.innerMode=Dr,e.commands=Ro,e.keyMap=Vn,e.keyName=Du,e.isModifierKey=Fu,e.lookupKey=Zi,e.normalizeKeyMap=Ah,e.StringStream=Bt,e.SharedTextMarker=Do,e.TextMarker=ci,e.LineWidget=Io,e.e_preventDefault=nr,e.e_stopPropagation=zr,e.e_stop=mn,e.addClass=ye,e.contains=ke,e.rmClass=U,e.keyNames=hi}Kh(tr),Jh(tr);var Vh="iter insert remove copy getEditor constructor".split(" ");for(var ba in nn.prototype)nn.prototype.hasOwnProperty(ba)&&Fe(Vh,ba)<0&&(tr.prototype[ba]=function(e){return function(){return e.apply(this.doc,arguments)}}(nn.prototype[ba]));return rr(nn),tr.inputStyles={textarea:pr,contenteditable:Ut},tr.defineMode=function(e){!tr.defaults.mode&&e!="null"&&(tr.defaults.mode=e),er.apply(this,arguments)},tr.defineMIME=Ir,tr.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),tr.defineMIME("text/plain","null"),tr.defineExtension=function(e,t){tr.prototype[e]=t},tr.defineDocExtension=function(e,t){nn.prototype[e]=t},tr.fromTextArea=Qh,Zh(tr),tr.version="5.65.1",tr})})(Ln);var _g={exports:{}};(function(a,f){(function(c){c(Ln.exports)})(function(c){c.defineMode("javascript",function(g,x){var k=g.indentUnit,_=x.statementIndent,C=x.jsonld,S=x.json||C,z=x.trackScope!==!1,H=x.typescript,V=x.wordCharacters||/[\w$\xa1-\uffff]/,D=function(){function w(Kt){return{type:Kt,style:"keyword"}}var B=w("keyword a"),Ee=w("keyword b"),He=w("keyword c"),ft=w("keyword d"),St=w("operator"),Ze={type:"atom",style:"atom"};return{if:w("if"),while:B,with:B,else:Ee,do:Ee,try:Ee,finally:Ee,return:ft,break:ft,continue:ft,new:w("new"),delete:He,void:He,throw:He,debugger:w("debugger"),var:w("var"),const:w("var"),let:w("var"),function:w("function"),catch:w("catch"),for:w("for"),switch:w("switch"),case:w("case"),default:w("default"),in:St,typeof:St,instanceof:St,true:Ze,false:Ze,null:Ze,undefined:Ze,NaN:Ze,Infinity:Ze,this:w("this"),class:w("class"),super:w("atom"),yield:He,export:w("export"),import:w("import"),extends:He,await:He}}(),G=/[+\-*&%=<>!?|~^@]/,K=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function ge(w){for(var B=!1,Ee,He=!1;(Ee=w.next())!=null;){if(!B){if(Ee=="/"&&!He)return;Ee=="["?He=!0:He&&Ee=="]"&&(He=!1)}B=!B&&Ee=="\\"}}var ae,be;function ie(w,B,Ee){return ae=w,be=Ee,B}function Q(w,B){var Ee=w.next();if(Ee=='"'||Ee=="'")return B.tokenize=ne(Ee),B.tokenize(w,B);if(Ee=="."&&w.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return ie("number","number");if(Ee=="."&&w.match(".."))return ie("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Ee))return ie(Ee);if(Ee=="="&&w.eat(">"))return ie("=>","operator");if(Ee=="0"&&w.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return ie("number","number");if(/\d/.test(Ee))return w.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),ie("number","number");if(Ee=="/")return w.eat("*")?(B.tokenize=pe,pe(w,B)):w.eat("/")?(w.skipToEnd(),ie("comment","comment")):Ne(w,B,1)?(ge(w),w.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),ie("regexp","string-2")):(w.eat("="),ie("operator","operator",w.current()));if(Ee=="`")return B.tokenize=ve,ve(w,B);if(Ee=="#"&&w.peek()=="!")return w.skipToEnd(),ie("meta","meta");if(Ee=="#"&&w.eatWhile(V))return ie("variable","property");if(Ee=="<"&&w.match("!--")||Ee=="-"&&w.match("->")&&!/\S/.test(w.string.slice(0,w.start)))return w.skipToEnd(),ie("comment","comment");if(G.test(Ee))return(Ee!=">"||!B.lexical||B.lexical.type!=">")&&(w.eat("=")?(Ee=="!"||Ee=="=")&&w.eat("="):/[<>*+\-|&?]/.test(Ee)&&(w.eat(Ee),Ee==">"&&w.eat(Ee))),Ee=="?"&&w.eat(".")?ie("."):ie("operator","operator",w.current());if(V.test(Ee)){w.eatWhile(V);var He=w.current();if(B.lastType!="."){if(D.propertyIsEnumerable(He)){var ft=D[He];return ie(ft.type,ft.style,He)}if(He=="async"&&w.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return ie("async","keyword",He)}return ie("variable","variable",He)}}function ne(w){return function(B,Ee){var He=!1,ft;if(C&&B.peek()=="@"&&B.match(K))return Ee.tokenize=Q,ie("jsonld-keyword","meta");for(;(ft=B.next())!=null&&!(ft==w&&!He);)He=!He&&ft=="\\";return He||(Ee.tokenize=Q),ie("string","string")}}function pe(w,B){for(var Ee=!1,He;He=w.next();){if(He=="/"&&Ee){B.tokenize=Q;break}Ee=He=="*"}return ie("comment","comment")}function ve(w,B){for(var Ee=!1,He;(He=w.next())!=null;){if(!Ee&&(He=="`"||He=="$"&&w.eat("{"))){B.tokenize=Q;break}Ee=!Ee&&He=="\\"}return ie("quasi","string-2",w.current())}var E="([{}])";function $(w,B){B.fatArrowAt&&(B.fatArrowAt=null);var Ee=w.string.indexOf("=>",w.start);if(!(Ee<0)){if(H){var He=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(w.string.slice(w.start,Ee));He&&(Ee=He.index)}for(var ft=0,St=!1,Ze=Ee-1;Ze>=0;--Ze){var Kt=w.string.charAt(Ze),bt=E.indexOf(Kt);if(bt>=0&&bt<3){if(!ft){++Ze;break}if(--ft==0){Kt=="("&&(St=!0);break}}else if(bt>=3&&bt<6)++ft;else if(V.test(Kt))St=!0;else if(/["'\/`]/.test(Kt))for(;;--Ze){if(Ze==0)return;var en=w.string.charAt(Ze-1);if(en==Kt&&w.string.charAt(Ze-2)!="\\"){Ze--;break}}else if(St&&!ft){++Ze;break}}St&&!ft&&(B.fatArrowAt=Ze)}}var fe={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function Y(w,B,Ee,He,ft,St){this.indented=w,this.column=B,this.type=Ee,this.prev=ft,this.info=St,He!=null&&(this.align=He)}function U(w,B){if(!z)return!1;for(var Ee=w.localVars;Ee;Ee=Ee.next)if(Ee.name==B)return!0;for(var He=w.context;He;He=He.prev)for(var Ee=He.vars;Ee;Ee=Ee.next)if(Ee.name==B)return!0}function Oe(w,B,Ee,He,ft){var St=w.cc;for(J.state=w,J.stream=ft,J.marked=null,J.cc=St,J.style=B,w.lexical.hasOwnProperty("align")||(w.lexical.align=!0);;){var Ze=St.length?St.pop():S?$e:ht;if(Ze(Ee,He)){for(;St.length&&St[St.length-1].lex;)St.pop()();return J.marked?J.marked:Ee=="variable"&&U(w,He)?"variable-2":B}}}var J={state:null,column:null,marked:null,cc:null};function te(){for(var w=arguments.length-1;w>=0;w--)J.cc.push(arguments[w])}function A(){return te.apply(null,arguments),!0}function Se(w,B){for(var Ee=B;Ee;Ee=Ee.next)if(Ee.name==w)return!0;return!1}function ke(w){var B=J.state;if(J.marked="def",!!z){if(B.context){if(B.lexical.info=="var"&&B.context&&B.context.block){var Ee=ze(w,B.context);if(Ee!=null){B.context=Ee;return}}else if(!Se(w,B.localVars)){B.localVars=new Qe(w,B.localVars);return}}x.globalVars&&!Se(w,B.globalVars)&&(B.globalVars=new Qe(w,B.globalVars))}}function ze(w,B){if(B)if(B.block){var Ee=ze(w,B.prev);return Ee?Ee==B.prev?B:new Be(Ee,B.vars,!0):null}else return Se(w,B.vars)?B:new Be(B.prev,new Qe(w,B.vars),!1);else return null}function ye(w){return w=="public"||w=="private"||w=="protected"||w=="abstract"||w=="readonly"}function Be(w,B,Ee){this.prev=w,this.vars=B,this.block=Ee}function Qe(w,B){this.name=w,this.next=B}var W=new Qe("this",new Qe("arguments",null));function T(){J.state.context=new Be(J.state.context,J.state.localVars,!1),J.state.localVars=W}function je(){J.state.context=new Be(J.state.context,J.state.localVars,!0),J.state.localVars=null}T.lex=je.lex=!0;function Je(){J.state.localVars=J.state.context.vars,J.state.context=J.state.context.prev}Je.lex=!0;function Fe(w,B){var Ee=function(){var He=J.state,ft=He.indented;if(He.lexical.type=="stat")ft=He.lexical.indented;else for(var St=He.lexical;St&&St.type==")"&&St.align;St=St.prev)ft=St.indented;He.lexical=new Y(ft,J.stream.column(),w,null,He.lexical,B)};return Ee.lex=!0,Ee}function qe(){var w=J.state;w.lexical.prev&&(w.lexical.type==")"&&(w.indented=w.lexical.indented),w.lexical=w.lexical.prev)}qe.lex=!0;function Ae(w){function B(Ee){return Ee==w?A():w==";"||Ee=="}"||Ee==")"||Ee=="]"?te():A(B)}return B}function ht(w,B){return w=="var"?A(Fe("vardef",B),An,Ae(";"),qe):w=="keyword a"?A(Fe("form"),P,ht,qe):w=="keyword b"?A(Fe("form"),ht,qe):w=="keyword d"?J.stream.match(/^\s*$/,!1)?A():A(Fe("stat"),he,Ae(";"),qe):w=="debugger"?A(Ae(";")):w=="{"?A(Fe("}"),je,Jt,qe,Je):w==";"?A():w=="if"?(J.state.lexical.info=="else"&&J.state.cc[J.state.cc.length-1]==qe&&J.state.cc.pop()(),A(Fe("form"),P,ht,qe,_n)):w=="function"?A(Dt):w=="for"?A(Fe("form"),je,Tr,ht,Je,qe):w=="class"||H&&B=="interface"?(J.marked="keyword",A(Fe("form",w=="class"?w:B),Zr,qe)):w=="variable"?H&&B=="declare"?(J.marked="keyword",A(ht)):H&&(B=="module"||B=="enum"||B=="type")&&J.stream.match(/^\s*\w/,!1)?(J.marked="keyword",B=="enum"?A(Xt):B=="type"?A(er,Ae("operator"),ot,Ae(";")):A(Fe("form"),Wt,Ae("{"),Fe("}"),Jt,qe,qe)):H&&B=="namespace"?(J.marked="keyword",A(Fe("form"),$e,ht,qe)):H&&B=="abstract"?(J.marked="keyword",A(ht)):A(Fe("stat"),Ke):w=="switch"?A(Fe("form"),P,Ae("{"),Fe("}","switch"),je,Jt,qe,qe,Je):w=="case"?A($e,Ae(":")):w=="default"?A(Ae(":")):w=="catch"?A(Fe("form"),T,it,ht,qe,Je):w=="export"?A(Fe("stat"),Dr,qe):w=="import"?A(Fe("stat"),Bt,qe):w=="async"?A(ht):B=="@"?A($e,ht):te(Fe("stat"),$e,Ae(";"),qe)}function it(w){if(w=="(")return A(Ir,Ae(")"))}function $e(w,B){return Z(w,B,!1)}function nt(w,B){return Z(w,B,!0)}function P(w){return w!="("?te():A(Fe(")"),he,Ae(")"),qe)}function Z(w,B,Ee){if(J.state.fatArrowAt==J.stream.start){var He=Ee?ce:xe;if(w=="(")return A(T,Fe(")"),gt(Ir,")"),qe,Ae("=>"),He,Je);if(w=="variable")return te(T,Wt,Ae("=>"),He,Je)}var ft=Ee?Te:me;return fe.hasOwnProperty(w)?A(ft):w=="function"?A(Dt,ft):w=="class"||H&&B=="interface"?(J.marked="keyword",A(Fe("form"),hn,qe)):w=="keyword c"||w=="async"?A(Ee?nt:$e):w=="("?A(Fe(")"),he,Ae(")"),qe,ft):w=="operator"||w=="spread"?A(Ee?nt:$e):w=="["?A(Fe("]"),Ct,qe,ft):w=="{"?Qt(vt,"}",null,ft):w=="quasi"?te(De,ft):w=="new"?A(F(Ee)):A()}function he(w){return w.match(/[;\}\)\],]/)?te():te($e)}function me(w,B){return w==","?A(he):Te(w,B,!1)}function Te(w,B,Ee){var He=Ee==!1?me:Te,ft=Ee==!1?$e:nt;if(w=="=>")return A(T,Ee?ce:xe,Je);if(w=="operator")return/\+\+|--/.test(B)||H&&B=="!"?A(He):H&&B=="<"&&J.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?A(Fe(">"),gt(ot,">"),qe,He):B=="?"?A($e,Ae(":"),ft):A(ft);if(w=="quasi")return te(De,He);if(w!=";"){if(w=="(")return Qt(nt,")","call",He);if(w==".")return A(Ve,He);if(w=="[")return A(Fe("]"),he,Ae("]"),qe,He);if(H&&B=="as")return J.marked="keyword",A(ot,He);if(w=="regexp")return J.state.lastType=J.marked="operator",J.stream.backUp(J.stream.pos-J.stream.start-1),A(ft)}}function De(w,B){return w!="quasi"?te():B.slice(B.length-2)!="${"?A(De):A(he,we)}function we(w){if(w=="}")return J.marked="string-2",J.state.tokenize=ve,A(De)}function xe(w){return $(J.stream,J.state),te(w=="{"?ht:$e)}function ce(w){return $(J.stream,J.state),te(w=="{"?ht:nt)}function F(w){return function(B){return B=="."?A(w?re:de):B=="variable"&&H?A(mn,w?Te:me):te(w?nt:$e)}}function de(w,B){if(B=="target")return J.marked="keyword",A(me)}function re(w,B){if(B=="target")return J.marked="keyword",A(Te)}function Ke(w){return w==":"?A(qe,ht):te(me,Ae(";"),qe)}function Ve(w){if(w=="variable")return J.marked="property",A()}function vt(w,B){if(w=="async")return J.marked="property",A(vt);if(w=="variable"||J.style=="keyword"){if(J.marked="property",B=="get"||B=="set")return A(xt);var Ee;return H&&J.state.fatArrowAt==J.stream.start&&(Ee=J.stream.match(/^\s*:\s*/,!1))&&(J.state.fatArrowAt=J.stream.pos+Ee[0].length),A(yt)}else{if(w=="number"||w=="string")return J.marked=C?"property":J.style+" property",A(yt);if(w=="jsonld-keyword")return A(yt);if(H&&ye(B))return J.marked="keyword",A(vt);if(w=="[")return A($e,At,Ae("]"),yt);if(w=="spread")return A(nt,yt);if(B=="*")return J.marked="keyword",A(vt);if(w==":")return te(yt)}}function xt(w){return w!="variable"?te(yt):(J.marked="property",A(Dt))}function yt(w){if(w==":")return A(nt);if(w=="(")return te(Dt)}function gt(w,B,Ee){function He(ft,St){if(Ee?Ee.indexOf(ft)>-1:ft==","){var Ze=J.state.lexical;return Ze.info=="call"&&(Ze.pos=(Ze.pos||0)+1),A(function(Kt,bt){return Kt==B||bt==B?te():te(w)},He)}return ft==B||St==B?A():Ee&&Ee.indexOf(";")>-1?te(w):A(Ae(B))}return function(ft,St){return ft==B||St==B?A():te(w,He)}}function Qt(w,B,Ee){for(var He=3;He<arguments.length;He++)J.cc.push(arguments[He]);return A(Fe(B,Ee),gt(w,B),qe)}function Jt(w){return w=="}"?A():te(ht,Jt)}function At(w,B){if(H){if(w==":")return A(ot);if(B=="?")return A(At)}}function et(w,B){if(H&&(w==":"||B=="in"))return A(ot)}function Mt(w){if(H&&w==":")return J.stream.match(/^\s*\w+\s+is\b/,!1)?A($e,kt,ot):A(ot)}function kt(w,B){if(B=="is")return J.marked="keyword",A()}function ot(w,B){if(B=="keyof"||B=="typeof"||B=="infer"||B=="readonly")return J.marked="keyword",A(B=="typeof"?nt:ot);if(w=="variable"||B=="void")return J.marked="type",A(ur);if(B=="|"||B=="&")return A(ot);if(w=="string"||w=="number"||w=="atom")return A(ur);if(w=="[")return A(Fe("]"),gt(ot,"]",","),qe,ur);if(w=="{")return A(Fe("}"),Pt,qe,ur);if(w=="(")return A(gt(zr,")"),Rt,ur);if(w=="<")return A(gt(ot,">"),ot);if(w=="quasi")return te(rr,ur)}function Rt(w){if(w=="=>")return A(ot)}function Pt(w){return w.match(/[\}\)\]]/)?A():w==","||w==";"?A(Pt):te(qt,Pt)}function qt(w,B){if(w=="variable"||J.style=="keyword")return J.marked="property",A(qt);if(B=="?"||w=="number"||w=="string")return A(qt);if(w==":")return A(ot);if(w=="[")return A(Ae("variable"),et,Ae("]"),qt);if(w=="(")return te(gr,qt);if(!w.match(/[;\}\)\],]/))return A()}function rr(w,B){return w!="quasi"?te():B.slice(B.length-2)!="${"?A(rr):A(ot,nr)}function nr(w){if(w=="}")return J.marked="string-2",J.state.tokenize=ve,A(rr)}function zr(w,B){return w=="variable"&&J.stream.match(/^\s*[?:]/,!1)||B=="?"?A(zr):w==":"?A(ot):w=="spread"?A(zr):te(ot)}function ur(w,B){if(B=="<")return A(Fe(">"),gt(ot,">"),qe,ur);if(B=="|"||w=="."||B=="&")return A(ot);if(w=="[")return A(ot,Ae("]"),ur);if(B=="extends"||B=="implements")return J.marked="keyword",A(ot);if(B=="?")return A(ot,Ae(":"),ot)}function mn(w,B){if(B=="<")return A(Fe(">"),gt(ot,">"),qe,ur)}function fn(){return te(ot,It)}function It(w,B){if(B=="=")return A(ot)}function An(w,B){return B=="enum"?(J.marked="keyword",A(Xt)):te(Wt,At,$t,Mn)}function Wt(w,B){if(H&&ye(B))return J.marked="keyword",A(Wt);if(w=="variable")return ke(B),A();if(w=="spread")return A(Wt);if(w=="[")return Qt(cn,"]");if(w=="{")return Qt(fr,"}")}function fr(w,B){return w=="variable"&&!J.stream.match(/^\s*:/,!1)?(ke(B),A($t)):(w=="variable"&&(J.marked="property"),w=="spread"?A(Wt):w=="}"?te():w=="["?A($e,Ae("]"),Ae(":"),fr):A(Ae(":"),Wt,$t))}function cn(){return te(Wt,$t)}function $t(w,B){if(B=="=")return A(nt)}function Mn(w){if(w==",")return A(An)}function _n(w,B){if(w=="keyword b"&&B=="else")return A(Fe("form","else"),ht,qe)}function Tr(w,B){if(B=="await")return A(Tr);if(w=="(")return A(Fe(")"),Qr,qe)}function Qr(w){return w=="var"?A(An,jr):w=="variable"?A(jr):te(jr)}function jr(w,B){return w==")"?A():w==";"?A(jr):B=="in"||B=="of"?(J.marked="keyword",A($e,jr)):te($e,jr)}function Dt(w,B){if(B=="*")return J.marked="keyword",A(Dt);if(w=="variable")return ke(B),A(Dt);if(w=="(")return A(T,Fe(")"),gt(Ir,")"),qe,Mt,ht,Je);if(H&&B=="<")return A(Fe(">"),gt(fn,">"),qe,Dt)}function gr(w,B){if(B=="*")return J.marked="keyword",A(gr);if(w=="variable")return ke(B),A(gr);if(w=="(")return A(T,Fe(")"),gt(Ir,")"),qe,Mt,Je);if(H&&B=="<")return A(Fe(">"),gt(fn,">"),qe,gr)}function er(w,B){if(w=="keyword"||w=="variable")return J.marked="type",A(er);if(B=="<")return A(Fe(">"),gt(fn,">"),qe)}function Ir(w,B){return B=="@"&&A($e,Ir),w=="spread"?A(Ir):H&&ye(B)?(J.marked="keyword",A(Ir)):H&&w=="this"?A(At,$t):te(Wt,At,$t)}function hn(w,B){return w=="variable"?Zr(w,B):Or(w,B)}function Zr(w,B){if(w=="variable")return ke(B),A(Or)}function Or(w,B){if(B=="<")return A(Fe(">"),gt(fn,">"),qe,Or);if(B=="extends"||B=="implements"||H&&w==",")return B=="implements"&&(J.marked="keyword"),A(H?ot:$e,Or);if(w=="{")return A(Fe("}"),wr,qe)}function wr(w,B){if(w=="async"||w=="variable"&&(B=="static"||B=="get"||B=="set"||H&&ye(B))&&J.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return J.marked="keyword",A(wr);if(w=="variable"||J.style=="keyword")return J.marked="property",A(hr,wr);if(w=="number"||w=="string")return A(hr,wr);if(w=="[")return A($e,At,Ae("]"),hr,wr);if(B=="*")return J.marked="keyword",A(wr);if(H&&w=="(")return te(gr,wr);if(w==";"||w==",")return A(wr);if(w=="}")return A();if(B=="@")return A($e,wr)}function hr(w,B){if(B=="!"||B=="?")return A(hr);if(w==":")return A(ot,$t);if(B=="=")return A(nt);var Ee=J.state.lexical.prev,He=Ee&&Ee.info=="interface";return te(He?gr:Dt)}function Dr(w,B){return B=="*"?(J.marked="keyword",A(mr,Ae(";"))):B=="default"?(J.marked="keyword",A($e,Ae(";"))):w=="{"?A(gt(ir,"}"),mr,Ae(";")):te(ht)}function ir(w,B){if(B=="as")return J.marked="keyword",A(Ae("variable"));if(w=="variable")return te(nt,ir)}function Bt(w){return w=="string"?A():w=="("?te($e):w=="."?te(me):te(at,vr,mr)}function at(w,B){return w=="{"?Qt(at,"}"):(w=="variable"&&ke(B),B=="*"&&(J.marked="keyword"),A(dn))}function vr(w){if(w==",")return A(at,vr)}function dn(w,B){if(B=="as")return J.marked="keyword",A(at)}function mr(w,B){if(B=="from")return J.marked="keyword",A($e)}function Ct(w){return w=="]"?A():te(gt(nt,"]"))}function Xt(){return te(Fe("form"),Wt,Ae("{"),Fe("}"),gt(Vr,"}"),qe,qe)}function Vr(){return te(Wt,$t)}function Nr(w,B){return w.lastType=="operator"||w.lastType==","||G.test(B.charAt(0))||/[,.]/.test(B.charAt(0))}function Ne(w,B,Ee){return B.tokenize==Q&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(B.lastType)||B.lastType=="quasi"&&/\{\s*$/.test(w.string.slice(0,w.pos-(Ee||0)))}return{startState:function(w){var B={tokenize:Q,lastType:"sof",cc:[],lexical:new Y((w||0)-k,0,"block",!1),localVars:x.localVars,context:x.localVars&&new Be(null,null,!1),indented:w||0};return x.globalVars&&typeof x.globalVars=="object"&&(B.globalVars=x.globalVars),B},token:function(w,B){if(w.sol()&&(B.lexical.hasOwnProperty("align")||(B.lexical.align=!1),B.indented=w.indentation(),$(w,B)),B.tokenize!=pe&&w.eatSpace())return null;var Ee=B.tokenize(w,B);return ae=="comment"?Ee:(B.lastType=ae=="operator"&&(be=="++"||be=="--")?"incdec":ae,Oe(B,Ee,ae,be,w))},indent:function(w,B){if(w.tokenize==pe||w.tokenize==ve)return c.Pass;if(w.tokenize!=Q)return 0;var Ee=B&&B.charAt(0),He=w.lexical,ft;if(!/^\s*else\b/.test(B))for(var St=w.cc.length-1;St>=0;--St){var Ze=w.cc[St];if(Ze==qe)He=He.prev;else if(Ze!=_n&&Ze!=Je)break}for(;(He.type=="stat"||He.type=="form")&&(Ee=="}"||(ft=w.cc[w.cc.length-1])&&(ft==me||ft==Te)&&!/^[,\.=+\-*:?[\(]/.test(B));)He=He.prev;_&&He.type==")"&&He.prev.type=="stat"&&(He=He.prev);var Kt=He.type,bt=Ee==Kt;return Kt=="vardef"?He.indented+(w.lastType=="operator"||w.lastType==","?He.info.length+1:0):Kt=="form"&&Ee=="{"?He.indented:Kt=="form"?He.indented+k:Kt=="stat"?He.indented+(Nr(w,B)?_||k:0):He.info=="switch"&&!bt&&x.doubleIndentSwitch!=!1?He.indented+(/^(?:case|default)\b/.test(B)?k:2*k):He.align?He.column+(bt?0:1):He.indented+(bt?0:k)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:S?null:"/*",blockCommentEnd:S?null:"*/",blockCommentContinue:S?null:" * ",lineComment:S?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:S?"json":"javascript",jsonldMode:C,jsonMode:S,expressionAllowed:Ne,skipExpression:function(w){Oe(w,"atom","atom","true",new c.StringStream("",2,null))}}}),c.registerHelper("wordChars","javascript",/[\w$]/),c.defineMIME("text/javascript","javascript"),c.defineMIME("text/ecmascript","javascript"),c.defineMIME("application/javascript","javascript"),c.defineMIME("application/x-javascript","javascript"),c.defineMIME("application/ecmascript","javascript"),c.defineMIME("application/json",{name:"javascript",json:!0}),c.defineMIME("application/x-json",{name:"javascript",json:!0}),c.defineMIME("application/manifest+json",{name:"javascript",json:!0}),c.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),c.defineMIME("text/typescript",{name:"javascript",typescript:!0}),c.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();var Cc={exports:{}};(function(a,f){(function(c){c(Ln.exports)})(function(c){var g={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},x={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};c.defineMode("xml",function(k,_){var C=k.indentUnit,S={},z=_.htmlMode?g:x;for(var H in z)S[H]=z[H];for(var H in _)S[H]=_[H];var V,D;function G(A,Se){function ke(Be){return Se.tokenize=Be,Be(A,Se)}var ze=A.next();if(ze=="<")return A.eat("!")?A.eat("[")?A.match("CDATA[")?ke(ae("atom","]]>")):null:A.match("--")?ke(ae("comment","-->")):A.match("DOCTYPE",!0,!0)?(A.eatWhile(/[\w\._\-]/),ke(be(1))):null:A.eat("?")?(A.eatWhile(/[\w\._\-]/),Se.tokenize=ae("meta","?>"),"meta"):(V=A.eat("/")?"closeTag":"openTag",Se.tokenize=K,"tag bracket");if(ze=="&"){var ye;return A.eat("#")?A.eat("x")?ye=A.eatWhile(/[a-fA-F\d]/)&&A.eat(";"):ye=A.eatWhile(/[\d]/)&&A.eat(";"):ye=A.eatWhile(/[\w\.\-:]/)&&A.eat(";"),ye?"atom":"error"}else return A.eatWhile(/[^&<]/),null}G.isInText=!0;function K(A,Se){var ke=A.next();if(ke==">"||ke=="/"&&A.eat(">"))return Se.tokenize=G,V=ke==">"?"endTag":"selfcloseTag","tag bracket";if(ke=="=")return V="equals",null;if(ke=="<"){Se.tokenize=G,Se.state=ve,Se.tagName=Se.tagStart=null;var ze=Se.tokenize(A,Se);return ze?ze+" tag error":"tag error"}else return/[\'\"]/.test(ke)?(Se.tokenize=ge(ke),Se.stringStartCol=A.column(),Se.tokenize(A,Se)):(A.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function ge(A){var Se=function(ke,ze){for(;!ke.eol();)if(ke.next()==A){ze.tokenize=K;break}return"string"};return Se.isInAttribute=!0,Se}function ae(A,Se){return function(ke,ze){for(;!ke.eol();){if(ke.match(Se)){ze.tokenize=G;break}ke.next()}return A}}function be(A){return function(Se,ke){for(var ze;(ze=Se.next())!=null;){if(ze=="<")return ke.tokenize=be(A+1),ke.tokenize(Se,ke);if(ze==">")if(A==1){ke.tokenize=G;break}else return ke.tokenize=be(A-1),ke.tokenize(Se,ke)}return"meta"}}function ie(A){return A&&A.toLowerCase()}function Q(A,Se,ke){this.prev=A.context,this.tagName=Se||"",this.indent=A.indented,this.startOfLine=ke,(S.doNotIndent.hasOwnProperty(Se)||A.context&&A.context.noIndent)&&(this.noIndent=!0)}function ne(A){A.context&&(A.context=A.context.prev)}function pe(A,Se){for(var ke;;){if(!A.context||(ke=A.context.tagName,!S.contextGrabbers.hasOwnProperty(ie(ke))||!S.contextGrabbers[ie(ke)].hasOwnProperty(ie(Se))))return;ne(A)}}function ve(A,Se,ke){return A=="openTag"?(ke.tagStart=Se.column(),E):A=="closeTag"?$:ve}function E(A,Se,ke){return A=="word"?(ke.tagName=Se.current(),D="tag",U):S.allowMissingTagName&&A=="endTag"?(D="tag bracket",U(A,Se,ke)):(D="error",E)}function $(A,Se,ke){if(A=="word"){var ze=Se.current();return ke.context&&ke.context.tagName!=ze&&S.implicitlyClosed.hasOwnProperty(ie(ke.context.tagName))&&ne(ke),ke.context&&ke.context.tagName==ze||S.matchClosing===!1?(D="tag",fe):(D="tag error",Y)}else return S.allowMissingTagName&&A=="endTag"?(D="tag bracket",fe(A,Se,ke)):(D="error",Y)}function fe(A,Se,ke){return A!="endTag"?(D="error",fe):(ne(ke),ve)}function Y(A,Se,ke){return D="error",fe(A,Se,ke)}function U(A,Se,ke){if(A=="word")return D="attribute",Oe;if(A=="endTag"||A=="selfcloseTag"){var ze=ke.tagName,ye=ke.tagStart;return ke.tagName=ke.tagStart=null,A=="selfcloseTag"||S.autoSelfClosers.hasOwnProperty(ie(ze))?pe(ke,ze):(pe(ke,ze),ke.context=new Q(ke,ze,ye==ke.indented)),ve}return D="error",U}function Oe(A,Se,ke){return A=="equals"?J:(S.allowMissing||(D="error"),U(A,Se,ke))}function J(A,Se,ke){return A=="string"?te:A=="word"&&S.allowUnquoted?(D="string",U):(D="error",U(A,Se,ke))}function te(A,Se,ke){return A=="string"?te:U(A,Se,ke)}return{startState:function(A){var Se={tokenize:G,state:ve,indented:A||0,tagName:null,tagStart:null,context:null};return A!=null&&(Se.baseIndent=A),Se},token:function(A,Se){if(!Se.tagName&&A.sol()&&(Se.indented=A.indentation()),A.eatSpace())return null;V=null;var ke=Se.tokenize(A,Se);return(ke||V)&&ke!="comment"&&(D=null,Se.state=Se.state(V||ke,A,Se),D&&(ke=D=="error"?ke+" error":D)),ke},indent:function(A,Se,ke){var ze=A.context;if(A.tokenize.isInAttribute)return A.tagStart==A.indented?A.stringStartCol+1:A.indented+C;if(ze&&ze.noIndent)return c.Pass;if(A.tokenize!=K&&A.tokenize!=G)return ke?ke.match(/^(\s*)/)[0].length:0;if(A.tagName)return S.multilineTagIndentPastTag!==!1?A.tagStart+A.tagName.length+2:A.tagStart+C*(S.multilineTagIndentFactor||1);if(S.alignCDATA&&/<!\[CDATA\[/.test(Se))return 0;var ye=Se&&/^<(\/)?([\w_:\.-]*)/.exec(Se);if(ye&&ye[1])for(;ze;)if(ze.tagName==ye[2]){ze=ze.prev;break}else if(S.implicitlyClosed.hasOwnProperty(ie(ze.tagName)))ze=ze.prev;else break;else if(ye)for(;ze;){var Be=S.contextGrabbers[ie(ze.tagName)];if(Be&&Be.hasOwnProperty(ie(ye[2])))ze=ze.prev;else break}for(;ze&&ze.prev&&!ze.startOfLine;)ze=ze.prev;return ze?ze.indent+C:A.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:S.htmlMode?"html":"xml",helperType:S.htmlMode?"html":"xml",skipAttribute:function(A){A.state==J&&(A.state=U)},xmlCurrentTag:function(A){return A.tagName?{name:A.tagName,close:A.type=="closeTag"}:null},xmlCurrentContext:function(A){for(var Se=[],ke=A.context;ke;ke=ke.prev)Se.push(ke.tagName);return Se.reverse()}}}),c.defineMIME("text/xml","xml"),c.defineMIME("application/xml","xml"),c.mimeModes.hasOwnProperty("text/html")||c.defineMIME("text/html",{name:"xml",htmlMode:!0})})})();var Eg={exports:{}};(function(a,f){(function(c){c(Ln.exports)})(function(c){c.defineMode("css",function(Y,U){var Oe=U.inline;U.propertyKeywords||(U=c.resolveMode("text/css"));var J=Y.indentUnit,te=U.tokenHooks,A=U.documentTypes||{},Se=U.mediaTypes||{},ke=U.mediaFeatures||{},ze=U.mediaValueKeywords||{},ye=U.propertyKeywords||{},Be=U.nonStandardPropertyKeywords||{},Qe=U.fontProperties||{},W=U.counterDescriptors||{},T=U.colorKeywords||{},je=U.valueKeywords||{},Je=U.allowNested,Fe=U.lineComment,qe=U.supportsAtComponent===!0,Ae=Y.highlightNonStandardPropertyKeywords!==!1,ht,it;function $e(F,de){return ht=de,F}function nt(F,de){var re=F.next();if(te[re]){var Ke=te[re](F,de);if(Ke!==!1)return Ke}if(re=="@")return F.eatWhile(/[\w\\\-]/),$e("def",F.current());if(re=="="||(re=="~"||re=="|")&&F.eat("="))return $e(null,"compare");if(re=='"'||re=="'")return de.tokenize=P(re),de.tokenize(F,de);if(re=="#")return F.eatWhile(/[\w\\\-]/),$e("atom","hash");if(re=="!")return F.match(/^\s*\w*/),$e("keyword","important");if(/\d/.test(re)||re=="."&&F.eat(/\d/))return F.eatWhile(/[\w.%]/),$e("number","unit");if(re==="-"){if(/[\d.]/.test(F.peek()))return F.eatWhile(/[\w.%]/),$e("number","unit");if(F.match(/^-[\w\\\-]*/))return F.eatWhile(/[\w\\\-]/),F.match(/^\s*:/,!1)?$e("variable-2","variable-definition"):$e("variable-2","variable");if(F.match(/^\w+-/))return $e("meta","meta")}else return/[,+>*\/]/.test(re)?$e(null,"select-op"):re=="."&&F.match(/^-?[_a-z][_a-z0-9-]*/i)?$e("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(re)?$e(null,re):F.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(F.current())&&(de.tokenize=Z),$e("variable callee","variable")):/[\w\\\-]/.test(re)?(F.eatWhile(/[\w\\\-]/),$e("property","word")):$e(null,null)}function P(F){return function(de,re){for(var Ke=!1,Ve;(Ve=de.next())!=null;){if(Ve==F&&!Ke){F==")"&&de.backUp(1);break}Ke=!Ke&&Ve=="\\"}return(Ve==F||!Ke&&F!=")")&&(re.tokenize=null),$e("string","string")}}function Z(F,de){return F.next(),F.match(/^\s*[\"\')]/,!1)?de.tokenize=null:de.tokenize=P(")"),$e(null,"(")}function he(F,de,re){this.type=F,this.indent=de,this.prev=re}function me(F,de,re,Ke){return F.context=new he(re,de.indentation()+(Ke===!1?0:J),F.context),re}function Te(F){return F.context.prev&&(F.context=F.context.prev),F.context.type}function De(F,de,re){return ce[re.context.type](F,de,re)}function we(F,de,re,Ke){for(var Ve=Ke||1;Ve>0;Ve--)re.context=re.context.prev;return De(F,de,re)}function xe(F){var de=F.current().toLowerCase();je.hasOwnProperty(de)?it="atom":T.hasOwnProperty(de)?it="keyword":it="variable"}var ce={};return ce.top=function(F,de,re){if(F=="{")return me(re,de,"block");if(F=="}"&&re.context.prev)return Te(re);if(qe&&/@component/i.test(F))return me(re,de,"atComponentBlock");if(/^@(-moz-)?document$/i.test(F))return me(re,de,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(F))return me(re,de,"atBlock");if(/^@(font-face|counter-style)/i.test(F))return re.stateArg=F,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(F))return"keyframes";if(F&&F.charAt(0)=="@")return me(re,de,"at");if(F=="hash")it="builtin";else if(F=="word")it="tag";else{if(F=="variable-definition")return"maybeprop";if(F=="interpolation")return me(re,de,"interpolation");if(F==":")return"pseudo";if(Je&&F=="(")return me(re,de,"parens")}return re.context.type},ce.block=function(F,de,re){if(F=="word"){var Ke=de.current().toLowerCase();return ye.hasOwnProperty(Ke)?(it="property","maybeprop"):Be.hasOwnProperty(Ke)?(it=Ae?"string-2":"property","maybeprop"):Je?(it=de.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(it+=" error","maybeprop")}else return F=="meta"?"block":!Je&&(F=="hash"||F=="qualifier")?(it="error","block"):ce.top(F,de,re)},ce.maybeprop=function(F,de,re){return F==":"?me(re,de,"prop"):De(F,de,re)},ce.prop=function(F,de,re){if(F==";")return Te(re);if(F=="{"&&Je)return me(re,de,"propBlock");if(F=="}"||F=="{")return we(F,de,re);if(F=="(")return me(re,de,"parens");if(F=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(de.current()))it+=" error";else if(F=="word")xe(de);else if(F=="interpolation")return me(re,de,"interpolation");return"prop"},ce.propBlock=function(F,de,re){return F=="}"?Te(re):F=="word"?(it="property","maybeprop"):re.context.type},ce.parens=function(F,de,re){return F=="{"||F=="}"?we(F,de,re):F==")"?Te(re):F=="("?me(re,de,"parens"):F=="interpolation"?me(re,de,"interpolation"):(F=="word"&&xe(de),"parens")},ce.pseudo=function(F,de,re){return F=="meta"?"pseudo":F=="word"?(it="variable-3",re.context.type):De(F,de,re)},ce.documentTypes=function(F,de,re){return F=="word"&&A.hasOwnProperty(de.current())?(it="tag",re.context.type):ce.atBlock(F,de,re)},ce.atBlock=function(F,de,re){if(F=="(")return me(re,de,"atBlock_parens");if(F=="}"||F==";")return we(F,de,re);if(F=="{")return Te(re)&&me(re,de,Je?"block":"top");if(F=="interpolation")return me(re,de,"interpolation");if(F=="word"){var Ke=de.current().toLowerCase();Ke=="only"||Ke=="not"||Ke=="and"||Ke=="or"?it="keyword":Se.hasOwnProperty(Ke)?it="attribute":ke.hasOwnProperty(Ke)?it="property":ze.hasOwnProperty(Ke)?it="keyword":ye.hasOwnProperty(Ke)?it="property":Be.hasOwnProperty(Ke)?it=Ae?"string-2":"property":je.hasOwnProperty(Ke)?it="atom":T.hasOwnProperty(Ke)?it="keyword":it="error"}return re.context.type},ce.atComponentBlock=function(F,de,re){return F=="}"?we(F,de,re):F=="{"?Te(re)&&me(re,de,Je?"block":"top",!1):(F=="word"&&(it="error"),re.context.type)},ce.atBlock_parens=function(F,de,re){return F==")"?Te(re):F=="{"||F=="}"?we(F,de,re,2):ce.atBlock(F,de,re)},ce.restricted_atBlock_before=function(F,de,re){return F=="{"?me(re,de,"restricted_atBlock"):F=="word"&&re.stateArg=="@counter-style"?(it="variable","restricted_atBlock_before"):De(F,de,re)},ce.restricted_atBlock=function(F,de,re){return F=="}"?(re.stateArg=null,Te(re)):F=="word"?(re.stateArg=="@font-face"&&!Qe.hasOwnProperty(de.current().toLowerCase())||re.stateArg=="@counter-style"&&!W.hasOwnProperty(de.current().toLowerCase())?it="error":it="property","maybeprop"):"restricted_atBlock"},ce.keyframes=function(F,de,re){return F=="word"?(it="variable","keyframes"):F=="{"?me(re,de,"top"):De(F,de,re)},ce.at=function(F,de,re){return F==";"?Te(re):F=="{"||F=="}"?we(F,de,re):(F=="word"?it="tag":F=="hash"&&(it="builtin"),"at")},ce.interpolation=function(F,de,re){return F=="}"?Te(re):F=="{"||F==";"?we(F,de,re):(F=="word"?it="variable":F!="variable"&&F!="("&&F!=")"&&(it="error"),"interpolation")},{startState:function(F){return{tokenize:null,state:Oe?"block":"top",stateArg:null,context:new he(Oe?"block":"top",F||0,null)}},token:function(F,de){if(!de.tokenize&&F.eatSpace())return null;var re=(de.tokenize||nt)(F,de);return re&&typeof re=="object"&&(ht=re[1],re=re[0]),it=re,ht!="comment"&&(de.state=ce[de.state](ht,F,de)),it},indent:function(F,de){var re=F.context,Ke=de&&de.charAt(0),Ve=re.indent;return re.type=="prop"&&(Ke=="}"||Ke==")")&&(re=re.prev),re.prev&&(Ke=="}"&&(re.type=="block"||re.type=="top"||re.type=="interpolation"||re.type=="restricted_atBlock")?(re=re.prev,Ve=re.indent):(Ke==")"&&(re.type=="parens"||re.type=="atBlock_parens")||Ke=="{"&&(re.type=="at"||re.type=="atBlock"))&&(Ve=Math.max(0,re.indent-J))),Ve},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:Fe,fold:"brace"}});function g(Y){for(var U={},Oe=0;Oe<Y.length;++Oe)U[Y[Oe].toLowerCase()]=!0;return U}var x=["domain","regexp","url","url-prefix"],k=g(x),_=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],C=g(_),S=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],z=g(S),H=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],V=g(H),D=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],G=g(D),K=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],ge=g(K),ae=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],be=g(ae),ie=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],Q=g(ie),ne=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],pe=g(ne),ve=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],E=g(ve),$=x.concat(_).concat(S).concat(H).concat(D).concat(K).concat(ne).concat(ve);c.registerHelper("hintWords","css",$);function fe(Y,U){for(var Oe=!1,J;(J=Y.next())!=null;){if(Oe&&J=="/"){U.tokenize=null;break}Oe=J=="*"}return["comment","comment"]}c.defineMIME("text/css",{documentTypes:k,mediaTypes:C,mediaFeatures:z,mediaValueKeywords:V,propertyKeywords:G,nonStandardPropertyKeywords:ge,fontProperties:be,counterDescriptors:Q,colorKeywords:pe,valueKeywords:E,tokenHooks:{"/":function(Y,U){return Y.eat("*")?(U.tokenize=fe,fe(Y,U)):!1}},name:"css"}),c.defineMIME("text/x-scss",{mediaTypes:C,mediaFeatures:z,mediaValueKeywords:V,propertyKeywords:G,nonStandardPropertyKeywords:ge,colorKeywords:pe,valueKeywords:E,fontProperties:be,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(Y,U){return Y.eat("/")?(Y.skipToEnd(),["comment","comment"]):Y.eat("*")?(U.tokenize=fe,fe(Y,U)):["operator","operator"]},":":function(Y){return Y.match(/^\s*\{/,!1)?[null,null]:!1},$:function(Y){return Y.match(/^[\w-]+/),Y.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(Y){return Y.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),c.defineMIME("text/x-less",{mediaTypes:C,mediaFeatures:z,mediaValueKeywords:V,propertyKeywords:G,nonStandardPropertyKeywords:ge,colorKeywords:pe,valueKeywords:E,fontProperties:be,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(Y,U){return Y.eat("/")?(Y.skipToEnd(),["comment","comment"]):Y.eat("*")?(U.tokenize=fe,fe(Y,U)):["operator","operator"]},"@":function(Y){return Y.eat("{")?[null,"interpolation"]:Y.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(Y.eatWhile(/[\w\\\-]/),Y.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),c.defineMIME("text/x-gss",{documentTypes:k,mediaTypes:C,mediaFeatures:z,propertyKeywords:G,nonStandardPropertyKeywords:ge,fontProperties:be,counterDescriptors:Q,colorKeywords:pe,valueKeywords:E,supportsAtComponent:!0,tokenHooks:{"/":function(Y,U){return Y.eat("*")?(U.tokenize=fe,fe(Y,U)):!1}},name:"css",helperType:"gss"})})})();(function(a,f){(function(c){c(Ln.exports,Cc.exports,_g.exports,Eg.exports)})(function(c){var g={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function x(V,D,G){var K=V.current(),ge=K.search(D);return ge>-1?V.backUp(K.length-ge):K.match(/<\/?$/)&&(V.backUp(K.length),V.match(D,!1)||V.match(K)),G}var k={};function _(V){var D=k[V];return D||(k[V]=new RegExp("\\s+"+V+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function C(V,D){var G=V.match(_(D));return G?/^\s*(.*?)\s*$/.exec(G[2])[1]:""}function S(V,D){return new RegExp((D?"^":"")+"</s*"+V+"s*>","i")}function z(V,D){for(var G in V)for(var K=D[G]||(D[G]=[]),ge=V[G],ae=ge.length-1;ae>=0;ae--)K.unshift(ge[ae])}function H(V,D){for(var G=0;G<V.length;G++){var K=V[G];if(!K[0]||K[1].test(C(D,K[0])))return K[2]}}c.defineMode("htmlmixed",function(V,D){var G=c.getMode(V,{name:"xml",htmlMode:!0,multilineTagIndentFactor:D.multilineTagIndentFactor,multilineTagIndentPastTag:D.multilineTagIndentPastTag,allowMissingTagName:D.allowMissingTagName}),K={},ge=D&&D.tags,ae=D&&D.scriptTypes;if(z(g,K),ge&&z(ge,K),ae)for(var be=ae.length-1;be>=0;be--)K.script.unshift(["type",ae[be].matches,ae[be].mode]);function ie(Q,ne){var pe=G.token(Q,ne.htmlState),ve=/\btag\b/.test(pe),E;if(ve&&!/[<>\s\/]/.test(Q.current())&&(E=ne.htmlState.tagName&&ne.htmlState.tagName.toLowerCase())&&K.hasOwnProperty(E))ne.inTag=E+" ";else if(ne.inTag&&ve&&/>$/.test(Q.current())){var $=/^([\S]+) (.*)/.exec(ne.inTag);ne.inTag=null;var fe=Q.current()==">"&&H(K[$[1]],$[2]),Y=c.getMode(V,fe),U=S($[1],!0),Oe=S($[1],!1);ne.token=function(J,te){return J.match(U,!1)?(te.token=ie,te.localState=te.localMode=null,null):x(J,Oe,te.localMode.token(J,te.localState))},ne.localMode=Y,ne.localState=c.startState(Y,G.indent(ne.htmlState,"",""))}else ne.inTag&&(ne.inTag+=Q.current(),Q.eol()&&(ne.inTag+=" "));return pe}return{startState:function(){var Q=c.startState(G);return{token:ie,inTag:null,localMode:null,localState:null,htmlState:Q}},copyState:function(Q){var ne;return Q.localState&&(ne=c.copyState(Q.localMode,Q.localState)),{token:Q.token,inTag:Q.inTag,localMode:Q.localMode,localState:ne,htmlState:c.copyState(G,Q.htmlState)}},token:function(Q,ne){return ne.token(Q,ne)},indent:function(Q,ne,pe){return!Q.localMode||/^\s*<\//.test(ne)?G.indent(Q.htmlState,ne,pe):Q.localMode.indent?Q.localMode.indent(Q.localState,ne,pe):c.Pass},innerMode:function(Q){return{state:Q.localState||Q.htmlState,mode:Q.localMode||G}}}},"xml","javascript","css"),c.defineMIME("text/html","htmlmixed")})})();(function(a,f){(function(c){c(Ln.exports)})(function(c){c.defineMode("coffeescript",function(g,x){var k="error";function _(Y){return new RegExp("^(("+Y.join(")|(")+"))\\b")}var C=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?|(or|and|\|\||&&|\?)=)/,S=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,z=/^[_A-Za-z$][_A-Za-z$0-9]*/,H=/^@[_A-Za-z$][_A-Za-z$0-9]*/,V=_(["and","or","not","is","isnt","in","instanceof","typeof"]),D=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],G=["break","by","continue","debugger","delete","do","in","of","new","return","then","this","@","throw","when","until","extends"],K=_(D.concat(G));D=_(D);var ge=/^('{3}|\"{3}|['\"])/,ae=/^(\/{3}|\/)/,be=["Infinity","NaN","undefined","null","true","false","on","off","yes","no"],ie=_(be);function Q(Y,U){if(Y.sol()){U.scope.align===null&&(U.scope.align=!1);var Oe=U.scope.offset;if(Y.eatSpace()){var J=Y.indentation();return J>Oe&&U.scope.type=="coffee"?"indent":J<Oe?"dedent":null}else Oe>0&&E(Y,U)}if(Y.eatSpace())return null;var te=Y.peek();if(Y.match("####"))return Y.skipToEnd(),"comment";if(Y.match("###"))return U.tokenize=pe,U.tokenize(Y,U);if(te==="#")return Y.skipToEnd(),"comment";if(Y.match(/^-?[0-9\.]/,!1)){var A=!1;if(Y.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(A=!0),Y.match(/^-?\d+\.\d*/)&&(A=!0),Y.match(/^-?\.\d+/)&&(A=!0),A)return Y.peek()=="."&&Y.backUp(1),"number";var Se=!1;if(Y.match(/^-?0x[0-9a-f]+/i)&&(Se=!0),Y.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(Se=!0),Y.match(/^-?0(?![\dx])/i)&&(Se=!0),Se)return"number"}if(Y.match(ge))return U.tokenize=ne(Y.current(),!1,"string"),U.tokenize(Y,U);if(Y.match(ae)){if(Y.current()!="/"||Y.match(/^.*\//,!1))return U.tokenize=ne(Y.current(),!0,"string-2"),U.tokenize(Y,U);Y.backUp(1)}return Y.match(C)||Y.match(V)?"operator":Y.match(S)?"punctuation":Y.match(ie)?"atom":Y.match(H)||U.prop&&Y.match(z)?"property":Y.match(K)?"keyword":Y.match(z)?"variable":(Y.next(),k)}function ne(Y,U,Oe){return function(J,te){for(;!J.eol();)if(J.eatWhile(/[^'"\/\\]/),J.eat("\\")){if(J.next(),U&&J.eol())return Oe}else{if(J.match(Y))return te.tokenize=Q,Oe;J.eat(/['"\/]/)}return U&&(x.singleLineStringErrors?Oe=k:te.tokenize=Q),Oe}}function pe(Y,U){for(;!Y.eol();){if(Y.eatWhile(/[^#]/),Y.match("###")){U.tokenize=Q;break}Y.eatWhile("#")}return"comment"}function ve(Y,U,Oe){Oe=Oe||"coffee";for(var J=0,te=!1,A=null,Se=U.scope;Se;Se=Se.prev)if(Se.type==="coffee"||Se.type=="}"){J=Se.offset+g.indentUnit;break}Oe!=="coffee"?(te=null,A=Y.column()+Y.current().length):U.scope.align&&(U.scope.align=!1),U.scope={offset:J,type:Oe,prev:U.scope,align:te,alignOffset:A}}function E(Y,U){if(!!U.scope.prev)if(U.scope.type==="coffee"){for(var Oe=Y.indentation(),J=!1,te=U.scope;te;te=te.prev)if(Oe===te.offset){J=!0;break}if(!J)return!0;for(;U.scope.prev&&U.scope.offset!==Oe;)U.scope=U.scope.prev;return!1}else return U.scope=U.scope.prev,!1}function $(Y,U){var Oe=U.tokenize(Y,U),J=Y.current();J==="return"&&(U.dedent=!0),((J==="->"||J==="=>")&&Y.eol()||Oe==="indent")&&ve(Y,U);var te="[({".indexOf(J);if(te!==-1&&ve(Y,U,"])}".slice(te,te+1)),D.exec(J)&&ve(Y,U),J=="then"&&E(Y,U),Oe==="dedent"&&E(Y,U))return k;if(te="])}".indexOf(J),te!==-1){for(;U.scope.type=="coffee"&&U.scope.prev;)U.scope=U.scope.prev;U.scope.type==J&&(U.scope=U.scope.prev)}return U.dedent&&Y.eol()&&(U.scope.type=="coffee"&&U.scope.prev&&(U.scope=U.scope.prev),U.dedent=!1),Oe}var fe={startState:function(Y){return{tokenize:Q,scope:{offset:Y||0,type:"coffee",prev:null,align:!1},prop:!1,dedent:0}},token:function(Y,U){var Oe=U.scope.align===null&&U.scope;Oe&&Y.sol()&&(Oe.align=!1);var J=$(Y,U);return J&&J!="comment"&&(Oe&&(Oe.align=!0),U.prop=J=="punctuation"&&Y.current()=="."),J},indent:function(Y,U){if(Y.tokenize!=Q)return 0;var Oe=Y.scope,J=U&&"])}".indexOf(U.charAt(0))>-1;if(J)for(;Oe.type=="coffee"&&Oe.prev;)Oe=Oe.prev;var te=J&&Oe.type===U.charAt(0);return Oe.align?Oe.alignOffset-(te?1:0):(te?Oe.prev:Oe).offset},lineComment:"#",fold:"indent"};return fe}),c.defineMIME("application/vnd.coffeescript","coffeescript"),c.defineMIME("text/x-coffeescript","coffeescript"),c.defineMIME("text/coffeescript","coffeescript")})})();var Og={exports:{}};(function(a,f){(function(c){c(Ln.exports)})(function(c){c.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var g=0;g<c.modeInfo.length;g++){var x=c.modeInfo[g];x.mimes&&(x.mime=x.mimes[0])}c.findModeByMIME=function(k){k=k.toLowerCase();for(var _=0;_<c.modeInfo.length;_++){var C=c.modeInfo[_];if(C.mime==k)return C;if(C.mimes){for(var S=0;S<C.mimes.length;S++)if(C.mimes[S]==k)return C}}if(/\+xml$/.test(k))return c.findModeByMIME("application/xml");if(/\+json$/.test(k))return c.findModeByMIME("application/json")},c.findModeByExtension=function(k){k=k.toLowerCase();for(var _=0;_<c.modeInfo.length;_++){var C=c.modeInfo[_];if(C.ext){for(var S=0;S<C.ext.length;S++)if(C.ext[S]==k)return C}}},c.findModeByFileName=function(k){for(var _=0;_<c.modeInfo.length;_++){var C=c.modeInfo[_];if(C.file&&C.file.test(k))return C}var S=k.lastIndexOf("."),z=S>-1&&k.substring(S+1,k.length);if(z)return c.findModeByExtension(z)},c.findModeByName=function(k){k=k.toLowerCase();for(var _=0;_<c.modeInfo.length;_++){var C=c.modeInfo[_];if(C.name.toLowerCase()==k)return C;if(C.alias){for(var S=0;S<C.alias.length;S++)if(C.alias[S].toLowerCase()==k)return C}}}})})();(function(a,f){(function(c){c(Ln.exports,Cc.exports,Og.exports)})(function(c){c.defineMode("markdown",function(g,x){var k=c.getMode(g,"text/html"),_=k.name=="null";function C(W){if(c.findModeByName){var T=c.findModeByName(W);T&&(W=T.mime||T.mimes[0])}var je=c.getMode(g,W);return je.name=="null"?null:je}x.highlightFormatting===void 0&&(x.highlightFormatting=!1),x.maxBlockquoteDepth===void 0&&(x.maxBlockquoteDepth=0),x.taskLists===void 0&&(x.taskLists=!1),x.strikethrough===void 0&&(x.strikethrough=!1),x.emoji===void 0&&(x.emoji=!1),x.fencedCodeBlockHighlighting===void 0&&(x.fencedCodeBlockHighlighting=!0),x.fencedCodeBlockDefaultMode===void 0&&(x.fencedCodeBlockDefaultMode="text/plain"),x.xml===void 0&&(x.xml=!0),x.tokenTypeOverrides===void 0&&(x.tokenTypeOverrides={});var S={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var z in S)S.hasOwnProperty(z)&&x.tokenTypeOverrides[z]&&(S[z]=x.tokenTypeOverrides[z]);var H=/^([*\-_])(?:\s*\1){2,}\s*$/,V=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,D=/^\[(x| )\](?=\s)/i,G=x.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,K=/^ {0,3}(?:\={1,}|-{2,})\s*$/,ge=/^[^#!\[\]*_\\<>` "'(~:]+/,ae=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,be=/^\s*\[[^\]]+?\]:.*$/,ie=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,Q="    ";function ne(W,T,je){return T.f=T.inline=je,je(W,T)}function pe(W,T,je){return T.f=T.block=je,je(W,T)}function ve(W){return!W||!/\S/.test(W.string)}function E(W){if(W.linkTitle=!1,W.linkHref=!1,W.linkText=!1,W.em=!1,W.strong=!1,W.strikethrough=!1,W.quote=0,W.indentedCode=!1,W.f==fe){var T=_;if(!T){var je=c.innerMode(k,W.htmlState);T=je.mode.name=="xml"&&je.state.tagStart===null&&!je.state.context&&je.state.tokenize.isInText}T&&(W.f=J,W.block=$,W.htmlState=null)}return W.trailingSpace=0,W.trailingSpaceNewLine=!1,W.prevLine=W.thisLine,W.thisLine={stream:null},null}function $(W,T){var je=W.column()===T.indentation,Je=ve(T.prevLine.stream),Fe=T.indentedCode,qe=T.prevLine.hr,Ae=T.list!==!1,ht=(T.listStack[T.listStack.length-1]||0)+3;T.indentedCode=!1;var it=T.indentation;if(T.indentationDiff===null&&(T.indentationDiff=T.indentation,Ae)){for(T.list=null;it<T.listStack[T.listStack.length-1];)T.listStack.pop(),T.listStack.length?T.indentation=T.listStack[T.listStack.length-1]:T.list=!1;T.list!==!1&&(T.indentationDiff=it-T.listStack[T.listStack.length-1])}var $e=!Je&&!qe&&!T.prevLine.header&&(!Ae||!Fe)&&!T.prevLine.fencedCodeEnd,nt=(T.list===!1||qe||Je)&&T.indentation<=ht&&W.match(H),P=null;if(T.indentationDiff>=4&&(Fe||T.prevLine.fencedCodeEnd||T.prevLine.header||Je))return W.skipToEnd(),T.indentedCode=!0,S.code;if(W.eatSpace())return null;if(je&&T.indentation<=ht&&(P=W.match(G))&&P[1].length<=6)return T.quote=0,T.header=P[1].length,T.thisLine.header=!0,x.highlightFormatting&&(T.formatting="header"),T.f=T.inline,U(T);if(T.indentation<=ht&&W.eat(">"))return T.quote=je?1:T.quote+1,x.highlightFormatting&&(T.formatting="quote"),W.eatSpace(),U(T);if(!nt&&!T.setext&&je&&T.indentation<=ht&&(P=W.match(V))){var Z=P[1]?"ol":"ul";return T.indentation=it+W.current().length,T.list=!0,T.quote=0,T.listStack.push(T.indentation),T.em=!1,T.strong=!1,T.code=!1,T.strikethrough=!1,x.taskLists&&W.match(D,!1)&&(T.taskList=!0),T.f=T.inline,x.highlightFormatting&&(T.formatting=["list","list-"+Z]),U(T)}else{if(je&&T.indentation<=ht&&(P=W.match(ae,!0)))return T.quote=0,T.fencedEndRE=new RegExp(P[1]+"+ *$"),T.localMode=x.fencedCodeBlockHighlighting&&C(P[2]||x.fencedCodeBlockDefaultMode),T.localMode&&(T.localState=c.startState(T.localMode)),T.f=T.block=Y,x.highlightFormatting&&(T.formatting="code-block"),T.code=-1,U(T);if(T.setext||(!$e||!Ae)&&!T.quote&&T.list===!1&&!T.code&&!nt&&!be.test(W.string)&&(P=W.lookAhead(1))&&(P=P.match(K)))return T.setext?(T.header=T.setext,T.setext=0,W.skipToEnd(),x.highlightFormatting&&(T.formatting="header")):(T.header=P[0].charAt(0)=="="?1:2,T.setext=T.header),T.thisLine.header=!0,T.f=T.inline,U(T);if(nt)return W.skipToEnd(),T.hr=!0,T.thisLine.hr=!0,S.hr;if(W.peek()==="[")return ne(W,T,ze)}return ne(W,T,T.inline)}function fe(W,T){var je=k.token(W,T.htmlState);if(!_){var Je=c.innerMode(k,T.htmlState);(Je.mode.name=="xml"&&Je.state.tagStart===null&&!Je.state.context&&Je.state.tokenize.isInText||T.md_inside&&W.current().indexOf(">")>-1)&&(T.f=J,T.block=$,T.htmlState=null)}return je}function Y(W,T){var je=T.listStack[T.listStack.length-1]||0,Je=T.indentation<je,Fe=je+3;if(T.fencedEndRE&&T.indentation<=Fe&&(Je||W.match(T.fencedEndRE))){x.highlightFormatting&&(T.formatting="code-block");var qe;return Je||(qe=U(T)),T.localMode=T.localState=null,T.block=$,T.f=J,T.fencedEndRE=null,T.code=0,T.thisLine.fencedCodeEnd=!0,Je?pe(W,T,T.block):qe}else return T.localMode?T.localMode.token(W,T.localState):(W.skipToEnd(),S.code)}function U(W){var T=[];if(W.formatting){T.push(S.formatting),typeof W.formatting=="string"&&(W.formatting=[W.formatting]);for(var je=0;je<W.formatting.length;je++)T.push(S.formatting+"-"+W.formatting[je]),W.formatting[je]==="header"&&T.push(S.formatting+"-"+W.formatting[je]+"-"+W.header),W.formatting[je]==="quote"&&(!x.maxBlockquoteDepth||x.maxBlockquoteDepth>=W.quote?T.push(S.formatting+"-"+W.formatting[je]+"-"+W.quote):T.push("error"))}if(W.taskOpen)return T.push("meta"),T.length?T.join(" "):null;if(W.taskClosed)return T.push("property"),T.length?T.join(" "):null;if(W.linkHref?T.push(S.linkHref,"url"):(W.strong&&T.push(S.strong),W.em&&T.push(S.em),W.strikethrough&&T.push(S.strikethrough),W.emoji&&T.push(S.emoji),W.linkText&&T.push(S.linkText),W.code&&T.push(S.code),W.image&&T.push(S.image),W.imageAltText&&T.push(S.imageAltText,"link"),W.imageMarker&&T.push(S.imageMarker)),W.header&&T.push(S.header,S.header+"-"+W.header),W.quote&&(T.push(S.quote),!x.maxBlockquoteDepth||x.maxBlockquoteDepth>=W.quote?T.push(S.quote+"-"+W.quote):T.push(S.quote+"-"+x.maxBlockquoteDepth)),W.list!==!1){var Je=(W.listStack.length-1)%3;Je?Je===1?T.push(S.list2):T.push(S.list3):T.push(S.list1)}return W.trailingSpaceNewLine?T.push("trailing-space-new-line"):W.trailingSpace&&T.push("trailing-space-"+(W.trailingSpace%2?"a":"b")),T.length?T.join(" "):null}function Oe(W,T){if(W.match(ge,!0))return U(T)}function J(W,T){var je=T.text(W,T);if(typeof je<"u")return je;if(T.list)return T.list=null,U(T);if(T.taskList){var Je=W.match(D,!0)[1]===" ";return Je?T.taskOpen=!0:T.taskClosed=!0,x.highlightFormatting&&(T.formatting="task"),T.taskList=!1,U(T)}if(T.taskOpen=!1,T.taskClosed=!1,T.header&&W.match(/^#+$/,!0))return x.highlightFormatting&&(T.formatting="header"),U(T);var Fe=W.next();if(T.linkTitle){T.linkTitle=!1;var qe=Fe;Fe==="("&&(qe=")"),qe=(qe+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var Ae="^\\s*(?:[^"+qe+"\\\\]+|\\\\\\\\|\\\\.)"+qe;if(W.match(new RegExp(Ae),!0))return S.linkHref}if(Fe==="`"){var ht=T.formatting;x.highlightFormatting&&(T.formatting="code"),W.eatWhile("`");var it=W.current().length;if(T.code==0&&(!T.quote||it==1))return T.code=it,U(T);if(it==T.code){var $e=U(T);return T.code=0,$e}else return T.formatting=ht,U(T)}else if(T.code)return U(T);if(Fe==="\\"&&(W.next(),x.highlightFormatting)){var nt=U(T),P=S.formatting+"-escape";return nt?nt+" "+P:P}if(Fe==="!"&&W.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return T.imageMarker=!0,T.image=!0,x.highlightFormatting&&(T.formatting="image"),U(T);if(Fe==="["&&T.imageMarker&&W.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return T.imageMarker=!1,T.imageAltText=!0,x.highlightFormatting&&(T.formatting="image"),U(T);if(Fe==="]"&&T.imageAltText){x.highlightFormatting&&(T.formatting="image");var nt=U(T);return T.imageAltText=!1,T.image=!1,T.inline=T.f=A,nt}if(Fe==="["&&!T.image)return T.linkText&&W.match(/^.*?\]/)||(T.linkText=!0,x.highlightFormatting&&(T.formatting="link")),U(T);if(Fe==="]"&&T.linkText){x.highlightFormatting&&(T.formatting="link");var nt=U(T);return T.linkText=!1,T.inline=T.f=W.match(/\(.*?\)| ?\[.*?\]/,!1)?A:J,nt}if(Fe==="<"&&W.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){T.f=T.inline=te,x.highlightFormatting&&(T.formatting="link");var nt=U(T);return nt?nt+=" ":nt="",nt+S.linkInline}if(Fe==="<"&&W.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){T.f=T.inline=te,x.highlightFormatting&&(T.formatting="link");var nt=U(T);return nt?nt+=" ":nt="",nt+S.linkEmail}if(x.xml&&Fe==="<"&&W.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var Z=W.string.indexOf(">",W.pos);if(Z!=-1){var he=W.string.substring(W.start,Z);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(he)&&(T.md_inside=!0)}return W.backUp(1),T.htmlState=c.startState(k),pe(W,T,fe)}if(x.xml&&Fe==="<"&&W.match(/^\/\w*?>/))return T.md_inside=!1,"tag";if(Fe==="*"||Fe==="_"){for(var me=1,Te=W.pos==1?" ":W.string.charAt(W.pos-2);me<3&&W.eat(Fe);)me++;var De=W.peek()||" ",we=!/\s/.test(De)&&(!ie.test(De)||/\s/.test(Te)||ie.test(Te)),xe=!/\s/.test(Te)&&(!ie.test(Te)||/\s/.test(De)||ie.test(De)),ce=null,F=null;if(me%2&&(!T.em&&we&&(Fe==="*"||!xe||ie.test(Te))?ce=!0:T.em==Fe&&xe&&(Fe==="*"||!we||ie.test(De))&&(ce=!1)),me>1&&(!T.strong&&we&&(Fe==="*"||!xe||ie.test(Te))?F=!0:T.strong==Fe&&xe&&(Fe==="*"||!we||ie.test(De))&&(F=!1)),F!=null||ce!=null){x.highlightFormatting&&(T.formatting=ce==null?"strong":F==null?"em":"strong em"),ce===!0&&(T.em=Fe),F===!0&&(T.strong=Fe);var $e=U(T);return ce===!1&&(T.em=!1),F===!1&&(T.strong=!1),$e}}else if(Fe===" "&&(W.eat("*")||W.eat("_"))){if(W.peek()===" ")return U(T);W.backUp(1)}if(x.strikethrough){if(Fe==="~"&&W.eatWhile(Fe)){if(T.strikethrough){x.highlightFormatting&&(T.formatting="strikethrough");var $e=U(T);return T.strikethrough=!1,$e}else if(W.match(/^[^\s]/,!1))return T.strikethrough=!0,x.highlightFormatting&&(T.formatting="strikethrough"),U(T)}else if(Fe===" "&&W.match("~~",!0)){if(W.peek()===" ")return U(T);W.backUp(2)}}if(x.emoji&&Fe===":"&&W.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){T.emoji=!0,x.highlightFormatting&&(T.formatting="emoji");var de=U(T);return T.emoji=!1,de}return Fe===" "&&(W.match(/^ +$/,!1)?T.trailingSpace++:T.trailingSpace&&(T.trailingSpaceNewLine=!0)),U(T)}function te(W,T){var je=W.next();if(je===">"){T.f=T.inline=J,x.highlightFormatting&&(T.formatting="link");var Je=U(T);return Je?Je+=" ":Je="",Je+S.linkInline}return W.match(/^[^>]+/,!0),S.linkInline}function A(W,T){if(W.eatSpace())return null;var je=W.next();return je==="("||je==="["?(T.f=T.inline=ke(je==="("?")":"]"),x.highlightFormatting&&(T.formatting="link-string"),T.linkHref=!0,U(T)):"error"}var Se={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function ke(W){return function(T,je){var Je=T.next();if(Je===W){je.f=je.inline=J,x.highlightFormatting&&(je.formatting="link-string");var Fe=U(je);return je.linkHref=!1,Fe}return T.match(Se[W]),je.linkHref=!0,U(je)}}function ze(W,T){return W.match(/^([^\]\\]|\\.)*\]:/,!1)?(T.f=ye,W.next(),x.highlightFormatting&&(T.formatting="link"),T.linkText=!0,U(T)):ne(W,T,J)}function ye(W,T){if(W.match("]:",!0)){T.f=T.inline=Be,x.highlightFormatting&&(T.formatting="link");var je=U(T);return T.linkText=!1,je}return W.match(/^([^\]\\]|\\.)+/,!0),S.linkText}function Be(W,T){return W.eatSpace()?null:(W.match(/^[^\s]+/,!0),W.peek()===void 0?T.linkTitle=!0:W.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),T.f=T.inline=J,S.linkHref+" url")}var Qe={startState:function(){return{f:$,prevLine:{stream:null},thisLine:{stream:null},block:$,htmlState:null,indentation:0,inline:J,text:Oe,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(W){return{f:W.f,prevLine:W.prevLine,thisLine:W.thisLine,block:W.block,htmlState:W.htmlState&&c.copyState(k,W.htmlState),indentation:W.indentation,localMode:W.localMode,localState:W.localMode?c.copyState(W.localMode,W.localState):null,inline:W.inline,text:W.text,formatting:!1,linkText:W.linkText,linkTitle:W.linkTitle,linkHref:W.linkHref,code:W.code,em:W.em,strong:W.strong,strikethrough:W.strikethrough,emoji:W.emoji,header:W.header,setext:W.setext,hr:W.hr,taskList:W.taskList,list:W.list,listStack:W.listStack.slice(0),quote:W.quote,indentedCode:W.indentedCode,trailingSpace:W.trailingSpace,trailingSpaceNewLine:W.trailingSpaceNewLine,md_inside:W.md_inside,fencedEndRE:W.fencedEndRE}},token:function(W,T){if(T.formatting=!1,W!=T.thisLine.stream){if(T.header=0,T.hr=!1,W.match(/^\s*$/,!0))return E(T),null;if(T.prevLine=T.thisLine,T.thisLine={stream:W},T.taskList=!1,T.trailingSpace=0,T.trailingSpaceNewLine=!1,!T.localState&&(T.f=T.block,T.f!=fe)){var je=W.match(/^\s*/,!0)[0].replace(/\t/g,Q).length;if(T.indentation=je,T.indentationDiff=null,je>0)return null}}return T.f(W,T)},innerMode:function(W){return W.block==fe?{state:W.htmlState,mode:k}:W.localState?{state:W.localState,mode:W.localMode}:{state:W,mode:Qe}},indent:function(W,T,je){return W.block==fe&&k.indent?k.indent(W.htmlState,T,je):W.localState&&W.localMode.indent?W.localMode.indent(W.localState,T,je):c.Pass},blankLine:E,getType:U,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return Qe},"xml"),c.defineMIME("text/markdown","markdown"),c.defineMIME("text/x-markdown","markdown")})})();var Fg={exports:{}};(function(a,f){(function(c){c(Ln.exports)})(function(c){function g(k,_,C){var S=k.getWrapperElement(),z;return z=S.appendChild(document.createElement("div")),C?z.className="CodeMirror-dialog CodeMirror-dialog-bottom":z.className="CodeMirror-dialog CodeMirror-dialog-top",typeof _=="string"?z.innerHTML=_:z.appendChild(_),c.addClass(S,"dialog-opened"),z}function x(k,_){k.state.currentNotificationClose&&k.state.currentNotificationClose(),k.state.currentNotificationClose=_}c.defineExtension("openDialog",function(k,_,C){C||(C={}),x(this,null);var S=g(this,k,C.bottom),z=!1,H=this;function V(K){if(typeof K=="string")D.value=K;else{if(z)return;z=!0,c.rmClass(S.parentNode,"dialog-opened"),S.parentNode.removeChild(S),H.focus(),C.onClose&&C.onClose(S)}}var D=S.getElementsByTagName("input")[0],G;return D?(D.focus(),C.value&&(D.value=C.value,C.selectValueOnOpen!==!1&&D.select()),C.onInput&&c.on(D,"input",function(K){C.onInput(K,D.value,V)}),C.onKeyUp&&c.on(D,"keyup",function(K){C.onKeyUp(K,D.value,V)}),c.on(D,"keydown",function(K){C&&C.onKeyDown&&C.onKeyDown(K,D.value,V)||((K.keyCode==27||C.closeOnEnter!==!1&&K.keyCode==13)&&(D.blur(),c.e_stop(K),V()),K.keyCode==13&&_(D.value,K))}),C.closeOnBlur!==!1&&c.on(S,"focusout",function(K){K.relatedTarget!==null&&V()})):(G=S.getElementsByTagName("button")[0])&&(c.on(G,"click",function(){V(),H.focus()}),C.closeOnBlur!==!1&&c.on(G,"blur",V),G.focus()),V}),c.defineExtension("openConfirm",function(k,_,C){x(this,null);var S=g(this,k,C&&C.bottom),z=S.getElementsByTagName("button"),H=!1,V=this,D=1;function G(){H||(H=!0,c.rmClass(S.parentNode,"dialog-opened"),S.parentNode.removeChild(S),V.focus())}z[0].focus();for(var K=0;K<z.length;++K){var ge=z[K];(function(ae){c.on(ge,"click",function(be){c.e_preventDefault(be),G(),ae&&ae(V)})})(_[K]),c.on(ge,"blur",function(){--D,setTimeout(function(){D<=0&&G()},200)}),c.on(ge,"focus",function(){++D})}}),c.defineExtension("openNotification",function(k,_){x(this,V);var C=g(this,k,_&&_.bottom),S=!1,z,H=_&&typeof _.duration<"u"?_.duration:5e3;function V(){S||(S=!0,clearTimeout(z),c.rmClass(C.parentNode,"dialog-opened"),C.parentNode.removeChild(C))}return c.on(C,"click",function(D){c.e_preventDefault(D),V()}),H&&(z=setTimeout(V,H)),V})})})();var Ig={exports:{}};(function(a,f){(function(c){c(Ln.exports)})(function(c){var g=c.Pos;function x(ie){var Q=ie.flags;return Q??(ie.ignoreCase?"i":"")+(ie.global?"g":"")+(ie.multiline?"m":"")}function k(ie,Q){for(var ne=x(ie),pe=ne,ve=0;ve<Q.length;ve++)pe.indexOf(Q.charAt(ve))==-1&&(pe+=Q.charAt(ve));return ne==pe?ie:new RegExp(ie.source,pe)}function _(ie){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(ie.source)}function C(ie,Q,ne){Q=k(Q,"g");for(var pe=ne.line,ve=ne.ch,E=ie.lastLine();pe<=E;pe++,ve=0){Q.lastIndex=ve;var $=ie.getLine(pe),fe=Q.exec($);if(fe)return{from:g(pe,fe.index),to:g(pe,fe.index+fe[0].length),match:fe}}}function S(ie,Q,ne){if(!_(Q))return C(ie,Q,ne);Q=k(Q,"gm");for(var pe,ve=1,E=ne.line,$=ie.lastLine();E<=$;){for(var fe=0;fe<ve&&!(E>$);fe++){var Y=ie.getLine(E++);pe=pe==null?Y:pe+`
`+Y}ve=ve*2,Q.lastIndex=ne.ch;var U=Q.exec(pe);if(U){var Oe=pe.slice(0,U.index).split(`
`),J=U[0].split(`
`),te=ne.line+Oe.length-1,A=Oe[Oe.length-1].length;return{from:g(te,A),to:g(te+J.length-1,J.length==1?A+J[0].length:J[J.length-1].length),match:U}}}}function z(ie,Q,ne){for(var pe,ve=0;ve<=ie.length;){Q.lastIndex=ve;var E=Q.exec(ie);if(!E)break;var $=E.index+E[0].length;if($>ie.length-ne)break;(!pe||$>pe.index+pe[0].length)&&(pe=E),ve=E.index+1}return pe}function H(ie,Q,ne){Q=k(Q,"g");for(var pe=ne.line,ve=ne.ch,E=ie.firstLine();pe>=E;pe--,ve=-1){var $=ie.getLine(pe),fe=z($,Q,ve<0?0:$.length-ve);if(fe)return{from:g(pe,fe.index),to:g(pe,fe.index+fe[0].length),match:fe}}}function V(ie,Q,ne){if(!_(Q))return H(ie,Q,ne);Q=k(Q,"gm");for(var pe,ve=1,E=ie.getLine(ne.line).length-ne.ch,$=ne.line,fe=ie.firstLine();$>=fe;){for(var Y=0;Y<ve&&$>=fe;Y++){var U=ie.getLine($--);pe=pe==null?U:U+`
`+pe}ve*=2;var Oe=z(pe,Q,E);if(Oe){var J=pe.slice(0,Oe.index).split(`
`),te=Oe[0].split(`
`),A=$+J.length,Se=J[J.length-1].length;return{from:g(A,Se),to:g(A+te.length-1,te.length==1?Se+te[0].length:te[te.length-1].length),match:Oe}}}}var D,G;String.prototype.normalize?(D=function(ie){return ie.normalize("NFD").toLowerCase()},G=function(ie){return ie.normalize("NFD")}):(D=function(ie){return ie.toLowerCase()},G=function(ie){return ie});function K(ie,Q,ne,pe){if(ie.length==Q.length)return ne;for(var ve=0,E=ne+Math.max(0,ie.length-Q.length);;){if(ve==E)return ve;var $=ve+E>>1,fe=pe(ie.slice(0,$)).length;if(fe==ne)return $;fe>ne?E=$:ve=$+1}}function ge(ie,Q,ne,pe){if(!Q.length)return null;var ve=pe?D:G,E=ve(Q).split(/\r|\n\r?/);e:for(var $=ne.line,fe=ne.ch,Y=ie.lastLine()+1-E.length;$<=Y;$++,fe=0){var U=ie.getLine($).slice(fe),Oe=ve(U);if(E.length==1){var J=Oe.indexOf(E[0]);if(J==-1)continue e;var ne=K(U,Oe,J,ve)+fe;return{from:g($,K(U,Oe,J,ve)+fe),to:g($,K(U,Oe,J+E[0].length,ve)+fe)}}else{var te=Oe.length-E[0].length;if(Oe.slice(te)!=E[0])continue e;for(var A=1;A<E.length-1;A++)if(ve(ie.getLine($+A))!=E[A])continue e;var Se=ie.getLine($+E.length-1),ke=ve(Se),ze=E[E.length-1];if(ke.slice(0,ze.length)!=ze)continue e;return{from:g($,K(U,Oe,te,ve)+fe),to:g($+E.length-1,K(Se,ke,ze.length,ve))}}}}function ae(ie,Q,ne,pe){if(!Q.length)return null;var ve=pe?D:G,E=ve(Q).split(/\r|\n\r?/);e:for(var $=ne.line,fe=ne.ch,Y=ie.firstLine()-1+E.length;$>=Y;$--,fe=-1){var U=ie.getLine($);fe>-1&&(U=U.slice(0,fe));var Oe=ve(U);if(E.length==1){var J=Oe.lastIndexOf(E[0]);if(J==-1)continue e;return{from:g($,K(U,Oe,J,ve)),to:g($,K(U,Oe,J+E[0].length,ve))}}else{var te=E[E.length-1];if(Oe.slice(0,te.length)!=te)continue e;for(var A=1,ne=$-E.length+1;A<E.length-1;A++)if(ve(ie.getLine(ne+A))!=E[A])continue e;var Se=ie.getLine($+1-E.length),ke=ve(Se);if(ke.slice(ke.length-E[0].length)!=E[0])continue e;return{from:g($+1-E.length,K(Se,ke,Se.length-E[0].length,ve)),to:g($,K(U,Oe,te.length,ve))}}}}function be(ie,Q,ne,pe){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=ie,ne=ne?ie.clipPos(ne):g(0,0),this.pos={from:ne,to:ne};var ve;typeof pe=="object"?ve=pe.caseFold:(ve=pe,pe=null),typeof Q=="string"?(ve==null&&(ve=!1),this.matches=function(E,$){return(E?ae:ge)(ie,Q,$,ve)}):(Q=k(Q,"gm"),!pe||pe.multiline!==!1?this.matches=function(E,$){return(E?V:S)(ie,Q,$)}:this.matches=function(E,$){return(E?H:C)(ie,Q,$)})}be.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(ie){var Q=this.doc.clipPos(ie?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(Q=g(Q.line,Q.ch),ie?(Q.ch--,Q.ch<0&&(Q.line--,Q.ch=(this.doc.getLine(Q.line)||"").length)):(Q.ch++,Q.ch>(this.doc.getLine(Q.line)||"").length&&(Q.ch=0,Q.line++)),c.cmpPos(Q,this.doc.clipPos(Q))!=0))return this.atOccurrence=!1;var ne=this.matches(ie,Q);if(this.afterEmptyMatch=ne&&c.cmpPos(ne.from,ne.to)==0,ne)return this.pos=ne,this.atOccurrence=!0,this.pos.match||!0;var pe=g(ie?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:pe,to:pe},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(ie,Q){if(!!this.atOccurrence){var ne=c.splitLines(ie);this.doc.replaceRange(ne,this.pos.from,this.pos.to,Q),this.pos.to=g(this.pos.from.line+ne.length-1,ne[ne.length-1].length+(ne.length==1?this.pos.from.ch:0))}}},c.defineExtension("getSearchCursor",function(ie,Q,ne){return new be(this.doc,ie,Q,ne)}),c.defineDocExtension("getSearchCursor",function(ie,Q,ne){return new be(this,ie,Q,ne)}),c.defineExtension("selectMatches",function(ie,Q){for(var ne=[],pe=this.getSearchCursor(ie,this.getCursor("from"),Q);pe.findNext()&&!(c.cmpPos(pe.to(),this.getCursor("to"))>0);)ne.push({anchor:pe.from(),head:pe.to()});ne.length&&this.setSelections(ne,0)})})})();var Dg={exports:{}};(function(a,f){(function(c){c(Ln.exports)})(function(c){var g=/MSIE \d/.test(navigator.userAgent)&&(document.documentMode==null||document.documentMode<8),x=c.Pos,k={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function _(D){return D&&D.bracketRegex||/[(){}[\]]/}function C(D,G,K){var ge=D.getLineHandle(G.line),ae=G.ch-1,be=K&&K.afterCursor;be==null&&(be=/(^| )cm-fat-cursor($| )/.test(D.getWrapperElement().className));var ie=_(K),Q=!be&&ae>=0&&ie.test(ge.text.charAt(ae))&&k[ge.text.charAt(ae)]||ie.test(ge.text.charAt(ae+1))&&k[ge.text.charAt(++ae)];if(!Q)return null;var ne=Q.charAt(1)==">"?1:-1;if(K&&K.strict&&ne>0!=(ae==G.ch))return null;var pe=D.getTokenTypeAt(x(G.line,ae+1)),ve=S(D,x(G.line,ae+(ne>0?1:0)),ne,pe,K);return ve==null?null:{from:x(G.line,ae),to:ve&&ve.pos,match:ve&&ve.ch==Q.charAt(0),forward:ne>0}}function S(D,G,K,ge,ae){for(var be=ae&&ae.maxScanLineLength||1e4,ie=ae&&ae.maxScanLines||1e3,Q=[],ne=_(ae),pe=K>0?Math.min(G.line+ie,D.lastLine()+1):Math.max(D.firstLine()-1,G.line-ie),ve=G.line;ve!=pe;ve+=K){var E=D.getLine(ve);if(!!E){var $=K>0?0:E.length-1,fe=K>0?E.length:-1;if(!(E.length>be))for(ve==G.line&&($=G.ch-(K<0?1:0));$!=fe;$+=K){var Y=E.charAt($);if(ne.test(Y)&&(ge===void 0||(D.getTokenTypeAt(x(ve,$+1))||"")==(ge||""))){var U=k[Y];if(U&&U.charAt(1)==">"==K>0)Q.push(Y);else if(Q.length)Q.pop();else return{pos:x(ve,$),ch:Y}}}}}return ve-K==(K>0?D.lastLine():D.firstLine())?!1:null}function z(D,G,K){for(var ge=D.state.matchBrackets.maxHighlightLineLength||1e3,ae=K&&K.highlightNonMatching,be=[],ie=D.listSelections(),Q=0;Q<ie.length;Q++){var ne=ie[Q].empty()&&C(D,ie[Q].head,K);if(ne&&(ne.match||ae!==!1)&&D.getLine(ne.from.line).length<=ge){var pe=ne.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";be.push(D.markText(ne.from,x(ne.from.line,ne.from.ch+1),{className:pe})),ne.to&&D.getLine(ne.to.line).length<=ge&&be.push(D.markText(ne.to,x(ne.to.line,ne.to.ch+1),{className:pe}))}}if(be.length){g&&D.state.focused&&D.focus();var ve=function(){D.operation(function(){for(var E=0;E<be.length;E++)be[E].clear()})};if(G)setTimeout(ve,800);else return ve}}function H(D){D.operation(function(){D.state.matchBrackets.currentlyHighlighted&&(D.state.matchBrackets.currentlyHighlighted(),D.state.matchBrackets.currentlyHighlighted=null),D.state.matchBrackets.currentlyHighlighted=z(D,!1,D.state.matchBrackets)})}function V(D){D.state.matchBrackets&&D.state.matchBrackets.currentlyHighlighted&&(D.state.matchBrackets.currentlyHighlighted(),D.state.matchBrackets.currentlyHighlighted=null)}c.defineOption("matchBrackets",!1,function(D,G,K){K&&K!=c.Init&&(D.off("cursorActivity",H),D.off("focus",H),D.off("blur",V),V(D)),G&&(D.state.matchBrackets=typeof G=="object"?G:{},D.on("cursorActivity",H),D.on("focus",H),D.on("blur",V))}),c.defineExtension("matchBrackets",function(){z(this,!0)}),c.defineExtension("findMatchingBracket",function(D,G,K){return(K||typeof G=="boolean")&&(K?(K.strict=G,G=K):G=G?{strict:!0}:null),C(this,D,G)}),c.defineExtension("scanForBracket",function(D,G,K,ge){return S(this,D,G,K,ge)})})})();(function(a,f){(function(c){c(Ln.exports)})(function(c){var g=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,x=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,k=/[*+-]\s/;c.commands.newlineAndIndentContinueMarkdownList=function(C){if(C.getOption("disableInput"))return c.Pass;for(var S=C.listSelections(),z=[],H=0;H<S.length;H++){var V=S[H].head,D=C.getStateAfter(V.line),G=c.innerMode(C.getMode(),D);if(G.mode.name!=="markdown"){C.execCommand("newlineAndIndent");return}else D=G.state;var K=D.list!==!1,ge=D.quote!==0,ae=C.getLine(V.line),be=g.exec(ae),ie=/^\s*$/.test(ae.slice(0,V.ch));if(!S[H].empty()||!K&&!ge||!be||ie){C.execCommand("newlineAndIndent");return}if(x.test(ae)){var Q=ge&&/>\s*$/.test(ae),ne=!/>\s*$/.test(ae);(Q||ne)&&C.replaceRange("",{line:V.line,ch:0},{line:V.line,ch:V.ch+1}),z[H]=`
`}else{var pe=be[1],ve=be[5],E=!(k.test(be[2])||be[2].indexOf(">")>=0),$=E?parseInt(be[3],10)+1+be[4]:be[2].replace("x"," ");z[H]=`
`+pe+$+ve,E&&_(C,V)}}C.replaceSelections(z)};function _(C,S){var z=S.line,H=0,V=0,D=g.exec(C.getLine(z)),G=D[1];do{H+=1;var K=z+H,ge=C.getLine(K),ae=g.exec(ge);if(ae){var be=ae[1],ie=parseInt(D[3],10)+H-V,Q=parseInt(ae[3],10),ne=Q;if(G===be&&!isNaN(Q))ie===Q&&(ne=Q+1),ie>Q&&(ne=ie+1),C.replaceRange(ge.replace(g,be+ne+ae[4]+ae[5]),{line:K,ch:0},{line:K,ch:ge.length});else{if(G.length>be.length||G.length<be.length&&H===1)return;V+=1}}}while(ae)}})})();(function(a,f){(function(c){c(Ln.exports,Ig.exports,Fg.exports,Dg.exports)})(function(c){var g=c.Pos;function x(z,H){var V=z.state.vim;if(!V||V.insertMode)return H.head;var D=V.sel.head;if(!D)return H.head;if(!(V.visualBlock&&H.head.line!=D.line))return H.from()==H.anchor&&!H.empty()&&H.head.line==D.line&&H.head.ch!=D.ch?new g(H.head.line,H.head.ch-1):H.head}var k=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"g<Up>",type:"keyToKey",toKeys:"gk"},{keys:"g<Down>",type:"keyToKey",toKeys:"gj"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h",context:"normal"},{keys:"<Del>",type:"keyToKey",toKeys:"x",context:"normal"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B",context:"normal"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b",context:"normal"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"keyToKey",toKeys:"i",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"g$",type:"motion",motion:"moveToEndOfDisplayLine"},{keys:"g^",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"g0",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"gn",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!0}},{keys:"gN",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!1}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-u>",type:"operatorMotion",operator:"delete",motion:"moveToStartOfLine",context:"insert"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"gi",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"lastEdit"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"gI",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"bol"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"gJ",type:"action",action:"joinLines",actionArgs:{keepSpaces:!0},isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<character>",type:"action",action:"replayMacro"},{keys:"q<character>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0},context:"normal"},{keys:"R",type:"operator",operator:"change",operatorArgs:{linewise:!0,fullLine:!0},context:"visual",exitVisualBlock:!0},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<character>",type:"action",action:"setMark"},{keys:'"<character>',type:"action",action:"setRegister"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<character>",type:"motion",motion:"textObjectManipulation"},{keys:"i<character>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],_=k.length,C=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"unmap"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"vglobal",shortName:"v"},{name:"global",shortName:"g"}],S=function(){function z(o){o.setOption("disableInput",!0),o.setOption("showCursorWhenSelecting",!1),c.signal(o,"vim-mode-change",{mode:"normal"}),o.on("cursorActivity",I),qe(o),c.on(o.getInputField(),"paste",be(o))}function H(o){o.setOption("disableInput",!1),o.off("cursorActivity",I),c.off(o.getInputField(),"paste",be(o)),o.state.vim=null,bn&&clearTimeout(bn)}function V(o,s){this==c.keyMap.vim&&(o.options.$customCursor=null,c.rmClass(o.getWrapperElement(),"cm-fat-cursor")),(!s||s.attach!=D)&&H(o)}function D(o,s){this==c.keyMap.vim&&(o.curOp&&(o.curOp.selectionChanged=!0),o.options.$customCursor=x,c.addClass(o.getWrapperElement(),"cm-fat-cursor")),(!s||s.attach!=D)&&z(o)}c.defineOption("vimMode",!1,function(o,s,u){s&&o.getOption("keyMap")!="vim"?o.setOption("keyMap","vim"):!s&&u!=c.Init&&/^vim/.test(o.getOption("keyMap"))&&o.setOption("keyMap","default")});function G(o,s){if(!!s){if(this[o])return this[o];var u=ae(o);if(!u)return!1;var d=$e.findKey(s,u);return typeof d=="function"&&c.signal(s,"vim-keypress",u),d}}var K={Shift:"S",Ctrl:"C",Alt:"A",Cmd:"D",Mod:"A",CapsLock:""},ge={Enter:"CR",Backspace:"BS",Delete:"Del",Insert:"Ins"};function ae(o){if(o.charAt(0)=="'")return o.charAt(1);var s=o.split(/-(?!$)/),u=s[s.length-1];if(s.length==1&&s[0].length==1)return!1;if(s.length==2&&s[0]=="Shift"&&u.length==1)return!1;for(var d=!1,v=0;v<s.length;v++){var m=s[v];m in K?s[v]=K[m]:d=!0,m in ge&&(s[v]=ge[m])}return d?(Se(u)&&(s[s.length-1]=u.toLowerCase()),"<"+s.join("-")+">"):!1}function be(o){var s=o.state.vim;return s.onPasteFn||(s.onPasteFn=function(){s.insertMode||(o.setCursor(xt(o.getCursor(),0,1)),re.enterInsertMode(o,{},s))}),s.onPasteFn}var ie=/[\d]/,Q=[c.isWordChar,function(o){return o&&!c.isWordChar(o)&&!/\s/.test(o)}],ne=[function(o){return/\S/.test(o)}];function pe(o,s){for(var u=[],d=o;d<o+s;d++)u.push(String.fromCharCode(d));return u}var ve=pe(65,26),E=pe(97,26),$=pe(48,10),fe=[].concat(ve,E,$,["<",">"]),Y=[].concat(ve,E,$,["-",'"',".",":","_","/"]),U;try{U=new RegExp("^[\\p{Lu}]$","u")}catch{U=/^[A-Z]$/}function Oe(o,s){return s>=o.firstLine()&&s<=o.lastLine()}function J(o){return/^[a-z]$/.test(o)}function te(o){return"()[]{}".indexOf(o)!=-1}function A(o){return ie.test(o)}function Se(o){return U.test(o)}function ke(o){return/^\s*$/.test(o)}function ze(o){return".?!".indexOf(o)!=-1}function ye(o,s){for(var u=0;u<s.length;u++)if(s[u]==o)return!0;return!1}var Be={};function Qe(o,s,u,d,v){if(s===void 0&&!v)throw Error("defaultValue is required unless callback is provided");if(u||(u="string"),Be[o]={type:u,defaultValue:s,callback:v},d)for(var m=0;m<d.length;m++)Be[d[m]]=Be[o];s&&W(o,s)}function W(o,s,u,d){var v=Be[o];d=d||{};var m=d.scope;if(!v)return new Error("Unknown option: "+o);if(v.type=="boolean"){if(s&&s!==!0)return new Error("Invalid argument: "+o+"="+s);s!==!1&&(s=!0)}v.callback?(m!=="local"&&v.callback(s,void 0),m!=="global"&&u&&v.callback(s,u)):(m!=="local"&&(v.value=v.type=="boolean"?!!s:s),m!=="global"&&u&&(u.state.vim.options[o]={value:s}))}function T(o,s,u){var d=Be[o];u=u||{};var v=u.scope;if(!d)return new Error("Unknown option: "+o);if(d.callback){var m=s&&d.callback(void 0,s);return v!=="global"&&m!==void 0?m:v!=="local"?d.callback():void 0}else{var m=v!=="global"&&s&&s.state.vim.options[o];return(m||v!=="local"&&d||{}).value}}Qe("filetype",void 0,"string",["ft"],function(o,s){if(s!==void 0)if(o===void 0){var u=s.getOption("mode");return u=="null"?"":u}else{var u=o==""?"null":o;s.setOption("mode",u)}});var je=function(){var o=100,s=-1,u=0,d=0,v=new Array(o);function m(N,ee,X){var Me=s%o,_e=v[Me];function Ce(tt){var Ue=++s%o,dt=v[Ue];dt&&dt.clear(),v[Ue]=N.setBookmark(tt)}if(_e){var Re=_e.find();Re&&!et(Re,ee)&&Ce(ee)}else Ce(ee);Ce(X),u=s,d=s-o+1,d<0&&(d=0)}function M(N,ee){s+=ee,s>u?s=u:s<d&&(s=d);var X=v[(o+s)%o];if(X&&!X.find()){var Me=ee>0?1:-1,_e,Ce=N.getCursor();do if(s+=Me,X=v[(o+s)%o],X&&(_e=X.find())&&!et(Ce,_e))break;while(s<u&&s>d)}return X}function R(N,ee){var X=s,Me=M(N,ee);return s=X,Me&&Me.find()}return{cachedCursor:void 0,add:m,find:R,move:M}},Je=function(o){return o?{changes:o.changes,expectCursorActivityForChange:o.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};function Fe(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=Je()}Fe.prototype={exitMacroRecordMode:function(){var o=Ae.macroModeState;o.onRecordingDone&&o.onRecordingDone(),o.onRecordingDone=void 0,o.isRecording=!1},enterMacroRecordMode:function(o,s){var u=Ae.registerController.getRegister(s);u&&(u.clear(),this.latestRegister=s,o.openDialog&&(this.onRecordingDone=o.openDialog(document.createTextNode("(recording)["+s+"]"),null,{bottom:!0})),this.isRecording=!0)}};function qe(o){return o.state.vim||(o.state.vim={inputState:new nt,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},insertMode:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{}}),o.state.vim}var Ae;function ht(){Ae={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:je(),macroModeState:new Fe,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new me({}),searchHistoryController:new Te,exCommandHistoryController:new Te};for(var o in Be){var s=Be[o];s.value=s.defaultValue}}var it,$e={buildKeyMap:function(){},getRegisterController:function(){return Ae.registerController},resetVimGlobalState_:ht,getVimGlobalState_:function(){return Ae},maybeInitVimState_:qe,suppressErrorLogging:!1,InsertModeKey:q,map:function(o,s,u){or.map(o,s,u)},unmap:function(o,s){return or.unmap(o,s)},noremap:function(o,s,u){function d(_e){return _e?[_e]:["normal","insert","visual"]}for(var v=d(u),m=k.length,M=_,R=m-M;R<m&&v.length;R++){var N=k[R];if(N.keys==s&&(!u||!N.context||N.context===u)&&N.type.substr(0,2)!=="ex"&&N.type.substr(0,3)!=="key"){var ee={};for(var X in N)ee[X]=N[X];ee.keys=o,u&&!ee.context&&(ee.context=u),this._mapCommand(ee);var Me=d(N.context);v=v.filter(function(_e){return Me.indexOf(_e)===-1})}}},mapclear:function(o){var s=k.length,u=_,d=k.slice(0,s-u);if(k=k.slice(s-u),o)for(var v=d.length-1;v>=0;v--){var m=d[v];if(o!==m.context)if(m.context)this._mapCommand(m);else{var M=["normal","insert","visual"];for(var R in M)if(M[R]!==o){var N={};for(var ee in m)N[ee]=m[ee];N.context=M[R],this._mapCommand(N)}}}},setOption:W,getOption:T,defineOption:Qe,defineEx:function(o,s,u){if(!s)s=o;else if(o.indexOf(s)!==0)throw new Error('(Vim.defineEx) "'+s+'" is not a prefix of "'+o+'", command not registered');yr[o]=u,or.commandMap_[s]={name:o,shortName:s,type:"api"}},handleKey:function(o,s,u){var d=this.findKey(o,s,u);if(typeof d=="function")return d()},findKey:function(o,s,u){var d=qe(o);function v(){var X=Ae.macroModeState;if(X.isRecording){if(s=="q")return X.exitMacroRecordMode(),P(o),!0;u!="mapping"&&ut(X,s)}}function m(){if(s=="<Esc>")return P(o),d.visualMode?$t(o):d.insertMode&&tn(o),!0}function M(X){for(var Me;X;)Me=/<\w+-.+?>|<\w+>|./.exec(X),s=Me[0],X=X.substring(Me.index+s.length),$e.handleKey(o,s,"mapping")}function R(){if(m())return!0;for(var X=d.inputState.keyBuffer=d.inputState.keyBuffer+s,Me=s.length==1,_e=De.matchCommand(X,k,d.inputState,"insert");X.length>1&&_e.type!="full";){var X=d.inputState.keyBuffer=X.slice(1),Ce=De.matchCommand(X,k,d.inputState,"insert");Ce.type!="none"&&(_e=Ce)}if(_e.type=="none")return P(o),!1;if(_e.type=="partial")return it&&window.clearTimeout(it),it=window.setTimeout(function(){d.insertMode&&d.inputState.keyBuffer&&P(o)},T("insertModeEscKeysTimeout")),!Me;if(it&&window.clearTimeout(it),Me){for(var Re=o.listSelections(),tt=0;tt<Re.length;tt++){var Ue=Re[tt].head;o.replaceRange("",xt(Ue,0,-(X.length-1)),Ue,"+input")}Ae.macroModeState.lastInsertModeChanges.changes.pop()}return P(o),_e.command}function N(){if(v()||m())return!0;var X=d.inputState.keyBuffer=d.inputState.keyBuffer+s;if(/^[1-9]\d*$/.test(X))return!0;var Re=/^(\d*)(.*)$/.exec(X);if(!Re)return P(o),!1;var Me=d.visualMode?"visual":"normal",_e=Re[2]||Re[1];d.inputState.operatorShortcut&&d.inputState.operatorShortcut.slice(-1)==_e&&(_e=d.inputState.operatorShortcut);var Ce=De.matchCommand(_e,k,d.inputState,Me);if(Ce.type=="none")return P(o),!1;if(Ce.type=="partial")return!0;d.inputState.keyBuffer="";var Re=/^(\d*)(.*)$/.exec(X);return Re[1]&&Re[1]!="0"&&d.inputState.pushRepeatDigit(Re[1]),Ce.command}var ee;return d.insertMode?ee=R():ee=N(),ee===!1?!d.insertMode&&s.length===1?function(){return!0}:void 0:ee===!0?function(){return!0}:function(){return o.operation(function(){o.curOp.isVimOp=!0;try{ee.type=="keyToKey"?M(ee.toKeys):De.processCommand(o,d,ee)}catch(X){throw o.state.vim=void 0,qe(o),$e.suppressErrorLogging||console.log(X),X}return!0})}},handleEx:function(o,s){or.processCommand(o,s)},defineMotion:xe,defineAction:Ke,defineOperator:de,mapCommand:wi,_mapCommand:Ur,defineRegister:he,exitVisualMode:$t,exitInsertMode:tn};function nt(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null}nt.prototype.pushRepeatDigit=function(o){this.operator?this.motionRepeat=this.motionRepeat.concat(o):this.prefixRepeat=this.prefixRepeat.concat(o)},nt.prototype.getRepeat=function(){var o=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(o=1,this.prefixRepeat.length>0&&(o*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(o*=parseInt(this.motionRepeat.join(""),10))),o};function P(o,s){o.state.vim.inputState=new nt,c.signal(o,"vim-command-done",s)}function Z(o,s,u){this.clear(),this.keyBuffer=[o||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!s,this.blockwise=!!u}Z.prototype={setText:function(o,s,u){this.keyBuffer=[o||""],this.linewise=!!s,this.blockwise=!!u},pushText:function(o,s){s&&(this.linewise||this.keyBuffer.push(`
`),this.linewise=!0),this.keyBuffer.push(o)},pushInsertModeChanges:function(o){this.insertModeChanges.push(Je(o))},pushSearchQuery:function(o){this.searchQueries.push(o)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join("")}};function he(o,s){var u=Ae.registerController.registers;if(!o||o.length!=1)throw Error("Register name must be 1 character");if(u[o])throw Error("Register already defined "+o);u[o]=s,Y.push(o)}function me(o){this.registers=o,this.unnamedRegister=o['"']=new Z,o["."]=new Z,o[":"]=new Z,o["/"]=new Z}me.prototype={pushText:function(o,s,u,d,v){if(o!=="_"){d&&u.charAt(u.length-1)!==`
`&&(u+=`
`);var m=this.isValidRegister(o)?this.getRegister(o):null;if(!m){switch(s){case"yank":this.registers["0"]=new Z(u,d,v);break;case"delete":case"change":u.indexOf(`
`)==-1?this.registers["-"]=new Z(u,d):(this.shiftNumericRegisters_(),this.registers["1"]=new Z(u,d));break}this.unnamedRegister.setText(u,d,v);return}var M=Se(o);M?m.pushText(u,d):m.setText(u,d,v),this.unnamedRegister.setText(m.toString(),d)}},getRegister:function(o){return this.isValidRegister(o)?(o=o.toLowerCase(),this.registers[o]||(this.registers[o]=new Z),this.registers[o]):this.unnamedRegister},isValidRegister:function(o){return o&&ye(o,Y)},shiftNumericRegisters_:function(){for(var o=9;o>=2;o--)this.registers[o]=this.getRegister(""+(o-1))}};function Te(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}Te.prototype={nextMatch:function(o,s){var u=this.historyBuffer,d=s?-1:1;this.initialPrefix===null&&(this.initialPrefix=o);for(var v=this.iterator+d;s?v>=0:v<u.length;v+=d)for(var m=u[v],M=0;M<=m.length;M++)if(this.initialPrefix==m.substring(0,M))return this.iterator=v,m;if(v>=u.length)return this.iterator=u.length,this.initialPrefix;if(v<0)return o},pushInput:function(o){var s=this.historyBuffer.indexOf(o);s>-1&&this.historyBuffer.splice(s,1),o.length&&this.historyBuffer.push(o)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var De={matchCommand:function(o,s,u,d){var v=yt(o,s,d,u);if(!v.full&&!v.partial)return{type:"none"};if(!v.full&&v.partial)return{type:"partial"};for(var m,M=0;M<v.full.length;M++){var R=v.full[M];m||(m=R)}if(m.keys.slice(-11)=="<character>"){var N=Qt(o);if(!N)return{type:"none"};u.selectedCharacter=N}return{type:"full",command:m}},processCommand:function(o,s,u){switch(s.inputState.repeatOverride=u.repeatOverride,u.type){case"motion":this.processMotion(o,s,u);break;case"operator":this.processOperator(o,s,u);break;case"operatorMotion":this.processOperatorMotion(o,s,u);break;case"action":this.processAction(o,s,u);break;case"search":this.processSearch(o,s,u);break;case"ex":case"keyToEx":this.processEx(o,s,u);break}},processMotion:function(o,s,u){s.inputState.motion=u.motion,s.inputState.motionArgs=vt(u.motionArgs),this.evalInput(o,s)},processOperator:function(o,s,u){var d=s.inputState;if(d.operator)if(d.operator==u.operator){d.motion="expandToLine",d.motionArgs={linewise:!0},this.evalInput(o,s);return}else P(o);d.operator=u.operator,d.operatorArgs=vt(u.operatorArgs),u.keys.length>1&&(d.operatorShortcut=u.keys),u.exitVisualBlock&&(s.visualBlock=!1,Wt(o)),s.visualMode&&this.evalInput(o,s)},processOperatorMotion:function(o,s,u){var d=s.visualMode,v=vt(u.operatorMotionArgs);v&&d&&v.visualLine&&(s.visualLine=!0),this.processOperator(o,s,u),d||this.processMotion(o,s,u)},processAction:function(o,s,u){var d=s.inputState,v=d.getRepeat(),m=!!v,M=vt(u.actionArgs)||{};d.selectedCharacter&&(M.selectedCharacter=d.selectedCharacter),u.operator&&this.processOperator(o,s,u),u.motion&&this.processMotion(o,s,u),(u.motion||u.operator)&&this.evalInput(o,s),M.repeat=v||1,M.repeatIsExplicit=m,M.registerName=d.registerName,P(o),s.lastMotion=null,u.isEdit&&this.recordLastEdit(s,d,u),re[u.action](o,M,s)},processSearch:function(o,s,u){if(!o.getSearchCursor)return;var d=u.searchArgs.forward,v=u.searchArgs.wholeWordOnly;Xt(o).setReversed(!d);var m=d?"/":"?",M=Xt(o).getQuery(),R=o.getScrollInfo();function N(Ue,dt,wt){Ae.searchHistoryController.pushInput(Ue),Ae.searchHistoryController.reset();try{En(o,Ue,dt,wt)}catch{bt(o,"Invalid regex: "+Ue),P(o);return}De.processMotion(o,s,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:u.searchArgs.toJumplist}})}function ee(Ue){o.scrollTo(R.left,R.top),N(Ue,!0,!0);var dt=Ae.macroModeState;dt.isRecording&&Et(dt,Ue)}function X(Ue,dt,wt){var mt=c.keyName(Ue),Ot,ar;mt=="Up"||mt=="Down"?(Ot=mt=="Up",ar=Ue.target?Ue.target.selectionEnd:0,dt=Ae.searchHistoryController.nextMatch(dt,Ot)||"",wt(dt),ar&&Ue.target&&(Ue.target.selectionEnd=Ue.target.selectionStart=Math.min(ar,Ue.target.value.length))):mt!="Left"&&mt!="Right"&&mt!="Ctrl"&&mt!="Alt"&&mt!="Shift"&&Ae.searchHistoryController.reset();var Zt;try{Zt=En(o,dt,!0,!0)}catch{}Zt?o.scrollIntoView(Wr(o,!d,Zt),30):(wn(o),o.scrollTo(R.left,R.top))}function Me(Ue,dt,wt){var mt=c.keyName(Ue);mt=="Esc"||mt=="Ctrl-C"||mt=="Ctrl-["||mt=="Backspace"&&dt==""?(Ae.searchHistoryController.pushInput(dt),Ae.searchHistoryController.reset(),En(o,M),wn(o),o.scrollTo(R.left,R.top),c.e_stop(Ue),P(o),wt(),o.focus()):mt=="Up"||mt=="Down"?c.e_stop(Ue):mt=="Ctrl-U"&&(c.e_stop(Ue),wt(""))}switch(u.searchArgs.querySrc){case"prompt":var _e=Ae.macroModeState;if(_e.isPlaying){var tt=_e.replaySearchQueries.shift();N(tt,!0,!1)}else dr(o,{onClose:ee,prefix:m,desc:"(JavaScript regexp)",onKeyUp:X,onKeyDown:Me});break;case"wordUnderCursor":var Ce=Qr(o,!1,!0,!1,!0),Re=!0;if(Ce||(Ce=Qr(o,!1,!0,!1,!1),Re=!1),!Ce)return;var tt=o.getLine(Ce.start.line).substring(Ce.start.ch,Ce.end.ch);Re&&v?tt="\\b"+tt+"\\b":tt=rr(tt),Ae.jumpList.cachedCursor=o.getCursor(),o.setCursor(Ce.start),N(tt,!0,!1);break}},processEx:function(o,s,u){function d(m){Ae.exCommandHistoryController.pushInput(m),Ae.exCommandHistoryController.reset(),or.processCommand(o,m)}function v(m,M,R){var N=c.keyName(m),ee,X;(N=="Esc"||N=="Ctrl-C"||N=="Ctrl-["||N=="Backspace"&&M=="")&&(Ae.exCommandHistoryController.pushInput(M),Ae.exCommandHistoryController.reset(),c.e_stop(m),P(o),R(),o.focus()),N=="Up"||N=="Down"?(c.e_stop(m),ee=N=="Up",X=m.target?m.target.selectionEnd:0,M=Ae.exCommandHistoryController.nextMatch(M,ee)||"",R(M),X&&m.target&&(m.target.selectionEnd=m.target.selectionStart=Math.min(X,m.target.value.length))):N=="Ctrl-U"?(c.e_stop(m),R("")):N!="Left"&&N!="Right"&&N!="Ctrl"&&N!="Alt"&&N!="Shift"&&Ae.exCommandHistoryController.reset()}u.type=="keyToEx"?or.processCommand(o,u.exArgs.input):s.visualMode?dr(o,{onClose:d,prefix:":",value:"'<,'>",onKeyDown:v,selectValueOnOpen:!1}):dr(o,{onClose:d,prefix:":",onKeyDown:v})},evalInput:function(o,s){var u=s.inputState,d=u.motion,v=u.motionArgs||{},m=u.operator,M=u.operatorArgs||{},R=u.registerName,N=s.sel,ee=At(s.visualMode?Ve(o,N.head):o.getCursor("head")),X=At(s.visualMode?Ve(o,N.anchor):o.getCursor("anchor")),Me=At(ee),_e=At(X),Ce,Re,tt;if(m&&this.recordLastEdit(s,u),u.repeatOverride!==void 0?tt=u.repeatOverride:tt=u.getRepeat(),tt>0&&v.explicitRepeat?v.repeatIsExplicit=!0:(v.noRepeat||!v.explicitRepeat&&tt===0)&&(tt=1,v.repeatIsExplicit=!1),u.selectedCharacter&&(v.selectedCharacter=M.selectedCharacter=u.selectedCharacter),v.repeat=tt,P(o),d){var Ue=we[d](o,ee,v,s,u);if(s.lastMotion=we[d],!Ue)return;if(v.toJumplist){var dt=Ae.jumpList,wt=dt.cachedCursor;wt?(Dt(o,wt,Ue),delete dt.cachedCursor):Dt(o,ee,Ue)}Ue instanceof Array?(Re=Ue[0],Ce=Ue[1]):Ce=Ue,Ce||(Ce=At(ee)),s.visualMode?(s.visualBlock&&Ce.ch===1/0||(Ce=Ve(o,Ce)),Re&&(Re=Ve(o,Re)),Re=Re||_e,N.anchor=Re,N.head=Ce,Wt(o),ir(o,s,"<",Mt(Re,Ce)?Re:Ce),ir(o,s,">",Mt(Re,Ce)?Ce:Re)):m||(Ce=Ve(o,Ce),o.setCursor(Ce.line,Ce.ch))}if(m){if(M.lastSel){Re=_e;var mt=M.lastSel,Ot=Math.abs(mt.head.line-mt.anchor.line),ar=Math.abs(mt.head.ch-mt.anchor.ch);mt.visualLine?Ce=new g(_e.line+Ot,_e.ch):mt.visualBlock?Ce=new g(_e.line+Ot,_e.ch+ar):mt.head.line==mt.anchor.line?Ce=new g(_e.line,_e.ch+ar):Ce=new g(_e.line+Ot,_e.ch),s.visualMode=!0,s.visualLine=mt.visualLine,s.visualBlock=mt.visualBlock,N=s.sel={anchor:Re,head:Ce},Wt(o)}else s.visualMode&&(M.lastSel={anchor:At(N.anchor),head:At(N.head),visualBlock:s.visualBlock,visualLine:s.visualLine});var Zt,lr,Nt,Tt,kr;if(s.visualMode){if(Zt=kt(N.head,N.anchor),lr=ot(N.head,N.anchor),Nt=s.visualLine||M.linewise,Tt=s.visualBlock?"block":Nt?"line":"char",kr=fr(o,{anchor:Zt,head:lr},Tt),Nt){var qr=kr.ranges;if(Tt=="block")for(var Cr=0;Cr<qr.length;Cr++)qr[Cr].head.ch=Pt(o,qr[Cr].head.line);else Tt=="line"&&(qr[0].head=new g(qr[0].head.line+1,0))}}else{if(Zt=At(Re||_e),lr=At(Ce||Me),Mt(lr,Zt)){var On=Zt;Zt=lr,lr=On}Nt=v.linewise||M.linewise,Nt?_n(o,Zt,lr):v.forward&&Mn(o,Zt,lr),Tt="char";var Fn=!v.inclusive||Nt;kr=fr(o,{anchor:Zt,head:lr},Tt,Fn)}o.setSelections(kr.ranges,kr.primary),s.lastMotion=null,M.repeat=tt,M.registerName=R,M.linewise=Nt;var vo=F[m](o,M,kr.ranges,_e,Ce);s.visualMode&&$t(o,vo!=null),vo&&o.setCursor(vo)}},recordLastEdit:function(o,s,u){var d=Ae.macroModeState;d.isPlaying||(o.lastEditInputState=s,o.lastEditActionCommand=u,d.lastInsertModeChanges.changes=[],d.lastInsertModeChanges.expectCursorActivityForChange=!1,d.lastInsertModeChanges.visualBlock=o.visualBlock?o.sel.head.line-o.sel.anchor.line:0)}},we={moveToTopLine:function(o,s,u){var d=kn(o).top+u.repeat-1;return new g(d,Tr(o.getLine(d)))},moveToMiddleLine:function(o){var s=kn(o),u=Math.floor((s.top+s.bottom)*.5);return new g(u,Tr(o.getLine(u)))},moveToBottomLine:function(o,s,u){var d=kn(o).bottom-u.repeat+1;return new g(d,Tr(o.getLine(d)))},expandToLine:function(o,s,u){var d=s;return new g(d.line+u.repeat-1,1/0)},findNext:function(o,s,u){var d=Xt(o),v=d.getQuery();if(!!v){var m=!u.forward;return m=d.isReversed()?!m:m,Pr(o,v),Wr(o,m,v,u.repeat)}},findAndSelectNextInclusive:function(o,s,u,d,v){var m=Xt(o),M=m.getQuery();if(!!M){var R=!u.forward;R=m.isReversed()?!R:R;var N=Nn(o,R,M,u.repeat,d);if(!!N){if(v.operator)return N;var ee=N[0],X=new g(N[1].line,N[1].ch-1);if(d.visualMode){(d.visualLine||d.visualBlock)&&(d.visualLine=!1,d.visualBlock=!1,c.signal(o,"vim-mode-change",{mode:"visual",subMode:""}));var Me=d.sel.anchor;if(Me)return m.isReversed()?u.forward?[Me,ee]:[Me,X]:u.forward?[Me,X]:[Me,ee]}else d.visualMode=!0,d.visualLine=!1,d.visualBlock=!1,c.signal(o,"vim-mode-change",{mode:"visual",subMode:""});return R?[X,ee]:[ee,X]}}},goToMark:function(o,s,u,d){var v=$n(o,d,u.selectedCharacter);return v?u.linewise?{line:v.line,ch:Tr(o.getLine(v.line))}:v:null},moveToOtherHighlightedEnd:function(o,s,u,d){if(d.visualBlock&&u.sameLine){var v=d.sel;return[Ve(o,new g(v.anchor.line,v.head.ch)),Ve(o,new g(v.head.line,v.anchor.ch))]}else return[d.sel.head,d.sel.anchor]},jumpToMark:function(o,s,u,d){for(var v=s,m=0;m<u.repeat;m++){var M=v;for(var R in d.marks)if(!!J(R)){var N=d.marks[R].find(),ee=u.forward?Mt(N,M):Mt(M,N);if(!ee&&!(u.linewise&&N.line==M.line)){var X=et(M,v),Me=u.forward?Rt(M,N,v):Rt(v,N,M);(X||Me)&&(v=N)}}}return u.linewise&&(v=new g(v.line,Tr(o.getLine(v.line)))),v},moveByCharacters:function(o,s,u){var d=s,v=u.repeat,m=u.forward?d.ch+v:d.ch-v;return new g(d.line,m)},moveByLines:function(o,s,u,d){var v=s,m=v.ch;switch(d.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:m=d.lastHPos;break;default:d.lastHPos=m}var M=u.repeat+(u.repeatOffset||0),R=u.forward?v.line+M:v.line-M,N=o.firstLine(),ee=o.lastLine(),X=o.findPosV(v,u.forward?M:-M,"line",d.lastHSPos),Me=u.forward?X.line>R:X.line<R;return Me&&(R=X.line,m=X.ch),R<N&&v.line==N?this.moveToStartOfLine(o,s,u,d):R>ee&&v.line==ee?wr(o,s,u,d,!0):(u.toFirstChar&&(m=Tr(o.getLine(R)),d.lastHPos=m),d.lastHSPos=o.charCoords(new g(R,m),"div").left,new g(R,m))},moveByDisplayLines:function(o,s,u,d){var v=s;switch(d.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:d.lastHSPos=o.charCoords(v,"div").left}var m=u.repeat,M=o.findPosV(v,u.forward?m:-m,"line",d.lastHSPos);if(M.hitSide)if(u.forward)var R=o.charCoords(M,"div"),N={top:R.top+8,left:d.lastHSPos},M=o.coordsChar(N,"div");else{var ee=o.charCoords(new g(o.firstLine(),0),"div");ee.left=d.lastHSPos,M=o.coordsChar(ee,"div")}return d.lastHPos=M.ch,M},moveByPage:function(o,s,u){var d=s,v=u.repeat;return o.findPosV(d,u.forward?v:-v,"page")},moveByParagraph:function(o,s,u){var d=u.forward?1:-1;return at(o,s,u.repeat,d)},moveBySentence:function(o,s,u){var d=u.forward?1:-1;return vr(o,s,u.repeat,d)},moveByScroll:function(o,s,u,d){var v=o.getScrollInfo(),R=null,m=u.repeat;m||(m=v.clientHeight/(2*o.defaultTextHeight()));var M=o.charCoords(s,"local");u.repeat=m;var R=we.moveByDisplayLines(o,s,u,d);if(!R)return null;var N=o.charCoords(R,"local");return o.scrollTo(null,v.top+N.top-M.top),R},moveByWords:function(o,s,u){return Or(o,s,u.repeat,!!u.forward,!!u.wordEnd,!!u.bigWord)},moveTillCharacter:function(o,s,u){var d=u.repeat,v=hr(o,d,u.forward,u.selectedCharacter),m=u.forward?-1:1;return gr(m,u),v?(v.ch+=m,v):null},moveToCharacter:function(o,s,u){var d=u.repeat;return gr(0,u),hr(o,d,u.forward,u.selectedCharacter)||s},moveToSymbol:function(o,s,u){var d=u.repeat;return hn(o,d,u.forward,u.selectedCharacter)||s},moveToColumn:function(o,s,u,d){var v=u.repeat;return d.lastHPos=v-1,d.lastHSPos=o.charCoords(s,"div").left,Dr(o,v)},moveToEol:function(o,s,u,d){return wr(o,s,u,d,!1)},moveToFirstNonWhiteSpaceCharacter:function(o,s){var u=s;return new g(u.line,Tr(o.getLine(u.line)))},moveToMatchedSymbol:function(o,s){for(var u=s,d=u.line,v=u.ch,m=o.getLine(d),M;v<m.length;v++)if(M=m.charAt(v),M&&te(M)){var R=o.getTokenTypeAt(new g(d,v+1));if(R!=="string"&&R!=="comment")break}if(v<m.length){var N=v==="<"||v===">"?/[(){}[\]<>]/:/[(){}[\]]/,ee=o.findMatchingBracket(new g(d,v),{bracketRegex:N});return ee.to}else return u},moveToStartOfLine:function(o,s){return new g(s.line,0)},moveToLineOrEdgeOfDocument:function(o,s,u){var d=u.forward?o.lastLine():o.firstLine();return u.repeatIsExplicit&&(d=u.repeat-o.getOption("firstLineNumber")),new g(d,Tr(o.getLine(d)))},moveToStartOfDisplayLine:function(o){return o.execCommand("goLineLeft"),o.getCursor()},moveToEndOfDisplayLine:function(o){o.execCommand("goLineRight");var s=o.getCursor();return s.sticky=="before"&&s.ch--,s},textObjectManipulation:function(o,s,u,d){var v={"(":")",")":"(","{":"}","}":"{","[":"]","]":"[","<":">",">":"<"},m={"'":!0,'"':!0,"`":!0},M=u.selectedCharacter;M=="b"?M="(":M=="B"&&(M="{");var R=!u.textObjectInner,N;if(v[M])N=dn(o,s,M,R);else if(m[M])N=mr(o,s,M,R);else if(M==="W")N=Qr(o,R,!0,!0);else if(M==="w")N=Qr(o,R,!0,!1);else if(M==="p")if(N=at(o,s,u.repeat,0,R),u.linewise=!0,d.visualMode)d.visualLine||(d.visualLine=!0);else{var ee=d.inputState.operatorArgs;ee&&(ee.linewise=!0),N.end.line--}else if(M==="t")N=jr(o,s,R);else return null;return o.state.vim.visualMode?An(o,N.start,N.end):[N.start,N.end]},repeatLastCharacterSearch:function(o,s,u){var d=Ae.lastCharacterSearch,v=u.repeat,m=u.forward===d.forward,M=(d.increment?1:0)*(m?-1:1);o.moveH(-M,"char"),u.inclusive=!!m;var R=hr(o,v,m,d.selectedCharacter);return R?(R.ch+=M,R):(o.moveH(M,"char"),s)}};function xe(o,s){we[o]=s}function ce(o,s){for(var u=[],d=0;d<s;d++)u.push(o);return u}var F={change:function(o,s,u){var d,v,m=o.state.vim,M=u[0].anchor,R=u[0].head;if(m.visualMode)if(s.fullLine)R.ch=Number.MAX_VALUE,R.line--,o.setSelection(M,R),v=o.getSelection(),o.replaceSelection(""),d=M;else{v=o.getSelection();var _e=ce("",u.length);o.replaceSelections(_e),d=kt(u[0].head,u[0].anchor)}else{v=o.getRange(M,R);var N=m.lastEditInputState||{};if(N.motion=="moveByWords"&&!ke(v)){var ee=/\s+$/.exec(v);ee&&N.motionArgs&&N.motionArgs.forward&&(R=xt(R,0,-ee[0].length),v=v.slice(0,-ee[0].length))}var X=new g(M.line-1,Number.MAX_VALUE),Me=o.firstLine()==o.lastLine();R.line>o.lastLine()&&s.linewise&&!Me?o.replaceRange("",X,R):o.replaceRange("",M,R),s.linewise&&(Me||(o.setCursor(X),c.commands.newlineAndIndent(o)),M.ch=Number.MAX_VALUE),d=M}Ae.registerController.pushText(s.registerName,"change",v,s.linewise,u.length>1),re.enterInsertMode(o,{head:d},o.state.vim)},delete:function(o,s,u){var d,v,m=o.state.vim;if(m.visualBlock){v=o.getSelection();var N=ce("",u.length);o.replaceSelections(N),d=kt(u[0].head,u[0].anchor)}else{var M=u[0].anchor,R=u[0].head;s.linewise&&R.line!=o.firstLine()&&M.line==o.lastLine()&&M.line==R.line-1&&(M.line==o.firstLine()?M.ch=0:M=new g(M.line-1,Pt(o,M.line-1))),v=o.getRange(M,R),o.replaceRange("",M,R),d=M,s.linewise&&(d=we.moveToFirstNonWhiteSpaceCharacter(o,M))}return Ae.registerController.pushText(s.registerName,"delete",v,s.linewise,m.visualBlock),Ve(o,d)},indent:function(o,s,u){var d=o.state.vim,v=u[0].anchor.line,m=d.visualBlock?u[u.length-1].anchor.line:u[0].head.line,M=d.visualMode?s.repeat:1;s.linewise&&m--;for(var R=v;R<=m;R++)for(var N=0;N<M;N++)o.indentLine(R,s.indentRight);return we.moveToFirstNonWhiteSpaceCharacter(o,u[0].anchor)},indentAuto:function(o,s,u){return o.execCommand("indentAuto"),we.moveToFirstNonWhiteSpaceCharacter(o,u[0].anchor)},changeCase:function(o,s,u,d,v){for(var m=o.getSelections(),M=[],R=s.toLower,N=0;N<m.length;N++){var ee=m[N],X="";if(R===!0)X=ee.toLowerCase();else if(R===!1)X=ee.toUpperCase();else for(var Me=0;Me<ee.length;Me++){var _e=ee.charAt(Me);X+=Se(_e)?_e.toLowerCase():_e.toUpperCase()}M.push(X)}return o.replaceSelections(M),s.shouldMoveCursor?v:!o.state.vim.visualMode&&s.linewise&&u[0].anchor.line+1==u[0].head.line?we.moveToFirstNonWhiteSpaceCharacter(o,d):s.linewise?d:kt(u[0].anchor,u[0].head)},yank:function(o,s,u,d){var v=o.state.vim,m=o.getSelection(),M=v.visualMode?kt(v.sel.anchor,v.sel.head,u[0].head,u[0].anchor):d;return Ae.registerController.pushText(s.registerName,"yank",m,s.linewise,v.visualBlock),M}};function de(o,s){F[o]=s}var re={jumpListWalk:function(o,s,u){if(!u.visualMode){var d=s.repeat,v=s.forward,m=Ae.jumpList,M=m.move(o,v?d:-d),R=M?M.find():void 0;R=R||o.getCursor(),o.setCursor(R)}},scroll:function(o,s,u){if(!u.visualMode){var d=s.repeat||1,v=o.defaultTextHeight(),m=o.getScrollInfo().top,M=v*d,R=s.forward?m+M:m-M,N=At(o.getCursor()),ee=o.charCoords(N,"local");if(s.forward)R>ee.top?(N.line+=(R-ee.top)/v,N.line=Math.ceil(N.line),o.setCursor(N),ee=o.charCoords(N,"local"),o.scrollTo(null,ee.top)):o.scrollTo(null,R);else{var X=R+o.getScrollInfo().clientHeight;X<ee.bottom?(N.line-=(ee.bottom-X)/v,N.line=Math.floor(N.line),o.setCursor(N),ee=o.charCoords(N,"local"),o.scrollTo(null,ee.bottom-o.getScrollInfo().clientHeight)):o.scrollTo(null,R)}}},scrollToCursor:function(o,s){var u=o.getCursor().line,d=o.charCoords(new g(u,0),"local"),v=o.getScrollInfo().clientHeight,m=d.top,M=d.bottom-m;switch(s.position){case"center":m=m-v/2+M;break;case"bottom":m=m-v+M;break}o.scrollTo(null,m)},replayMacro:function(o,s,u){var d=s.selectedCharacter,v=s.repeat,m=Ae.macroModeState;for(d=="@"?d=m.latestRegister:m.latestRegister=d;v--;)le(o,u,m,d)},enterMacroRecordMode:function(o,s){var u=Ae.macroModeState,d=s.selectedCharacter;Ae.registerController.isValidRegister(d)&&u.enterMacroRecordMode(o,d)},toggleOverwrite:function(o){o.state.overwrite?(o.toggleOverwrite(!1),o.setOption("keyMap","vim-insert"),c.signal(o,"vim-mode-change",{mode:"insert"})):(o.toggleOverwrite(!0),o.setOption("keyMap","vim-replace"),c.signal(o,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(o,s,u){if(!o.getOption("readOnly")){u.insertMode=!0,u.insertModeRepeat=s&&s.repeat||1;var d=s?s.insertAt:null,v=u.sel,m=s.head||o.getCursor("head"),M=o.listSelections().length;if(d=="eol")m=new g(m.line,Pt(o,m.line));else if(d=="bol")m=new g(m.line,0);else if(d=="charAfter")m=xt(m,0,1);else if(d=="firstNonBlank")m=we.moveToFirstNonWhiteSpaceCharacter(o,m);else if(d=="startOfSelectedArea"){if(!u.visualMode)return;u.visualBlock?(m=new g(Math.min(v.head.line,v.anchor.line),Math.min(v.head.ch,v.anchor.ch)),M=Math.abs(v.head.line-v.anchor.line)+1):v.head.line<v.anchor.line?m=v.head:m=new g(v.anchor.line,0)}else if(d=="endOfSelectedArea"){if(!u.visualMode)return;u.visualBlock?(m=new g(Math.min(v.head.line,v.anchor.line),Math.max(v.head.ch,v.anchor.ch)+1),M=Math.abs(v.head.line-v.anchor.line)+1):v.head.line>=v.anchor.line?m=xt(v.head,0,1):m=new g(v.anchor.line,0)}else if(d=="inplace"){if(u.visualMode)return}else d=="lastEdit"&&(m=Xn(o)||m);o.setOption("disableInput",!1),s&&s.replace?(o.toggleOverwrite(!0),o.setOption("keyMap","vim-replace"),c.signal(o,"vim-mode-change",{mode:"replace"})):(o.toggleOverwrite(!1),o.setOption("keyMap","vim-insert"),c.signal(o,"vim-mode-change",{mode:"insert"})),Ae.macroModeState.isPlaying||(o.on("change",Ht),c.on(o.getInputField(),"keydown",ue)),u.visualMode&&$t(o),ur(o,m,M)}},toggleVisualMode:function(o,s,u){var d=s.repeat,v=o.getCursor(),m;u.visualMode?u.visualLine^s.linewise||u.visualBlock^s.blockwise?(u.visualLine=!!s.linewise,u.visualBlock=!!s.blockwise,c.signal(o,"vim-mode-change",{mode:"visual",subMode:u.visualLine?"linewise":u.visualBlock?"blockwise":""}),Wt(o)):$t(o):(u.visualMode=!0,u.visualLine=!!s.linewise,u.visualBlock=!!s.blockwise,m=Ve(o,new g(v.line,v.ch+d-1)),u.sel={anchor:v,head:m},c.signal(o,"vim-mode-change",{mode:"visual",subMode:u.visualLine?"linewise":u.visualBlock?"blockwise":""}),Wt(o),ir(o,u,"<",kt(v,m)),ir(o,u,">",ot(v,m)))},reselectLastSelection:function(o,s,u){var d=u.lastSelection;if(u.visualMode&&It(o,u),d){var v=d.anchorMark.find(),m=d.headMark.find();if(!v||!m)return;u.sel={anchor:v,head:m},u.visualMode=!0,u.visualLine=d.visualLine,u.visualBlock=d.visualBlock,Wt(o),ir(o,u,"<",kt(v,m)),ir(o,u,">",ot(v,m)),c.signal(o,"vim-mode-change",{mode:"visual",subMode:u.visualLine?"linewise":u.visualBlock?"blockwise":""})}},joinLines:function(o,s,u){var d,v;if(u.visualMode){if(d=o.getCursor("anchor"),v=o.getCursor("head"),Mt(v,d)){var m=v;v=d,d=m}v.ch=Pt(o,v.line)-1}else{var M=Math.max(s.repeat,2);d=o.getCursor(),v=Ve(o,new g(d.line+M-1,1/0))}for(var R=0,N=d.line;N<v.line;N++){R=Pt(o,d.line);var m=new g(d.line+1,Pt(o,d.line+1)),ee=o.getRange(d,m);ee=s.keepSpaces?ee.replace(/\n\r?/g,""):ee.replace(/\n\s*/g," "),o.replaceRange(ee,d,m)}var X=new g(d.line,R);u.visualMode&&$t(o,!1),o.setCursor(X)},newLineAndEnterInsertMode:function(o,s,u){u.insertMode=!0;var d=At(o.getCursor());if(d.line===o.firstLine()&&!s.after)o.replaceRange(`
`,new g(o.firstLine(),0)),o.setCursor(o.firstLine(),0);else{d.line=s.after?d.line:d.line-1,d.ch=Pt(o,d.line),o.setCursor(d);var v=c.commands.newlineAndIndentContinueComment||c.commands.newlineAndIndent;v(o)}this.enterInsertMode(o,{repeat:s.repeat},u)},paste:function(o,s,u){var d=At(o.getCursor()),v=Ae.registerController.getRegister(s.registerName),m=v.toString();if(!!m){if(s.matchIndent){var M=o.getOption("tabSize"),R=function(Cr){var On=Cr.split("	").length-1,Fn=Cr.split(" ").length-1;return On*M+Fn*1},N=o.getLine(o.getCursor().line),ee=R(N.match(/^\s*/)[0]),X=m.replace(/\n$/,""),Me=m!==X,_e=R(m.match(/^\s*/)[0]),m=X.replace(/^\s*/gm,function(Cr){var On=ee+(R(Cr)-_e);if(On<0)return"";if(o.getOption("indentWithTabs")){var Fn=Math.floor(On/M);return Array(Fn+1).join("	")}else return Array(On+1).join(" ")});m+=Me?`
`:""}if(s.repeat>1)var m=Array(s.repeat+1).join(m);var Ce=v.linewise,Re=v.blockwise;if(Re){m=m.split(`
`),Ce&&m.pop();for(var tt=0;tt<m.length;tt++)m[tt]=m[tt]==""?" ":m[tt];d.ch+=s.after?1:0,d.ch=Math.min(Pt(o,d.line),d.ch)}else Ce?u.visualMode?m=u.visualLine?m.slice(0,-1):`
`+m.slice(0,m.length-1)+`
`:s.after?(m=`
`+m.slice(0,m.length-1),d.ch=Pt(o,d.line)):d.ch=0:d.ch+=s.after?1:0;var Ue,dt;if(u.visualMode){u.lastPastedText=m;var wt,mt=fn(o,u),Ot=mt[0],ar=mt[1],Zt=o.getSelection(),lr=o.listSelections(),Nt=new Array(lr.length).join("1").split("1");u.lastSelection&&(wt=u.lastSelection.headMark.find()),Ae.registerController.unnamedRegister.setText(Zt),Re?(o.replaceSelections(Nt),ar=new g(Ot.line+m.length-1,Ot.ch),o.setCursor(Ot),zr(o,ar),o.replaceSelections(m),Ue=Ot):u.visualBlock?(o.replaceSelections(Nt),o.setCursor(Ot),o.replaceRange(m,Ot,Ot),Ue=Ot):(o.replaceRange(m,Ot,ar),Ue=o.posFromIndex(o.indexFromPos(Ot)+m.length-1)),wt&&(u.lastSelection.headMark=o.setBookmark(wt)),Ce&&(Ue.ch=0)}else if(Re){o.setCursor(d);for(var tt=0;tt<m.length;tt++){var Tt=d.line+tt;Tt>o.lastLine()&&o.replaceRange(`
`,new g(Tt,0));var kr=Pt(o,Tt);kr<d.ch&&nr(o,Tt,d.ch)}o.setCursor(d),zr(o,new g(d.line+m.length-1,d.ch)),o.replaceSelections(m),Ue=d}else o.replaceRange(m,d),Ce&&s.after?Ue=new g(d.line+1,Tr(o.getLine(d.line+1))):Ce&&!s.after?Ue=new g(d.line,Tr(o.getLine(d.line))):!Ce&&s.after?(dt=o.indexFromPos(d),Ue=o.posFromIndex(dt+m.length-1)):(dt=o.indexFromPos(d),Ue=o.posFromIndex(dt+m.length));u.visualMode&&$t(o,!1),o.setCursor(Ue)}},undo:function(o,s){o.operation(function(){Jt(o,c.commands.undo,s.repeat)(),o.setCursor(o.getCursor("anchor"))})},redo:function(o,s){Jt(o,c.commands.redo,s.repeat)()},setRegister:function(o,s,u){u.inputState.registerName=s.selectedCharacter},setMark:function(o,s,u){var d=s.selectedCharacter;ir(o,u,d,o.getCursor())},replace:function(o,s,u){var d=s.selectedCharacter,v=o.getCursor(),m,M,R=o.listSelections();if(u.visualMode)v=o.getCursor("start"),M=o.getCursor("end");else{var N=o.getLine(v.line);m=v.ch+s.repeat,m>N.length&&(m=N.length),M=new g(v.line,m)}if(d==`
`)u.visualMode||o.replaceRange("",v,M),(c.commands.newlineAndIndentContinueComment||c.commands.newlineAndIndent)(o);else{var ee=o.getRange(v,M);if(ee=ee.replace(/[^\n]/g,d),u.visualBlock){var X=new Array(o.getOption("tabSize")+1).join(" ");ee=o.getSelection(),ee=ee.replace(/\t/g,X).replace(/[^\n]/g,d).split(`
`),o.replaceSelections(ee)}else o.replaceRange(ee,v,M);u.visualMode?(v=Mt(R[0].anchor,R[0].head)?R[0].anchor:R[0].head,o.setCursor(v),$t(o,!1)):o.setCursor(xt(M,0,-1))}},incrementNumberToken:function(o,s){for(var u=o.getCursor(),d=o.getLine(u.line),v=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi,m,M,R,N;(m=v.exec(d))!==null&&(M=m.index,R=M+m[0].length,!(u.ch<R)););if(!(!s.backtrack&&R<=u.ch)){if(m){var ee=m[2]||m[4],X=m[3]||m[5],Me=s.increase?1:-1,_e={"0b":2,"0":8,"":10,"0x":16}[ee.toLowerCase()],Ce=parseInt(m[1]+X,_e)+Me*s.repeat;N=Ce.toString(_e);var Re=ee?new Array(X.length-N.length+1+m[1].length).join("0"):"";N.charAt(0)==="-"?N="-"+ee+Re+N.substr(1):N=ee+Re+N;var tt=new g(u.line,M),Ue=new g(u.line,R);o.replaceRange(N,tt,Ue)}else return;o.setCursor(new g(u.line,M+N.length-1))}},repeatLastEdit:function(o,s,u){var d=u.lastEditInputState;if(!!d){var v=s.repeat;v&&s.repeatIsExplicit?u.lastEditInputState.repeatOverride=v:v=u.lastEditInputState.repeatOverride||v,Pe(o,u,v,!1)}},indent:function(o,s){o.indentLine(o.getCursor().line,s.indentRight)},exitInsertMode:tn};function Ke(o,s){re[o]=s}function Ve(o,s){var u=o.state.vim,d=u.insertMode||u.visualMode,v=Math.min(Math.max(o.firstLine(),s.line),o.lastLine()),m=Pt(o,v)-1+!!d,M=Math.min(Math.max(0,s.ch),m);return new g(v,M)}function vt(o){var s={};for(var u in o)o.hasOwnProperty(u)&&(s[u]=o[u]);return s}function xt(o,s,u){return typeof s=="object"&&(u=s.ch,s=s.line),new g(o.line+s,o.ch+u)}function yt(o,s,u,d){for(var v,m=[],M=[],R=0;R<s.length;R++){var N=s[R];u=="insert"&&N.context!="insert"||N.context&&N.context!=u||d.operator&&N.type=="action"||!(v=gt(o,N.keys))||(v=="partial"&&m.push(N),v=="full"&&M.push(N))}return{partial:m.length&&m,full:M.length&&M}}function gt(o,s){if(s.slice(-11)=="<character>"){var u=s.length-11,d=o.slice(0,u),v=s.slice(0,u);return d==v&&o.length>u?"full":v.indexOf(d)==0?"partial":!1}else return o==s?"full":s.indexOf(o)==0?"partial":!1}function Qt(o){var s=/^.*(<[^>]+>)$/.exec(o),u=s?s[1]:o.slice(-1);if(u.length>1)switch(u){case"<CR>":u=`
`;break;case"<Space>":u=" ";break;default:u="";break}return u}function Jt(o,s,u){return function(){for(var d=0;d<u;d++)s(o)}}function At(o){return new g(o.line,o.ch)}function et(o,s){return o.ch==s.ch&&o.line==s.line}function Mt(o,s){return o.line<s.line||o.line==s.line&&o.ch<s.ch}function kt(o,s){return arguments.length>2&&(s=kt.apply(void 0,Array.prototype.slice.call(arguments,1))),Mt(o,s)?o:s}function ot(o,s){return arguments.length>2&&(s=ot.apply(void 0,Array.prototype.slice.call(arguments,1))),Mt(o,s)?s:o}function Rt(o,s,u){var d=Mt(o,s),v=Mt(s,u);return d&&v}function Pt(o,s){return o.getLine(s).length}function qt(o){return o.trim?o.trim():o.replace(/^\s+|\s+$/g,"")}function rr(o){return o.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function nr(o,s,u){var d=Pt(o,s),v=new Array(u-d+1).join(" ");o.setCursor(new g(s,d)),o.replaceRange(v,o.getCursor())}function zr(o,s){var u=[],d=o.listSelections(),v=At(o.clipPos(s)),m=!et(s,v),M=o.getCursor("head"),R=mn(d,M),N=et(d[R].head,d[R].anchor),ee=d.length-1,X=ee-R>R?ee:0,Me=d[X].anchor,_e=Math.min(Me.line,v.line),Ce=Math.max(Me.line,v.line),Re=Me.ch,tt=v.ch,Ue=d[X].head.ch-Re,dt=tt-Re;Ue>0&&dt<=0?(Re++,m||tt--):Ue<0&&dt>=0?(Re--,N||tt++):Ue<0&&dt==-1&&(Re--,tt++);for(var wt=_e;wt<=Ce;wt++){var mt={anchor:new g(wt,Re),head:new g(wt,tt)};u.push(mt)}return o.setSelections(u),s.ch=tt,Me.ch=Re,Me}function ur(o,s,u){for(var d=[],v=0;v<u;v++){var m=xt(s,v,0);d.push({anchor:m,head:m})}o.setSelections(d,0)}function mn(o,s,u){for(var d=0;d<o.length;d++){var v=u!="head"&&et(o[d].anchor,s),m=u!="anchor"&&et(o[d].head,s);if(v||m)return d}return-1}function fn(o,s){var u=s.lastSelection,d=function(){var m=o.listSelections(),M=m[0],R=m[m.length-1],N=Mt(M.anchor,M.head)?M.anchor:M.head,ee=Mt(R.anchor,R.head)?R.head:R.anchor;return[N,ee]},v=function(){var m=o.getCursor(),M=o.getCursor(),R=u.visualBlock;if(R){var N=R.width,ee=R.height;M=new g(m.line+ee,m.ch+N);for(var X=[],Me=m.line;Me<M.line;Me++){var _e=new g(Me,m.ch),Ce=new g(Me,M.ch),Re={anchor:_e,head:Ce};X.push(Re)}o.setSelections(X)}else{var tt=u.anchorMark.find(),Ue=u.headMark.find(),dt=Ue.line-tt.line,wt=Ue.ch-tt.ch;M={line:M.line+dt,ch:dt?M.ch:wt+M.ch},u.visualLine&&(m=new g(m.line,0),M=new g(M.line,Pt(o,M.line))),o.setSelection(m,M)}return[m,M]};return s.visualMode?d():v()}function It(o,s){var u=s.sel.anchor,d=s.sel.head;s.lastPastedText&&(d=o.posFromIndex(o.indexFromPos(u)+s.lastPastedText.length),s.lastPastedText=null),s.lastSelection={anchorMark:o.setBookmark(u),headMark:o.setBookmark(d),anchor:At(u),head:At(d),visualMode:s.visualMode,visualLine:s.visualLine,visualBlock:s.visualBlock}}function An(o,s,u){var d=o.state.vim.sel,v=d.head,m=d.anchor,M;return Mt(u,s)&&(M=u,u=s,s=M),Mt(v,m)?(v=kt(s,v),m=ot(m,u)):(m=kt(s,m),v=ot(v,u),v=xt(v,0,-1),v.ch==-1&&v.line!=o.firstLine()&&(v=new g(v.line-1,Pt(o,v.line-1)))),[m,v]}function Wt(o,s,v){var d=o.state.vim;s=s||d.sel;var v=v||d.visualLine?"line":d.visualBlock?"block":"char",m=fr(o,s,v);o.setSelections(m.ranges,m.primary)}function fr(o,s,u,d){var v=At(s.head),m=At(s.anchor);if(u=="char"){var M=!d&&!Mt(s.head,s.anchor)?1:0,R=Mt(s.head,s.anchor)?1:0;return v=xt(s.head,0,M),m=xt(s.anchor,0,R),{ranges:[{anchor:m,head:v}],primary:0}}else if(u=="line"){if(Mt(s.head,s.anchor))v.ch=0,m.ch=Pt(o,m.line);else{m.ch=0;var N=o.lastLine();v.line>N&&(v.line=N),v.ch=Pt(o,v.line)}return{ranges:[{anchor:m,head:v}],primary:0}}else if(u=="block"){var ee=Math.min(m.line,v.line),X=m.ch,Me=Math.max(m.line,v.line),_e=v.ch;X<_e?_e+=1:X+=1;for(var Ce=Me-ee+1,Re=v.line==ee?0:Ce-1,tt=[],Ue=0;Ue<Ce;Ue++)tt.push({anchor:new g(ee+Ue,X),head:new g(ee+Ue,_e)});return{ranges:tt,primary:Re}}}function cn(o){var s=o.getCursor("head");return o.getSelection().length==1&&(s=kt(s,o.getCursor("anchor"))),s}function $t(o,s){var u=o.state.vim;s!==!1&&o.setCursor(Ve(o,u.sel.head)),It(o,u),u.visualMode=!1,u.visualLine=!1,u.visualBlock=!1,u.insertMode||c.signal(o,"vim-mode-change",{mode:"normal"})}function Mn(o,s,u){var d=o.getRange(s,u);if(/\n\s*$/.test(d)){var v=d.split(`
`);v.pop();for(var m,m=v.pop();v.length>0&&m&&ke(m);m=v.pop())u.line--,u.ch=0;m?(u.line--,u.ch=Pt(o,u.line)):u.ch=0}}function _n(o,s,u){s.ch=0,u.ch=0,u.line++}function Tr(o){if(!o)return 0;var s=o.search(/\S/);return s==-1?o.length:s}function Qr(o,s,u,d,v){for(var m=cn(o),M=o.getLine(m.line),R=m.ch,N=v?Q[0]:ne[0];!N(M.charAt(R));)if(R++,R>=M.length)return null;d?N=ne[0]:(N=Q[0],N(M.charAt(R))||(N=Q[1]));for(var ee=R,X=R;N(M.charAt(ee))&&ee<M.length;)ee++;for(;N(M.charAt(X))&&X>=0;)X--;if(X++,s){for(var Me=ee;/\s/.test(M.charAt(ee))&&ee<M.length;)ee++;if(Me==ee){for(var _e=X;/\s/.test(M.charAt(X-1))&&X>0;)X--;X||(X=_e)}}return{start:new g(m.line,X),end:new g(m.line,ee)}}function jr(o,s,u){var d=s;if(!c.findMatchingTag||!c.findEnclosingTag)return{start:d,end:d};var v=c.findMatchingTag(o,s)||c.findEnclosingTag(o,s);return!v||!v.open||!v.close?{start:d,end:d}:u?{start:v.open.from,end:v.close.to}:{start:v.open.to,end:v.close.from}}function Dt(o,s,u){et(s,u)||Ae.jumpList.add(o,s,u)}function gr(o,s){Ae.lastCharacterSearch.increment=o,Ae.lastCharacterSearch.forward=s.forward,Ae.lastCharacterSearch.selectedCharacter=s.selectedCharacter}var er={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},Ir={bracket:{isComplete:function(o){if(o.nextCh===o.symb){if(o.depth++,o.depth>=1)return!0}else o.nextCh===o.reverseSymb&&o.depth--;return!1}},section:{init:function(o){o.curMoveThrough=!0,o.symb=(o.forward?"]":"[")===o.symb?"{":"}"},isComplete:function(o){return o.index===0&&o.nextCh===o.symb}},comment:{isComplete:function(o){var s=o.lastCh==="*"&&o.nextCh==="/";return o.lastCh=o.nextCh,s}},method:{init:function(o){o.symb=o.symb==="m"?"{":"}",o.reverseSymb=o.symb==="{"?"}":"{"},isComplete:function(o){return o.nextCh===o.symb}},preprocess:{init:function(o){o.index=0},isComplete:function(o){if(o.nextCh==="#"){var s=o.lineText.match(/^#(\w+)/)[1];if(s==="endif"){if(o.forward&&o.depth===0)return!0;o.depth++}else if(s==="if"){if(!o.forward&&o.depth===0)return!0;o.depth--}if(s==="else"&&o.depth===0)return!0}return!1}}};function hn(o,s,u,d){var v=At(o.getCursor()),m=u?1:-1,M=u?o.lineCount():-1,R=v.ch,N=v.line,ee=o.getLine(N),X={lineText:ee,nextCh:ee.charAt(R),lastCh:null,index:R,symb:d,reverseSymb:(u?{")":"(","}":"{"}:{"(":")","{":"}"})[d],forward:u,depth:0,curMoveThrough:!1},Me=er[d];if(!Me)return v;var _e=Ir[Me].init,Ce=Ir[Me].isComplete;for(_e&&_e(X);N!==M&&s;){if(X.index+=m,X.nextCh=X.lineText.charAt(X.index),!X.nextCh){if(N+=m,X.lineText=o.getLine(N)||"",m>0)X.index=0;else{var Re=X.lineText.length;X.index=Re>0?Re-1:0}X.nextCh=X.lineText.charAt(X.index)}Ce(X)&&(v.line=N,v.ch=X.index,s--)}return X.nextCh||X.curMoveThrough?new g(N,X.index):v}function Zr(o,s,u,d,v){var m=s.line,M=s.ch,R=o.getLine(m),N=u?1:-1,ee=d?ne:Q;if(v&&R==""){if(m+=N,R=o.getLine(m),!Oe(o,m))return null;M=u?0:R.length}for(;;){if(v&&R=="")return{from:0,to:0,line:m};for(var X=N>0?R.length:-1,Me=X,_e=X;M!=X;){for(var Ce=!1,Re=0;Re<ee.length&&!Ce;++Re)if(ee[Re](R.charAt(M))){for(Me=M;M!=X&&ee[Re](R.charAt(M));)M+=N;if(_e=M,Ce=Me!=_e,Me==s.ch&&m==s.line&&_e==Me+N)continue;return{from:Math.min(Me,_e+1),to:Math.max(Me,_e),line:m}}Ce||(M+=N)}if(m+=N,!Oe(o,m))return null;R=o.getLine(m),M=N>0?0:R.length}}function Or(o,s,u,d,v,m){var M=At(s),R=[];(d&&!v||!d&&v)&&u++;for(var N=!(d&&v),ee=0;ee<u;ee++){var X=Zr(o,s,d,m,N);if(!X){var Me=Pt(o,o.lastLine());R.push(d?{line:o.lastLine(),from:Me,to:Me}:{line:0,from:0,to:0});break}R.push(X),s=new g(X.line,d?X.to-1:X.from)}var _e=R.length!=u,Ce=R[0],Re=R.pop();return d&&!v?(!_e&&(Ce.from!=M.ch||Ce.line!=M.line)&&(Re=R.pop()),new g(Re.line,Re.from)):d&&v?new g(Re.line,Re.to-1):!d&&v?(!_e&&(Ce.to!=M.ch||Ce.line!=M.line)&&(Re=R.pop()),new g(Re.line,Re.to)):new g(Re.line,Re.from)}function wr(o,s,u,d,v){var m=s,M=new g(m.line+u.repeat-1,1/0),R=o.clipPos(M);return R.ch--,v||(d.lastHPos=1/0,d.lastHSPos=o.charCoords(R,"div").left),M}function hr(o,s,u,d){for(var v=o.getCursor(),m=v.ch,M,R=0;R<s;R++){var N=o.getLine(v.line);if(M=Bt(m,N,d,u,!0),M==-1)return null;m=M}return new g(o.getCursor().line,M)}function Dr(o,s){var u=o.getCursor().line;return Ve(o,new g(u,s-1))}function ir(o,s,u,d){!ye(u,fe)||(s.marks[u]&&s.marks[u].clear(),s.marks[u]=o.setBookmark(d))}function Bt(o,s,u,d,v){var m;return d?(m=s.indexOf(u,o+1),m!=-1&&!v&&(m-=1)):(m=s.lastIndexOf(u,o-1),m!=-1&&!v&&(m+=1)),m}function at(o,s,u,d,v){var m=s.line,M=o.firstLine(),R=o.lastLine(),N,ee,X=m;function Me(Ue){return!o.getLine(Ue)}function _e(Ue,dt,wt){return wt?Me(Ue)!=Me(Ue+dt):!Me(Ue)&&Me(Ue+dt)}if(d){for(;M<=X&&X<=R&&u>0;)_e(X,d)&&u--,X+=d;return new g(X,0)}var Ce=o.state.vim;if(Ce.visualLine&&_e(m,1,!0)){var Re=Ce.sel.anchor;_e(Re.line,-1,!0)&&(!v||Re.line!=m)&&(m+=1)}var tt=Me(m);for(X=m;X<=R&&u;X++)_e(X,1,!0)&&(!v||Me(X)!=tt)&&u--;for(ee=new g(X,0),X>R&&!tt?tt=!0:v=!1,X=m;X>M&&!((!v||Me(X)==tt||X==m)&&_e(X,-1,!0));X--);return N=new g(X,0),{start:N,end:ee}}function vr(o,s,u,d){function v(N,ee){if(ee.pos+ee.dir<0||ee.pos+ee.dir>=ee.line.length){if(ee.ln+=ee.dir,!Oe(N,ee.ln)){ee.line=null,ee.ln=null,ee.pos=null;return}ee.line=N.getLine(ee.ln),ee.pos=ee.dir>0?0:ee.line.length-1}else ee.pos+=ee.dir}function m(N,ee,X,Me){var Ue=N.getLine(ee),_e=Ue==="",Ce={line:Ue,ln:ee,pos:X,dir:Me},Re={ln:Ce.ln,pos:Ce.pos},tt=Ce.line==="";for(v(N,Ce);Ce.line!==null;){if(Re.ln=Ce.ln,Re.pos=Ce.pos,Ce.line===""&&!tt)return{ln:Ce.ln,pos:Ce.pos};if(_e&&Ce.line!==""&&!ke(Ce.line[Ce.pos]))return{ln:Ce.ln,pos:Ce.pos};ze(Ce.line[Ce.pos])&&!_e&&(Ce.pos===Ce.line.length-1||ke(Ce.line[Ce.pos+1]))&&(_e=!0),v(N,Ce)}var Ue=N.getLine(Re.ln);Re.pos=0;for(var dt=Ue.length-1;dt>=0;--dt)if(!ke(Ue[dt])){Re.pos=dt;break}return Re}function M(N,ee,X,Me){var tt=N.getLine(ee),_e={line:tt,ln:ee,pos:X,dir:Me},Ce={ln:_e.ln,pos:null},Re=_e.line==="";for(v(N,_e);_e.line!==null;){if(_e.line===""&&!Re)return Ce.pos!==null?Ce:{ln:_e.ln,pos:_e.pos};if(ze(_e.line[_e.pos])&&Ce.pos!==null&&!(_e.ln===Ce.ln&&_e.pos+1===Ce.pos))return Ce;_e.line!==""&&!ke(_e.line[_e.pos])&&(Re=!1,Ce={ln:_e.ln,pos:_e.pos}),v(N,_e)}var tt=N.getLine(Ce.ln);Ce.pos=0;for(var Ue=0;Ue<tt.length;++Ue)if(!ke(tt[Ue])){Ce.pos=Ue;break}return Ce}for(var R={ln:s.line,pos:s.ch};u>0;)d<0?R=M(o,R.ln,R.pos,d):R=m(o,R.ln,R.pos,d),u--;return new g(R.ln,R.pos)}function dn(o,s,u,d){var v=s,m,M,R={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/,"<":/[<>]/,">":/[<>]/}[u],N={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{","<":"<",">":"<"}[u],ee=o.getLine(v.line).charAt(v.ch),X=ee===N?1:0;if(m=o.scanForBracket(new g(v.line,v.ch+X),-1,void 0,{bracketRegex:R}),M=o.scanForBracket(new g(v.line,v.ch+X),1,void 0,{bracketRegex:R}),!m||!M)return{start:v,end:v};if(m=m.pos,M=M.pos,m.line==M.line&&m.ch>M.ch||m.line>M.line){var Me=m;m=M,M=Me}return d?M.ch+=1:m.ch+=1,{start:m,end:M}}function mr(o,s,u,d){var v=At(s),m=o.getLine(v.line),M=m.split(""),R,N,ee,X,Me=M.indexOf(u);if(v.ch<Me?v.ch=Me:Me<v.ch&&M[v.ch]==u&&(N=v.ch,--v.ch),M[v.ch]==u&&!N)R=v.ch+1;else for(ee=v.ch;ee>-1&&!R;ee--)M[ee]==u&&(R=ee+1);if(R&&!N)for(ee=R,X=M.length;ee<X&&!N;ee++)M[ee]==u&&(N=ee);return!R||!N?{start:v,end:v}:(d&&(--R,++N),{start:new g(v.line,R),end:new g(v.line,N)})}Qe("pcre",!0,"boolean");function Ct(){}Ct.prototype={getQuery:function(){return Ae.query},setQuery:function(o){Ae.query=o},getOverlay:function(){return this.searchOverlay},setOverlay:function(o){this.searchOverlay=o},isReversed:function(){return Ae.isReversed},setReversed:function(o){Ae.isReversed=o},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(o){this.annotate=o}};function Xt(o){var s=o.state.vim;return s.searchState_||(s.searchState_=new Ct)}function Vr(o){return Ne(o,"/")}function Nr(o){return w(o,"/")}function Ne(o,s){var u=w(o,s)||[];if(!u.length)return[];var d=[];if(u[0]===0){for(var v=0;v<u.length;v++)typeof u[v]=="number"&&d.push(o.substring(u[v]+1,u[v+1]));return d}}function w(o,s){s||(s="/");for(var u=!1,d=[],v=0;v<o.length;v++){var m=o.charAt(v);!u&&m==s&&d.push(v),u=!u&&m=="\\"}return d}function B(o){for(var s="|(){",u="}",d=!1,v=[],m=-1;m<o.length;m++){var M=o.charAt(m)||"",R=o.charAt(m+1)||"",N=R&&s.indexOf(R)!=-1;d?((M!=="\\"||!N)&&v.push(M),d=!1):M==="\\"?(d=!0,R&&u.indexOf(R)!=-1&&(N=!0),(!N||R==="\\")&&v.push(M)):(v.push(M),N&&R!=="\\"&&v.push("\\"))}return v.join("")}var Ee={"\\n":`
`,"\\r":"\r","\\t":"	"};function He(o){for(var s=!1,u=[],d=-1;d<o.length;d++){var v=o.charAt(d)||"",m=o.charAt(d+1)||"";Ee[v+m]?(u.push(Ee[v+m]),d++):s?(u.push(v),s=!1):v==="\\"?(s=!0,A(m)||m==="$"?u.push("$"):m!=="/"&&m!=="\\"&&u.push("\\")):(v==="$"&&u.push("$"),u.push(v),m==="/"&&u.push("\\"))}return u.join("")}var ft={"\\/":"/","\\\\":"\\","\\n":`
`,"\\r":"\r","\\t":"	","\\&":"&"};function St(o){for(var s=new c.StringStream(o),u=[];!s.eol();){for(;s.peek()&&s.peek()!="\\";)u.push(s.next());var d=!1;for(var v in ft)if(s.match(v,!0)){d=!0,u.push(ft[v]);break}d||u.push(s.next())}return u.join("")}function Ze(o,s,u){var d=Ae.registerController.getRegister("/");if(d.setText(o),o instanceof RegExp)return o;var v=Nr(o),m,M;if(!v.length)m=o;else{m=o.substring(0,v[0]);var R=o.substring(v[0]);M=R.indexOf("i")!=-1}if(!m)return null;T("pcre")||(m=B(m)),u&&(s=/^[^A-Z]*$/.test(m));var N=new RegExp(m,s||M?"im":"m");return N}function Kt(o){typeof o=="string"&&(o=document.createElement(o));for(var s,u=1;u<arguments.length;u++)if(!!(s=arguments[u]))if(typeof s!="object"&&(s=document.createTextNode(s)),s.nodeType)o.appendChild(s);else for(var d in s)!Object.prototype.hasOwnProperty.call(s,d)||(d[0]==="$"?o.style[d.slice(1)]=s[d]:o.setAttribute(d,s[d]));return o}function bt(o,s){var u=Kt("pre",{$color:"red",class:"cm-vim-message"},s);o.openNotification?o.openNotification(u,{bottom:!0,duration:5e3}):alert(u.innerText)}function en(o,s){return Kt(document.createDocumentFragment(),Kt("span",{$fontFamily:"monospace",$whiteSpace:"pre"},o,Kt("input",{type:"text",autocorrect:"off",autocapitalize:"off",spellcheck:"false"})),s&&Kt("span",{$color:"#888"},s))}function dr(o,s){var u=en(s.prefix,s.desc);if(o.openDialog)o.openDialog(u,s.onClose,{onKeyDown:s.onKeyDown,onKeyUp:s.onKeyUp,bottom:!0,selectValueOnOpen:!1,value:s.value});else{var d="";typeof s.prefix!="string"&&s.prefix&&(d+=s.prefix.textContent),s.desc&&(d+=" "+s.desc),s.onClose(prompt(d,""))}}function yn(o,s){if(o instanceof RegExp&&s instanceof RegExp){for(var u=["global","multiline","ignoreCase","source"],d=0;d<u.length;d++){var v=u[d];if(o[v]!==s[v])return!1}return!0}return!1}function En(o,s,u,d){if(!!s){var v=Xt(o),m=Ze(s,!!u,!!d);if(!!m)return Pr(o,m),yn(m,v.getQuery())||v.setQuery(m),m}}function xn(o){if(o.source.charAt(0)=="^")var s=!0;return{token:function(u){if(s&&!u.sol()){u.skipToEnd();return}var d=u.match(o,!1);if(d)return d[0].length==0?(u.next(),"searching"):!u.sol()&&(u.backUp(1),!o.exec(u.next()+d[0]))?(u.next(),null):(u.match(o),"searching");for(;!u.eol()&&(u.next(),!u.match(o,!1)););},query:o}}var bn=0;function Pr(o,s){clearTimeout(bn),bn=setTimeout(function(){if(!!o.state.vim){var u=Xt(o),d=u.getOverlay();(!d||s!=d.query)&&(d&&o.removeOverlay(d),d=xn(s),o.addOverlay(d),o.showMatchesOnScrollbar&&(u.getScrollbarAnnotate()&&u.getScrollbarAnnotate().clear(),u.setScrollbarAnnotate(o.showMatchesOnScrollbar(s))),u.setOverlay(d))}},50)}function Wr(o,s,u,d){return d===void 0&&(d=1),o.operation(function(){for(var v=o.getCursor(),m=o.getSearchCursor(u,v),M=0;M<d;M++){var R=m.find(s);if(M==0&&R&&et(m.from(),v)){var N=s?m.from():m.to();R=m.find(s),R&&!R[0]&&et(m.from(),N)&&o.getLine(N.line).length==N.ch&&(R=m.find(s))}if(!R&&(m=o.getSearchCursor(u,s?new g(o.lastLine()):new g(o.firstLine(),0)),!m.find(s)))return}return m.from()})}function Nn(o,s,u,d,v){return d===void 0&&(d=1),o.operation(function(){var m=o.getCursor(),M=o.getSearchCursor(u,m),R=M.find(!s);!v.visualMode&&R&&et(M.from(),m)&&M.find(!s);for(var N=0;N<d;N++)if(R=M.find(s),!R&&(M=o.getSearchCursor(u,s?new g(o.lastLine()):new g(o.firstLine(),0)),!M.find(s)))return;return[M.from(),M.to()]})}function wn(o){var s=Xt(o);o.removeOverlay(Xt(o).getOverlay()),s.setOverlay(null),s.getScrollbarAnnotate()&&(s.getScrollbarAnnotate().clear(),s.setScrollbarAnnotate(null))}function Kr(o,s,u){return typeof o!="number"&&(o=o.line),s instanceof Array?ye(o,s):typeof u=="number"?o>=s&&o<=u:o==s}function kn(o){var s=o.getScrollInfo(),u=6,d=10,v=o.coordsChar({left:0,top:u+s.top},"local"),m=s.clientHeight-d+s.top,M=o.coordsChar({left:0,top:m},"local");return{top:v.line,bottom:M.line}}function $n(o,s,u){if(u=="'"||u=="`")return Ae.jumpList.find(o,-1)||new g(0,0);if(u==".")return Xn(o);var d=s.marks[u];return d&&d.find()}function Xn(o){for(var s=o.doc.history.done,u=s.length;u--;)if(s[u].changes)return At(s[u].changes[0].to)}var Yn=function(){this.buildCommandMap_()};Yn.prototype={processCommand:function(o,s,u){var d=this;o.operation(function(){o.curOp.isVimOp=!0,d._processCommand(o,s,u)})},_processCommand:function(o,s,u){var d=o.state.vim,v=Ae.registerController.getRegister(":"),m=v.toString();d.visualMode&&$t(o);var M=new c.StringStream(s);v.setText(s);var R=u||{};R.input=s;try{this.parseInput_(o,M,R)}catch(Me){throw bt(o,Me.toString()),Me}var N,ee;if(!R.commandName)R.line!==void 0&&(ee="move");else if(N=this.matchCommand_(R.commandName),N){if(ee=N.name,N.excludeFromCommandHistory&&v.setText(m),this.parseCommandArgs_(M,R,N),N.type=="exToKey"){for(var X=0;X<N.toKeys.length;X++)$e.handleKey(o,N.toKeys[X],"mapping");return}else if(N.type=="exToEx"){this.processCommand(o,N.toInput);return}}if(!ee){bt(o,'Not an editor command ":'+s+'"');return}try{yr[ee](o,R),(!N||!N.possiblyAsync)&&R.callback&&R.callback()}catch(Me){throw bt(o,Me.toString()),Me}},parseInput_:function(o,s,u){s.eatWhile(":"),s.eat("%")?(u.line=o.firstLine(),u.lineEnd=o.lastLine()):(u.line=this.parseLineSpec_(o,s),u.line!==void 0&&s.eat(",")&&(u.lineEnd=this.parseLineSpec_(o,s)));var d=s.match(/^(\w+|!!|@@|[!#&*<=>@~])/);return d?u.commandName=d[1]:u.commandName=s.match(/.*/)[0],u},parseLineSpec_:function(o,s){var u=s.match(/^(\d+)/);if(u)return parseInt(u[1],10)-1;switch(s.next()){case".":return this.parseLineSpecOffset_(s,o.getCursor().line);case"$":return this.parseLineSpecOffset_(s,o.lastLine());case"'":var d=s.next(),v=$n(o,o.state.vim,d);if(!v)throw new Error("Mark not set");return this.parseLineSpecOffset_(s,v.line);case"-":case"+":return s.backUp(1),this.parseLineSpecOffset_(s,o.getCursor().line);default:s.backUp(1);return}},parseLineSpecOffset_:function(o,s){var u=o.match(/^([+-])?(\d+)/);if(u){var d=parseInt(u[2],10);u[1]=="-"?s-=d:s+=d}return s},parseCommandArgs_:function(o,s,u){if(!o.eol()){s.argString=o.match(/.*/)[0];var d=u.argDelimiter||/\s+/,v=qt(s.argString).split(d);v.length&&v[0]&&(s.args=v)}},matchCommand_:function(o){for(var s=o.length;s>0;s--){var u=o.substring(0,s);if(this.commandMap_[u]){var d=this.commandMap_[u];if(d.name.indexOf(o)===0)return d}}return null},buildCommandMap_:function(){this.commandMap_={};for(var o=0;o<C.length;o++){var s=C[o],u=s.shortName||s.name;this.commandMap_[u]=s}},map:function(o,s,u){if(o!=":"&&o.charAt(0)==":"){if(u)throw Error("Mode not supported for ex mappings");var d=o.substring(1);s!=":"&&s.charAt(0)==":"?this.commandMap_[d]={name:d,type:"exToEx",toInput:s.substring(1),user:!0}:this.commandMap_[d]={name:d,type:"exToKey",toKeys:s,user:!0}}else if(s!=":"&&s.charAt(0)==":"){var v={keys:o,type:"keyToEx",exArgs:{input:s.substring(1)}};u&&(v.context=u),k.unshift(v)}else{var v={keys:o,type:"keyToKey",toKeys:s};u&&(v.context=u),k.unshift(v)}},unmap:function(o,s){if(o!=":"&&o.charAt(0)==":"){if(s)throw Error("Mode not supported for ex mappings");var u=o.substring(1);if(this.commandMap_[u]&&this.commandMap_[u].user)return delete this.commandMap_[u],!0}else for(var d=o,v=0;v<k.length;v++)if(d==k[v].keys&&k[v].context===s)return k.splice(v,1),!0}};var yr={colorscheme:function(o,s){if(!s.args||s.args.length<1){bt(o,o.getOption("theme"));return}o.setOption("theme",s.args[0])},map:function(o,s,u){var d=s.args;if(!d||d.length<2){o&&bt(o,"Invalid mapping: "+s.input);return}or.map(d[0],d[1],u)},imap:function(o,s){this.map(o,s,"insert")},nmap:function(o,s){this.map(o,s,"normal")},vmap:function(o,s){this.map(o,s,"visual")},unmap:function(o,s,u){var d=s.args;(!d||d.length<1||!or.unmap(d[0],u))&&o&&bt(o,"No such mapping: "+s.input)},move:function(o,s){De.processCommand(o,o.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:s.line+1})},set:function(o,s){var u=s.args,d=s.setCfg||{};if(!u||u.length<1){o&&bt(o,"Invalid mapping: "+s.input);return}var v=u[0].split("="),m=v[0],M=v[1],R=!1;if(m.charAt(m.length-1)=="?"){if(M)throw Error("Trailing characters: "+s.argString);m=m.substring(0,m.length-1),R=!0}M===void 0&&m.substring(0,2)=="no"&&(m=m.substring(2),M=!1);var N=Be[m]&&Be[m].type=="boolean";if(N&&M==null&&(M=!0),!N&&M===void 0||R){var ee=T(m,o,d);ee instanceof Error?bt(o,ee.message):ee===!0||ee===!1?bt(o," "+(ee?"":"no")+m):bt(o,"  "+m+"="+ee)}else{var X=W(m,M,o,d);X instanceof Error&&bt(o,X.message)}},setlocal:function(o,s){s.setCfg={scope:"local"},this.set(o,s)},setglobal:function(o,s){s.setCfg={scope:"global"},this.set(o,s)},registers:function(o,s){var u=s.args,d=Ae.registerController.registers,v=`----------Registers----------

`;if(u){var m;u=u.join("");for(var R=0;R<u.length;R++)if(m=u.charAt(R),!!Ae.registerController.isValidRegister(m)){var N=d[m]||new Z;v+='"'+m+"    "+N.toString()+`
`}}else for(var m in d){var M=d[m].toString();M.length&&(v+='"'+m+"    "+M+`
`)}bt(o,v)},sort:function(o,s){var u,d,v,m,M;function R(){if(s.argString){var Nt=new c.StringStream(s.argString);if(Nt.eat("!")&&(u=!0),Nt.eol())return;if(!Nt.eatSpace())return"Invalid arguments";var Tt=Nt.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!Tt&&!Nt.eol())return"Invalid arguments";if(Tt[1]){d=Tt[1].indexOf("i")!=-1,v=Tt[1].indexOf("u")!=-1;var kr=Tt[1].indexOf("d")!=-1||Tt[1].indexOf("n")!=-1&&1,qr=Tt[1].indexOf("x")!=-1&&1,Cr=Tt[1].indexOf("o")!=-1&&1;if(kr+qr+Cr>1)return"Invalid arguments";m=kr&&"decimal"||qr&&"hex"||Cr&&"octal"}Tt[2]&&(M=new RegExp(Tt[2].substr(1,Tt[2].length-2),d?"i":""))}}var N=R();if(N){bt(o,N+": "+s.argString);return}var ee=s.line||o.firstLine(),X=s.lineEnd||s.line||o.lastLine();if(ee==X)return;var Me=new g(ee,0),_e=new g(X,Pt(o,X)),Ce=o.getRange(Me,_e).split(`
`),Re=M||(m=="decimal"?/(-?)([\d]+)/:m=="hex"?/(-?)(?:0x)?([0-9a-f]+)/i:m=="octal"?/([0-7]+)/:null),tt=m=="decimal"?10:m=="hex"?16:m=="octal"?8:null,Ue=[],dt=[];if(m||M)for(var wt=0;wt<Ce.length;wt++){var mt=M?Ce[wt].match(M):null;mt&&mt[0]!=""?Ue.push(mt):!M&&Re.exec(Ce[wt])?Ue.push(Ce[wt]):dt.push(Ce[wt])}else dt=Ce;function Ot(Nt,Tt){if(u){var kr;kr=Nt,Nt=Tt,Tt=kr}d&&(Nt=Nt.toLowerCase(),Tt=Tt.toLowerCase());var qr=m&&Re.exec(Nt),Cr=m&&Re.exec(Tt);return qr?(qr=parseInt((qr[1]+qr[2]).toLowerCase(),tt),Cr=parseInt((Cr[1]+Cr[2]).toLowerCase(),tt),qr-Cr):Nt<Tt?-1:1}function ar(Nt,Tt){if(u){var kr;kr=Nt,Nt=Tt,Tt=kr}return d&&(Nt[0]=Nt[0].toLowerCase(),Tt[0]=Tt[0].toLowerCase()),Nt[0]<Tt[0]?-1:1}if(Ue.sort(M?ar:Ot),M)for(var wt=0;wt<Ue.length;wt++)Ue[wt]=Ue[wt].input;else m||dt.sort(Ot);if(Ce=u?Ue.concat(dt):dt.concat(Ue),v){var Zt=Ce,lr;Ce=[];for(var wt=0;wt<Zt.length;wt++)Zt[wt]!=lr&&Ce.push(Zt[wt]),lr=Zt[wt]}o.replaceRange(Ce.join(`
`),Me,_e)},vglobal:function(o,s){this.global(o,s)},global:function(o,s){var u=s.argString;if(!u){bt(o,"Regular Expression missing from global");return}var d=s.commandName[0]==="v",v=s.line!==void 0?s.line:o.firstLine(),m=s.lineEnd||s.line||o.lastLine(),M=Vr(u),R=u,N;if(M.length&&(R=M[0],N=M.slice(1,M.length).join("/")),R)try{En(o,R,!0,!0)}catch{bt(o,"Invalid regex: "+R);return}for(var ee=Xt(o).getQuery(),X=[],Me=v;Me<=m;Me++){var _e=o.getLineHandle(Me),Ce=ee.test(_e.text);Ce!==d&&X.push(N?_e:_e.text)}if(!N){bt(o,X.join(`
`));return}var Re=0,tt=function(){if(Re<X.length){var Ue=X[Re++],dt=o.getLineNumber(Ue);if(dt==null){tt();return}var wt=dt+1+N;or.processCommand(o,wt,{callback:tt})}};tt()},substitute:function(o,s){if(!o.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var u=s.argString,d=u?Ne(u,u[0]):[],v,m="",M,R,N,ee=!1,X=!1;if(d.length)v=d[0],T("pcre")&&v!==""&&(v=new RegExp(v).source),m=d[1],m!==void 0&&(T("pcre")?m=St(m.replace(/([^\\])&/g,"$1$$&")):m=He(m),Ae.lastSubstituteReplacePart=m),M=d[2]?d[2].split(" "):[];else if(u&&u.length){bt(o,"Substitutions should be of the form :s/pattern/replace/");return}if(M&&(R=M[0],N=parseInt(M[1]),R&&(R.indexOf("c")!=-1&&(ee=!0),R.indexOf("g")!=-1&&(X=!0),T("pcre")?v=v+"/"+R:v=v.replace(/\//g,"\\/")+"/"+R)),v)try{En(o,v,!0,!0)}catch{bt(o,"Invalid regex: "+v);return}if(m=m||Ae.lastSubstituteReplacePart,m===void 0){bt(o,"No previous substitute regular expression");return}var Me=Xt(o),_e=Me.getQuery(),Ce=s.line!==void 0?s.line:o.getCursor().line,Re=s.lineEnd||Ce;Ce==o.firstLine()&&Re==o.lastLine()&&(Re=1/0),N&&(Ce=Re,Re=Ce+N-1);var tt=Ve(o,new g(Ce,0)),Ue=o.getSearchCursor(_e,tt);oi(o,ee,X,Ce,Re,Ue,_e,m,s.callback)},redo:c.commands.redo,undo:c.commands.undo,write:function(o){c.commands.save?c.commands.save(o):o.save&&o.save()},nohlsearch:function(o){wn(o)},yank:function(o){var s=At(o.getCursor()),u=s.line,d=o.getLine(u);Ae.registerController.pushText("0","yank",d,!0,!0)},delmarks:function(o,s){if(!s.argString||!qt(s.argString)){bt(o,"Argument required");return}for(var u=o.state.vim,d=new c.StringStream(qt(s.argString));!d.eol();){d.eatSpace();var v=d.pos;if(!d.match(/[a-zA-Z]/,!1)){bt(o,"Invalid argument: "+s.argString.substring(v));return}var m=d.next();if(d.match("-",!0)){if(!d.match(/[a-zA-Z]/,!1)){bt(o,"Invalid argument: "+s.argString.substring(v));return}var M=m,R=d.next();if(J(M)&&J(R)||Se(M)&&Se(R)){var N=M.charCodeAt(0),ee=R.charCodeAt(0);if(N>=ee){bt(o,"Invalid argument: "+s.argString.substring(v));return}for(var X=0;X<=ee-N;X++){var Me=String.fromCharCode(N+X);delete u.marks[Me]}}else{bt(o,"Invalid argument: "+M+"-");return}}else delete u.marks[m]}}},or=new Yn;function oi(o,s,u,d,v,m,M,R,N){o.state.vim.exMode=!0;var ee=!1,X,Me,_e;function Ce(){o.operation(function(){for(;!ee;)Re(),Ue();dt()})}function Re(){var mt=o.getRange(m.from(),m.to()),Ot=mt.replace(M,R),ar=m.to().line;m.replace(Ot),Me=m.to().line,v+=Me-ar,_e=Me<ar}function tt(){var mt=X&&At(m.to()),Ot=m.findNext();return Ot&&!Ot[0]&&mt&&et(m.from(),mt)&&(Ot=m.findNext()),Ot}function Ue(){for(;tt()&&Kr(m.from(),d,v);)if(!(!u&&m.from().line==Me&&!_e)){o.scrollIntoView(m.from(),30),o.setSelection(m.from(),m.to()),X=m.from(),ee=!1;return}ee=!0}function dt(mt){if(mt&&mt(),o.focus(),X){o.setCursor(X);var Ot=o.state.vim;Ot.exMode=!1,Ot.lastHPos=Ot.lastHSPos=X.ch}N&&N()}function wt(mt,Ot,ar){c.e_stop(mt);var Zt=c.keyName(mt);switch(Zt){case"Y":Re(),Ue();break;case"N":Ue();break;case"A":var lr=N;N=void 0,o.operation(Ce),N=lr;break;case"L":Re();case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":dt(ar);break}return ee&&dt(ar),!0}if(Ue(),ee){bt(o,"No matches for "+M.source);return}if(!s){Ce(),N&&N();return}dr(o,{prefix:Kt("span","replace with ",Kt("strong",R)," (y/n/a/q/l)"),onKeyDown:wt})}c.keyMap.vim={attach:D,detach:V,call:G};function tn(o){var s=o.state.vim,u=Ae.macroModeState,d=Ae.registerController.getRegister("."),v=u.isPlaying,m=u.lastInsertModeChanges;v||(o.off("change",Ht),c.off(o.getInputField(),"keydown",ue)),!v&&s.insertModeRepeat>1&&(Pe(o,s,s.insertModeRepeat-1,!0),s.lastEditInputState.repeatOverride=s.insertModeRepeat),delete s.insertModeRepeat,s.insertMode=!1,o.setCursor(o.getCursor().line,o.getCursor().ch-1),o.setOption("keyMap","vim"),o.setOption("disableInput",!0),o.toggleOverwrite(!1),d.setText(m.changes.join("")),c.signal(o,"vim-mode-change",{mode:"normal"}),u.isRecording&&lt(u)}function Ur(o){k.unshift(o)}function wi(o,s,u,d,v){var m={keys:o,type:s};m[s]=u,m[s+"Args"]=d;for(var M in v)m[M]=v[M];Ur(m)}Qe("insertModeEscKeysTimeout",200,"number"),c.keyMap["vim-insert"]={fallthrough:["default"],attach:D,detach:V,call:G},c.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"],attach:D,detach:V,call:G};function le(o,s,u,d){var v=Ae.registerController.getRegister(d);if(d==":"){v.keyBuffer[0]&&or.processCommand(o,v.keyBuffer[0]),u.isPlaying=!1;return}var m=v.keyBuffer,M=0;u.isPlaying=!0,u.replaySearchQueries=v.searchQueries.slice(0);for(var R=0;R<m.length;R++)for(var N=m[R],ee,X;N;)if(ee=/<\w+-.+?>|<\w+>|./.exec(N),X=ee[0],N=N.substring(ee.index+X.length),$e.handleKey(o,X,"macro"),s.insertMode){var Me=v.insertModeChanges[M++].changes;Ae.macroModeState.lastInsertModeChanges.changes=Me,We(o,Me,1),tn(o)}u.isPlaying=!1}function ut(o,s){if(!o.isPlaying){var u=o.latestRegister,d=Ae.registerController.getRegister(u);d&&d.pushText(s)}}function lt(o){if(!o.isPlaying){var s=o.latestRegister,u=Ae.registerController.getRegister(s);u&&u.pushInsertModeChanges&&u.pushInsertModeChanges(o.lastInsertModeChanges)}}function Et(o,s){if(!o.isPlaying){var u=o.latestRegister,d=Ae.registerController.getRegister(u);d&&d.pushSearchQuery&&d.pushSearchQuery(s)}}function Ht(o,s){var u=Ae.macroModeState,d=u.lastInsertModeChanges;if(!u.isPlaying)for(;s;){if(d.expectCursorActivityForChange=!0,d.ignoreCount>1)d.ignoreCount--;else if(s.origin=="+input"||s.origin=="paste"||s.origin===void 0){var v=o.listSelections().length;v>1&&(d.ignoreCount=v);var m=s.text.join(`
`);d.maybeReset&&(d.changes=[],d.maybeReset=!1),m&&(o.state.overwrite&&!/\n/.test(m)?d.changes.push([m]):d.changes.push(m))}s=s.next}}function I(o){var s=o.state.vim;if(s.insertMode){var u=Ae.macroModeState;if(u.isPlaying)return;var d=u.lastInsertModeChanges;d.expectCursorActivityForChange?d.expectCursorActivityForChange=!1:d.maybeReset=!0}else o.curOp.isVimOp||L(o,s)}function L(o,s){var u=o.getCursor("anchor"),d=o.getCursor("head");if(s.visualMode&&!o.somethingSelected()?$t(o,!1):!s.visualMode&&!s.insertMode&&o.somethingSelected()&&(s.visualMode=!0,s.visualLine=!1,c.signal(o,"vim-mode-change",{mode:"visual"})),s.visualMode){var v=Mt(d,u)?0:-1,m=Mt(d,u)?-1:0;d=xt(d,0,v),u=xt(u,0,m),s.sel={anchor:u,head:d},ir(o,s,"<",kt(d,u)),ir(o,s,">",ot(d,u))}else s.insertMode||(s.lastHPos=o.getCursor().ch)}function q(o){this.keyName=o}function ue(o){var s=Ae.macroModeState,u=s.lastInsertModeChanges,d=c.keyName(o);if(!d)return;function v(){return u.maybeReset&&(u.changes=[],u.maybeReset=!1),u.changes.push(new q(d)),!0}(d.indexOf("Delete")!=-1||d.indexOf("Backspace")!=-1)&&c.lookupKey(d,"vim-insert",v)}function Pe(o,s,u,d){var v=Ae.macroModeState;v.isPlaying=!0;var m=!!s.lastEditActionCommand,M=s.inputState;function R(){m?De.processAction(o,s,s.lastEditActionCommand):De.evalInput(o,s)}function N(X){if(v.lastInsertModeChanges.changes.length>0){X=s.lastEditActionCommand?X:1;var Me=v.lastInsertModeChanges;We(o,Me.changes,X)}}if(s.inputState=s.lastEditInputState,m&&s.lastEditActionCommand.interlaceInsertRepeat)for(var ee=0;ee<u;ee++)R(),N(1);else d||R(),N(u);s.inputState=M,s.insertMode&&!d&&tn(o),v.isPlaying=!1}function We(o,s,u){function d(Me){return typeof Me=="string"?c.commands[Me](o):Me(o),!0}var v=o.getCursor("head"),m=Ae.macroModeState.lastInsertModeChanges.visualBlock;m&&(ur(o,v,m+1),u=o.listSelections().length,o.setCursor(v));for(var M=0;M<u;M++){m&&o.setCursor(xt(v,M,0));for(var R=0;R<s.length;R++){var N=s[R];if(N instanceof q)c.lookupKey(N.keyName,"vim-insert",d);else if(typeof N=="string")o.replaceSelection(N);else{var ee=o.getCursor(),X=xt(ee,0,N[0].length);o.replaceRange(N[0],ee,X),o.setCursor(X)}}}m&&o.setCursor(xt(v,0,1))}return ht(),$e};c.Vim=S()})})();export{Rg as a,Pg as b,Ln as c,Ng as d,Bg as e,ac as o};
